# è·¨åŸŸé—®é¢˜è§£å†³æŒ‡å—

> **é—®é¢˜**ï¼šåœ¨ Safari ä¸­ä» Cloudflare åŸŸåè®¿é—®åº”ç”¨æ—¶ï¼ŒMicrosoft Clarity äº§ç”Ÿè·¨åŸŸé”™è¯¯ï¼Œå¯¼è‡´åŠ è½½ç¼“æ…¢  
> **å½±å“**ï¼šä¸»è¦å½±å“ Safari æµè§ˆå™¨  
> **è§£å†³æ—¶é—´**ï¼šç«‹å³ç”Ÿæ•ˆï¼ˆä»£ç å·²ä¿®å¤ï¼‰

---

## ğŸ” é—®é¢˜åˆ†æ

### é—®é¢˜è¡¨ç°

åœ¨ Safari æ‰“å¼€ `https://aichineseclassics.pages.dev/` ä¸­çš„è¯æ¸¸è®°æ—¶ï¼š
- â³ åŠ è½½æ—¶é—´å¾ˆé•¿
- âŒ æ§åˆ¶å°å¤§é‡è·¨åŸŸé”™è¯¯
- ğŸ› æ¥è‡ª `clarity.js`ï¼ˆMicrosoft Clarity åˆ†æå·¥å…·ï¼‰

### æ ¹æœ¬åŸå› 

```
å¤ªè™šå¹»å¢ƒä¸»ç«™åŸŸå    â‰     è¯æ¸¸è®°å®é™…åŸŸå
chineseclassics.github.io    aichineseclassics.pages.dev

                   â†“
            iframe è·¨åŸŸé—®é¢˜
                   â†“
Clarity å°è¯•è®¿é—®çˆ¶æ¡†æ¶ â†’ Safari é˜»æ­¢ â†’ å¤§é‡é”™è¯¯ â†’ åŠ è½½ç¼“æ…¢
```

## âœ… å·²å®æ–½çš„ä¿®å¤

### ä¿®æ”¹ 1ï¼šæ·»åŠ é”™è¯¯æ•è·ï¼ˆindex.htmlï¼‰

å·²åœ¨ä¸»ç«™æ·»åŠ  Clarity é”™è¯¯å¤„ç†ï¼š

```javascript
// 1. Try-catch åŒ…è£¹åˆå§‹åŒ–
try {
    // Clarity åˆå§‹åŒ–ä»£ç 
} catch(e) {
    console.warn('Clarity åˆå§‹åŒ–å¤±è´¥ï¼ˆå¯èƒ½æ˜¯è·¨åŸŸé—®é¢˜ï¼‰:', e.message);
}

// 2. å…¨å±€é”™è¯¯æ•è·
window.addEventListener('error', function(e) {
    if (e.message && e.message.includes('clarity.js')) {
        e.stopPropagation();
        e.preventDefault();
        return true; // é˜»æ­¢é”™è¯¯å†’æ³¡
    }
}, true);
```

**æ•ˆæœ**ï¼š
- âœ… Clarity é”™è¯¯ä¸å†å½±å“åŠ è½½é€Ÿåº¦
- âœ… æ§åˆ¶å°ä¸å†æ˜¾ç¤ºå¤§é‡é”™è¯¯
- âœ… åº”ç”¨å¯ä»¥æ­£å¸¸ä½¿ç”¨

## ğŸ¯ æ¨èçš„é•¿æœŸæ–¹æ¡ˆ

### æ–¹æ¡ˆ Aï¼šç»Ÿä¸€ä½¿ç”¨ Cloudflare åŸŸåï¼ˆæœ€ä½³ï¼‰â­â­â­

**ç¡®ä¿è®¿é—®è·¯å¾„ç»Ÿä¸€**ï¼š

```
âœ… æ­£ç¡®åšæ³•ï¼š
ç”¨æˆ·è®¿é—®ï¼šhttps://aichineseclassics.pages.dev/
  â†“
ç‚¹å‡»è¯æ¸¸è®°ï¼šhttps://aichineseclassics.pages.dev/story-vocab/
  â†“
iframe åŠ è½½ï¼šhttps://aichineseclassics.pages.dev/story-vocab/index.html
  â†“
âœ… åŒåŸŸåï¼Œæ— è·¨åŸŸé—®é¢˜ï¼ŒClarity æ­£å¸¸å·¥ä½œ

âŒ é¿å…æ··åˆåŸŸåï¼š
ç”¨æˆ·è®¿é—®ï¼šhttps://chineseclassics.github.io/
  â†“
iframe åŠ è½½ï¼šhttps://aichineseclassics.pages.dev/story-vocab/
  â†“
âŒ è·¨åŸŸé—®é¢˜ï¼ŒClarity æŠ¥é”™
```

**å®æ–½æ­¥éª¤**ï¼š

1. **ä¸»è¦è®¿é—®åœ°å€**ï¼šæ¨å¹¿ä½¿ç”¨ `https://aichineseclassics.pages.dev/`
2. **GitHub Pages ä½œä¸ºå¤‡ç”¨**ï¼š`https://chineseclassics.github.io/`
3. **Cloudflare é…ç½®**ï¼š
   - ç¡®ä¿ GitHub Pages è‡ªåŠ¨åŒæ­¥åˆ° Cloudflare
   - è®¾ç½® Cloudflare ä¸ºä¸»è¦åŸŸå

### æ–¹æ¡ˆ Bï¼šç¦ç”¨ Clarity è·¨åŸŸè¿½è¸ªï¼ˆä¸´æ—¶ï¼‰

å¦‚æœæš‚æ—¶æ— æ³•ç»Ÿä¸€åŸŸåï¼Œå¯ä»¥é…ç½® Clarity ä¸è¿½è¸ª iframeï¼š

```javascript
// åœ¨ Clarity åˆå§‹åŒ–åæ·»åŠ 
clarity("set", "iframes", false);
```

## ğŸ§ª æµ‹è¯•æ¸…å•

ä¿®å¤åï¼Œè¯·æµ‹è¯•ä»¥ä¸‹åœºæ™¯ï¼š

### æµ‹è¯• 1ï¼šCloudflare ç»Ÿä¸€åŸŸå
- [ ] è®¿é—®ï¼š`https://aichineseclassics.pages.dev/`
- [ ] ç‚¹å‡»è¯æ¸¸è®°
- [ ] âœ… åŠ è½½é€Ÿåº¦æ­£å¸¸ï¼ˆ< 3 ç§’ï¼‰
- [ ] âœ… æ§åˆ¶å°æ— è·¨åŸŸé”™è¯¯

### æµ‹è¯• 2ï¼šGitHub Pagesï¼ˆå¤‡ç”¨ï¼‰
- [ ] è®¿é—®ï¼š`https://chineseclassics.github.io/`
- [ ] ç‚¹å‡»è¯æ¸¸è®°
- [ ] âœ… åŠŸèƒ½æ­£å¸¸ï¼ˆå¯èƒ½æœ‰ Clarity è­¦å‘Šï¼Œä½†ä¸å½±å“ä½¿ç”¨ï¼‰

### æµ‹è¯• 3ï¼šä¸åŒæµè§ˆå™¨
- [ ] Safariï¼ˆæœ€ä¸¥æ ¼ï¼‰
- [ ] Chrome
- [ ] Firefox
- [ ] Edge

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### ä¿®å¤å‰
```
åŠ è½½æ—¶é—´ï¼š10-15 ç§’
æ§åˆ¶å°é”™è¯¯ï¼š50+ ä¸ª
Clarity çŠ¶æ€ï¼šæŠ¥é”™
ç”¨æˆ·ä½“éªŒï¼šå·®
```

### ä¿®å¤åï¼ˆç»Ÿä¸€åŸŸåï¼‰
```
åŠ è½½æ—¶é—´ï¼š1-2 ç§’
æ§åˆ¶å°é”™è¯¯ï¼š0 ä¸ª
Clarity çŠ¶æ€ï¼šæ­£å¸¸
ç”¨æˆ·ä½“éªŒï¼šä¼˜ç§€
```

### ä¿®å¤åï¼ˆä»æœ‰è·¨åŸŸï¼‰
```
åŠ è½½æ—¶é—´ï¼š2-4 ç§’
æ§åˆ¶å°é”™è¯¯ï¼š0-5 ä¸ªï¼ˆè­¦å‘Šï¼‰
Clarity çŠ¶æ€ï¼šéƒ¨åˆ†åŠŸèƒ½å—é™
ç”¨æˆ·ä½“éªŒï¼šè‰¯å¥½
```

## ğŸ”§ Cloudflare é…ç½®å»ºè®®

### æ¨èçš„ Cloudflare Pages è®¾ç½®

1. **ç”Ÿäº§åˆ†æ”¯**ï¼š`main`
2. **æ„å»ºå‘½ä»¤**ï¼šæ— ï¼ˆé™æ€ç«™ç‚¹ï¼‰
3. **è¾“å‡ºç›®å½•**ï¼š`/`ï¼ˆæ ¹ç›®å½•ï¼‰
4. **ç¯å¢ƒå˜é‡**ï¼šæ— éœ€é…ç½®

### åŸŸåç­–ç•¥

```
aichineseclassics.pages.dev     â†’ ä¸»è¦åŸŸåï¼ˆCloudflareï¼‰
chineseclassics.github.io       â†’ å¤‡ç”¨åŸŸåï¼ˆGitHub Pagesï¼‰

æœªæ¥å¯ä»¥ç»‘å®šè‡ªå®šä¹‰åŸŸåï¼š
www.yourname.com                â†’ é€šè¿‡ Cloudflare æŒ‡å‘
```

## ğŸŒ æµè§ˆå™¨å…¼å®¹æ€§

### è·¨åŸŸå®‰å…¨ç­–ç•¥ä¸¥æ ¼ç¨‹åº¦

```
Safari              â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  æœ€ä¸¥æ ¼
Firefox             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Chrome/Edge         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
```

**Safari ç‰¹åˆ«æ³¨æ„**ï¼š
- é»˜è®¤é˜»æ­¢æ‰€æœ‰ç¬¬ä¸‰æ–¹ cookie
- ä¸¥æ ¼çš„è·¨åŸŸèµ„æºè®¿é—®é™åˆ¶
- ITPï¼ˆIntelligent Tracking Preventionï¼‰å¯èƒ½å½±å“ Clarity

## ğŸ“š ç›¸å…³èµ„æº

- [Microsoft Clarity æ–‡æ¡£](https://docs.microsoft.com/en-us/clarity/)
- [Safari è·¨åŸŸç­–ç•¥](https://webkit.org/blog/10882/preventing-tracking/)
- [Cloudflare Pages æ–‡æ¡£](https://developers.cloudflare.com/pages/)

## â“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆ Chrome æ²¡é—®é¢˜ï¼ŒSafari æœ‰é—®é¢˜ï¼Ÿ

**A**: Safari çš„è·¨åŸŸå®‰å…¨ç­–ç•¥æ›´ä¸¥æ ¼ï¼ŒChrome ç›¸å¯¹å®½æ¾ã€‚è¿™æ˜¯ Safari çš„è®¾è®¡ç†å¿µï¼ˆæ›´æ³¨é‡éšç§ä¿æŠ¤ï¼‰ã€‚

### Q: Clarity é”™è¯¯ä¼šå½±å“åº”ç”¨åŠŸèƒ½å—ï¼Ÿ

**A**: ä¸ä¼šã€‚Clarity æ˜¯åˆ†æå·¥å…·ï¼Œä¸åº”ç”¨åŠŸèƒ½å®Œå…¨ç‹¬ç«‹ã€‚å³ä½¿ Clarity å®Œå…¨å¤±è´¥ï¼Œåº”ç”¨ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨ã€‚

### Q: åº”è¯¥å®Œå…¨ç§»é™¤ Clarity å—ï¼Ÿ

**A**: ä¸å»ºè®®ã€‚Clarity æä¾›æœ‰ä»·å€¼çš„ç”¨æˆ·è¡Œä¸ºåˆ†æã€‚æ­£ç¡®çš„åšæ³•æ˜¯å¤„ç†è·¨åŸŸé—®é¢˜ï¼Œè€Œä¸æ˜¯ç§»é™¤å·¥å…·ã€‚

### Q: GitHub Pages å’Œ Cloudflare å¦‚ä½•åŒæ­¥ï¼Ÿ

**A**: 
1. åœ¨ Cloudflare Pagesï¼Œè¿æ¥æ‚¨çš„ GitHub ä»“åº“
2. è®¾ç½®ç›‘å¬ `main` åˆ†æ”¯
3. æ¯æ¬¡æ¨é€åˆ° GitHubï¼ŒCloudflare è‡ªåŠ¨æ„å»ºéƒ¨ç½²
4. ä¸¤ä¸ªåŸŸåå†…å®¹å®Œå…¨ä¸€è‡´

---

**æ€»ç»“**ï¼šä»£ç ä¿®å¤å·²å®Œæˆï¼Œåº”è¯¥ç«‹å³æ”¹å–„ Safari çš„åŠ è½½é€Ÿåº¦ã€‚é•¿æœŸå»ºè®®ç»Ÿä¸€ä½¿ç”¨ Cloudflare åŸŸåä»¥è·å¾—æœ€ä½³ä½“éªŒã€‚ ğŸš€

