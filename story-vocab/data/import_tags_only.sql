-- =====================================================
-- 補充詞表標籤 - 小學中文字詞表（2025）
-- 此腳本只添加標籤，不影響已導入的詞彙
-- =====================================================

BEGIN;

-- 第二層級標籤（單元）
INSERT INTO wordlist_tags (wordlist_id, tag_level, tag_code, tag_display_name, sort_order)
SELECT 
  (SELECT id FROM wordlists WHERE code = 'primary_chinese_2025'),
  2,
  tag_name,
  tag_name,
  ROW_NUMBER() OVER (ORDER BY tag_name)
FROM (VALUES
  ('一上單元一'),
  ('一上單元二'),
  ('一下單元一'),
  ('一下單元二'),
  ('三上單元一'),
  ('三上單元二'),
  ('三下單元一'),
  ('三下單元二'),
  ('二上單元一'),
  ('二上單元二'),
  ('二下單元一'),
  ('二下單元二'),
  ('五上單元一'),
  ('五上單元二'),
  ('五下單元一'),
  ('五下單元二'),
  ('四上單元一'),
  ('四上單元二'),
  ('四下單元一'),
  ('四下單元二')
) AS tags(tag_name)
ON CONFLICT (wordlist_id, tag_code) DO NOTHING;

-- 第三層級標籤（課文）
INSERT INTO wordlist_tags (wordlist_id, tag_level, tag_code, tag_display_name, sort_order)
SELECT 
  (SELECT id FROM wordlists WHERE code = 'primary_chinese_2025'),
  3,
  tag_name,
  tag_name,
  ROW_NUMBER() OVER (ORDER BY tag_name)
FROM (VALUES
  ('一分鐘'),
  ('一束鮮艷的花'),
  ('上學歌'),
  ('上默書課'),
  ('中彩那天'),
  ('什麼比獵豹的速度更快'),
  ('保羅的自行車'),
  ('剃頭大師'),
  ('動物王國開大會'),
  ('南極的主人'),
  ('參觀青馬大橋'),
  ('在海裏'),
  ('多彩的賀卡'),
  ('夜間飛行的祕密'),
  ('大熊貓'),
  ('大自然的聲音'),
  ('大還是小'),
  ('太陽'),
  ('奇妙的漢字'),
  ('奶奶笑了'),
  ('孫悟空，變變變！'),
  ('富饒的西沙羣島'),
  ('將相和'),
  ('小壁虎借尾巴'),
  ('小心眼'),
  ('小書包'),
  ('小木船'),
  ('小雨傘'),
  ('小馬過河'),
  ('廉頗和藺相如'),
  ('愛的紙條'),
  ('慧娟怎樣長大'),
  ('我愛故鄉的楊梅'),
  ('我的名字叫做貓'),
  ('我的球迷哥哥'),
  ('扁鵲治病（白話文）'),
  ('打掃房子'),
  ('找春天'),
  ('把太陽送給媽媽'),
  ('拔牙'),
  ('掌聲'),
  ('文具的家'),
  ('早操'),
  ('春天'),
  ('晏子使楚'),
  ('曹沖稱象'),
  ('會捕食的植物'),
  ('東方之珠'),
  ('桂林山水'),
  ('歡歡喜喜包餃子'),
  ('沙灘上的腳印'),
  ('清澈的湖水'),
  ('溜冰場上'),
  ('火星——地球的「孿生兄弟」'),
  ('火燒雲'),
  ('爸爸的花兒落了（節選）'),
  ('狐狸和烏鴉'),
  ('王戎智捉人販子'),
  ('玲玲的畫'),
  ('田忌賽馬'),
  ('白雲'),
  ('秋天的雨'),
  ('紀昌學射'),
  ('紙的發明'),
  ('綠樹枱燈'),
  ('美味的粽子'),
  ('美麗的中華白海豚'),
  ('美麗的小興安嶺'),
  ('美麗的香山'),
  ('膽小的爸爸'),
  ('花之路'),
  ('荷葉圓圓'),
  ('菜市場'),
  ('蜘蛛開店'),
  ('西湖風光'),
  ('觀潮'),
  ('諸葛亮巧佈空城計'),
  ('買食物'),
  ('遊海洋公園'),
  ('遊迪士尼樂園'),
  ('遙控車壞了'),
  ('鄉下人家'),
  ('釣魚的啟示'),
  ('雨點兒'),
  ('雪地裏的小畫家'),
  ('霧鎖香江'),
  ('露珠'),
  ('風在哪兒'),
  ('香噴噴的夢'),
  ('騾子和冰'),
  ('鯨')
) AS tags(tag_name)
ON CONFLICT (wordlist_id, tag_code) DO NOTHING;

COMMIT;

-- 驗證結果
SELECT 
  tag_level,
  COUNT(*) as count
FROM wordlist_tags
WHERE wordlist_id = (SELECT id FROM wordlists WHERE code = 'primary_chinese_2025')
GROUP BY tag_level
ORDER BY tag_level;
