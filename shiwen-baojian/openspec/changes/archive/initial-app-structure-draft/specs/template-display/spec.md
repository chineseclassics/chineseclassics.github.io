# Template Display Specification

## ADDED Requirements

### Requirement: 格式模板可視化展示
應用 SHALL 提供論文格式模板的可視化展示，直觀展示各項格式規範。

#### Scenario: 模板頁面布局
- **WHEN** 用戶進入格式模板功能
- **THEN** 顯示完整的論文頁面模板
- **AND** 模板包含所有部分：標題、作者、引言、正文、結論、參考文獻
- **AND** 使用白色背景模擬紙張效果

#### Scenario: 模板縮放功能
- **WHEN** 用戶查看模板
- **THEN** 提供縮放控制器（50%-200%）
- **AND** 默認顯示 100% 大小
- **AND** 用戶可以調整縮放比例查看細節

### Requirement: 格式規範標註
應用 SHALL 在模板上標註各項格式規範，包括字體、字號、行距、邊距等。

#### Scenario: 字體標註
- **WHEN** 模板顯示時
- **THEN** 在相應位置標註字體信息
- **AND** 包括：
  - 標題字體（如：黑體、粗體）
  - 正文字體（如：宋體、常規）
- **AND** 使用標註線和說明框展示

#### Scenario: 字號標註
- **WHEN** 模板顯示時
- **THEN** 標註各部分的字號要求
- **AND** 包括：
  - 標題：16-18pt
  - 正文：12pt
  - 參考文獻：10-11pt
- **AND** 標註位置清晰易見

#### Scenario: 行距和段距標註
- **WHEN** 模板顯示時
- **THEN** 標註行距和段距要求
- **AND** 使用雙向箭頭標示距離
- **AND** 顯示具體數值（如：1.5 倍行距）

#### Scenario: 邊距標註
- **WHEN** 模板顯示時
- **THEN** 在頁面四周標註邊距
- **AND** 顯示上、下、左、右邊距的具體數值
- **AND** 使用標尺或測量線展示

### Requirement: 模板格式切換
應用 SHALL 支持切換不同的引用格式模板（APA、MLA、Chicago 等）。

#### Scenario: 格式選擇器
- **WHEN** 用戶在模板頁面
- **THEN** 顯示格式選擇下拉菜單
- **AND** 包含以下選項：
  - APA 格式（第 7 版）
  - MLA 格式（第 9 版）
  - Chicago 格式
  - GB/T 7714（中文論文）
- **AND** 默認選中 APA 格式

#### Scenario: 切換模板格式
- **WHEN** 用戶選擇不同的引用格式
- **THEN** 模板內容更新為該格式的要求
- **AND** 標註信息相應更新
- **AND** 過場動畫流暢（淡入淡出）

#### Scenario: 格式差異對比
- **WHEN** 用戶選擇「對比模式」
- **THEN** 並排顯示兩種格式的模板
- **AND** 用戶可以選擇要對比的兩種格式
- **AND** 高亮顯示格式差異

### Requirement: 模板數據管理
應用 SHALL 從 JSON 文件加載模板數據，支持靈活配置。

#### Scenario: 加載模板數據
- **WHEN** 應用初始化
- **THEN** 從 `assets/data/templates.json` 加載數據
- **AND** 解析 JSON 為 JavaScript 對象
- **AND** 緩存到內存中

#### Scenario: 模板數據結構
- **WHEN** 模板數據被解析
- **THEN** 每個模板包含：
  - id: 模板標識符
  - name: 模板名稱（如：APA 格式）
  - version: 版本號（如：第 7 版）
  - specifications: 格式規範對象
    - fonts: 字體要求
    - fontSizes: 字號要求
    - lineSpacing: 行距要求
    - margins: 邊距要求
    - alignment: 對齊方式
  - exampleContent: 示例內容

### Requirement: 打印和導出指引
應用 SHALL 提供打印模板和導出指引的功能。

#### Scenario: 打印預覽
- **WHEN** 用戶點擊「打印模板」按鈕
- **THEN** 觸發瀏覽器打印預覽
- **AND** 優化打印樣式（隱藏導航、工具欄等）
- **AND** 保留格式標註（可選）

#### Scenario: 導出指引顯示
- **WHEN** 用戶點擊「導出指引」按鈕
- **THEN** 顯示導出指引模態框
- **AND** 包含以下內容：
  - 如何在 Word 中應用該格式
  - 如何在 Google Docs 中應用該格式
  - 如何保存為 PDF
- **AND** 提供步驟截圖和說明

#### Scenario: Word 模板下載提示
- **WHEN** 用戶點擊「下載 Word 模板」
- **THEN** 顯示提示信息（當前版本為純前端，暫不支持下載）
- **AND** 提供手動設置的詳細步驟
- **AND** 建議用戶根據可視化模板手動設置

### Requirement: 互動式標註功能
應用 SHALL 提供互動式標註，幫助用戶理解各項格式要求。

#### Scenario: 懸停顯示詳情
- **WHEN** 用戶懸停在某個標註上
- **THEN** 顯示該格式要求的詳細說明
- **AND** 包括：
  - 要求的具體內容
  - 設置方法
  - 常見錯誤
- **AND** 使用工具提示框展示

#### Scenario: 點擊標註展開說明
- **WHEN** 用戶點擊某個標註
- **THEN** 在側邊欄展開詳細說明面板
- **AND** 顯示該格式要求的完整信息
- **AND** 提供相關範例鏈接

#### Scenario: 標註開關
- **WHEN** 用戶點擊「切換標註」按鈕
- **THEN** 隱藏或顯示所有標註
- **AND** 允許用戶專注查看模板本身
- **AND** 狀態保存到 localStorage

### Requirement: 移動端適配
應用 SHALL 確保模板在移動端設備上也能清晰展示。

#### Scenario: 移動端模板顯示
- **WHEN** 用戶在移動設備訪問模板
- **THEN** 模板自動縮小以適應屏幕
- **AND** 標註文字大小適當調整
- **AND** 支持雙指縮放查看細節

#### Scenario: 移動端標註展示
- **WHEN** 移動設備顯示模板
- **THEN** 標註使用簡化展示方式
- **AND** 點擊標註展開詳情（而非懸停）
- **AND** 詳情以全屏模態框形式展示

### Requirement: 模板比較功能
應用 SHALL 支持用戶上傳自己的文本，與標準模板進行對比。

#### Scenario: 上傳文本對比
- **WHEN** 用戶點擊「對比我的文本」按鈕
- **THEN** 顯示文本輸入框
- **AND** 用戶可以粘貼自己的論文文本
- **AND** 系統分析文本格式

#### Scenario: 格式對比結果
- **WHEN** 用戶提交文本進行對比
- **THEN** 並排顯示用戶文本和標準模板
- **AND** 標記用戶文本中的格式問題
- **AND** 提供修正建議列表

#### Scenario: 對比報告生成
- **WHEN** 格式對比完成
- **THEN** 生成對比報告
- **AND** 報告包括：
  - 符合標準的項目（綠色勾選）
  - 需要改進的項目（黃色警告）
  - 格式錯誤的項目（紅色錯誤）
- **AND** 用戶可以逐項查看詳情

