# æ™‚æ–‡å¯¶é‘‘

AI è«–æ–‡å¯«ä½œæŒ‡å°ç³»çµ± - åŸºæ–¼å¤ªè™›å¹»å¢ƒå¹³å°çš„æ•™è‚²æ‡‰ç”¨

## ğŸ“– é …ç›®ç°¡ä»‹

æ™‚æ–‡å¯¶é‘‘æ˜¯ä¸€å€‹å‰µæ–°çš„è«–æ–‡å¯«ä½œæ•™å­¸å·¥å…·ï¼Œæ—¨åœ¨å¹«åŠ©ä¸­å­¸ç”ŸæŒæ¡å­¸è¡“è«–æ–‡çš„æ¨™æº–æ ¼å¼å’Œå¯«ä½œæŠ€å·§ã€‚é€šé AI æŠ€è¡“æä¾›**æ®µè½ç´šå³æ™‚åé¥‹**ï¼Œè®“è€å¸«çš„æ•™å­¸æ¨™æº–çœŸæ­£è½å¯¦åˆ°å­¸ç”Ÿçš„å¯«ä½œéç¨‹ä¸­ã€‚

### æ ¸å¿ƒç‰¹è‰²

- ğŸ¤– **AI æ®µè½åé¥‹**ï¼šå¯«ä½œéç¨‹ä¸­ç²å¾—å³æ™‚ã€ç²¾æº–çš„æ ¼å¼æŒ‡å°
- ğŸ“ **åˆ†å±¤æ®µè½ç·¨è¼¯å™¨**ï¼šæ”¯æŒè¤‡é›œè«–æ–‡çµæ§‹ï¼ˆå¼•è¨€ â†’ åˆ†è«–é» â†’ çµè«–ï¼‰
- ğŸ‘¨â€ğŸ« **è€å¸«ç«¯ç®¡ç†**ï¼šå‰µå»ºä»»å‹™ã€è¨­å®šæ ¼å¼è¦æ±‚ã€æ‰¹æ”¹è«–æ–‡
- ğŸ‘¨â€ğŸ“ **å­¸ç”Ÿç«¯å¯«ä½œ**ï¼šçµæ§‹åŒ–ç·¨è¼¯å™¨ã€è‡ªå‹•ä¿å­˜ã€ç‰ˆæœ¬ç®¡ç†
- ğŸ” **å¥å­ç´šå®šä½**ï¼šAI åé¥‹ç²¾ç¢ºåˆ°ç¬¬å¹¾å¥å­˜åœ¨å•é¡Œ
- ğŸš« **é˜²ä½œå¼Šç³»çµ±**ï¼šç²˜è²¼ç›£æ¸¬ã€å¯«ä½œè¡Œç‚ºåˆ†æã€èª ä¿¡å ±å‘Š

## ğŸ¯ ç›®æ¨™ç”¨æˆ¶

- **å­¸ç”Ÿ**ï¼šé«˜ä¸­ç”Ÿï¼ˆä»¥åå¹´ç´šç‚ºä¾‹ï¼‰ï¼Œéœ€è¦å®Œæˆå­¸è¡“è«–æ–‡å¯«ä½œä»»å‹™
- **è€å¸«**ï¼šä¸­æ–‡æˆ–æ–‡å­¸è€å¸«ï¼Œéœ€è¦æŒ‡å°å­¸ç”Ÿè«–æ–‡å¯«ä½œä¸¦æ‰¹æ”¹è«–æ–‡
- **å­¸æ ¡**ï¼šISFï¼ˆå¼˜ç«‹æ›¸é™¢ï¼‰ï¼Œæ‰€æœ‰å¸«ç”Ÿä½¿ç”¨ Google è³¬è™Ÿ

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“
- **æ ¸å¿ƒ**ï¼šHTML5, CSS3, Vanilla JavaScriptï¼ˆES6 Modulesï¼‰
- **æ¨£å¼**ï¼šTailwind CSS (CDN)
- **ç·¨è¼¯å™¨**ï¼šQuill.js (CDN)
- **åœ–æ¨™**ï¼šFont Awesome (CDN)

### å¾Œç«¯æœå‹™
- **æ•¸æ“šåº«**ï¼šSupabase PostgreSQL
- **èªè­‰**ï¼šSupabase Authï¼ˆGoogle OAuth + åŒ¿åç™»å…¥ï¼‰
- **AI**ï¼šDeepSeek APIï¼ˆé€šé Supabase Edge Functions ä»£ç†ï¼‰
- **é‚Šç·£å‡½æ•¸**ï¼šSupabase Edge Functions (Deno)

### éƒ¨ç½²å¹³å°
- **ä¸»ç«™**ï¼šGitHub Pages
- **é¡åƒ**ï¼šCloudflare Pages
- **å¹³å°é›†æˆ**ï¼šå¤ªè™›å¹»å¢ƒæ‡‰ç”¨åˆ‡æ›å™¨

## ğŸ“ é …ç›®çµæ§‹

```
shiwen-baojian/
â”œâ”€â”€ index.html                   # ä¸»å…¥å£
â”œâ”€â”€ README.md                    # é …ç›®èªªæ˜
â”‚
â”œâ”€â”€ js/                          # JavaScript æ¨¡çµ„
â”‚   â”œâ”€â”€ app.js                   # æ‡‰ç”¨åˆå§‹åŒ–
â”‚   â”œâ”€â”€ router.js                # å‰ç«¯è·¯ç”±
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ supabase-config.js   # Supabase é…ç½®
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ google-auth.js       # Google OAuth
â”‚   â”‚   â”œâ”€â”€ role-detector.js     # è§’è‰²è­˜åˆ¥
â”‚   â”‚   â””â”€â”€ session-manager.js   # æœƒè©±ç®¡ç†
â”‚   â”œâ”€â”€ editor/
â”‚   â”‚   â”œâ”€â”€ rich-text-editor.js  # å¯Œæ–‡æœ¬ç·¨è¼¯å™¨
â”‚   â”‚   â”œâ”€â”€ paragraph-manager.js # æ®µè½ç®¡ç†
â”‚   â”‚   â””â”€â”€ auto-save.js         # è‡ªå‹•ä¿å­˜
â”‚   â”œâ”€â”€ teacher/
â”‚   â”‚   â”œâ”€â”€ class-manager.js     # ç­ç´šç®¡ç†ï¼ˆå¾…é–‹ç™¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ assignment-creator.js # ä»»å‹™å‰µå»ºï¼ˆå¾…é–‹ç™¼ï¼‰
â”‚   â”‚   â””â”€â”€ grading.js           # æ‰¹æ”¹åŠŸèƒ½ï¼ˆå¾…é–‹ç™¼ï¼‰
â”‚   â”œâ”€â”€ student/
â”‚   â”‚   â”œâ”€â”€ assignment-list.js   # ä»»å‹™åˆ—è¡¨ï¼ˆå¾…é–‹ç™¼ï¼‰
â”‚   â”‚   â””â”€â”€ essay-writer.js      # è«–æ–‡å¯«ä½œï¼ˆå¾…é–‹ç™¼ï¼‰
â”‚   â””â”€â”€ ai/
â”‚       â”œâ”€â”€ feedback-requester.js # åé¥‹è«‹æ±‚ï¼ˆå¾…é–‹ç™¼ï¼‰
â”‚       â””â”€â”€ feedback-renderer.js  # åé¥‹å±•ç¤ºï¼ˆå¾…é–‹ç™¼ï¼‰
â”‚
â”œâ”€â”€ css/                         # æ¨£å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ base.css                 # åŸºç¤æ¨£å¼
â”‚   â”œâ”€â”€ editor.css               # ç·¨è¼¯å™¨æ¨£å¼
â”‚   â””â”€â”€ dashboard.css            # å„€è¡¨æ¿æ¨£å¼
â”‚
â”œâ”€â”€ assets/                      # è³‡æºæ–‡ä»¶
â”‚   â””â”€â”€ data/
â”‚       â”œâ”€â”€ honglou-essay-format.json  # ç´…æ¨“å¤¢è«–æ–‡æ ¼å¼æ¨¡æ¿
â”‚       â””â”€â”€ grading-rubric.json        # è©•åˆ†æ¨™æº–ï¼ˆå¾…å‰µå»ºï¼‰
â”‚
â”œâ”€â”€ supabase/                    # Supabase é…ç½®
â”‚   â”œâ”€â”€ config.toml              # é …ç›®é…ç½®
â”‚   â”œâ”€â”€ functions/
â”‚   â”‚   â””â”€â”€ ai-feedback-agent/
â”‚   â”‚       â””â”€â”€ index.ts         # AI åé¥‹ Edge Function
â”‚   â””â”€â”€ migrations/
â”‚       â”œâ”€â”€ 001_create_users_and_classes.sql
â”‚       â”œâ”€â”€ 002_create_assignments.sql
â”‚       â”œâ”€â”€ 003_create_essays_and_paragraphs.sql
â”‚       â”œâ”€â”€ 004_create_feedback_and_behavior.sql
â”‚       â”œâ”€â”€ 005_create_grading.sql
â”‚       â”œâ”€â”€ 006_fix_view_rls.sql
â”‚       â””â”€â”€ 007_add_anonymous_login_support.sql
â”‚
â”œâ”€â”€ docs/                        # æ–‡æª”è³‡æ–™
â”‚   â”œâ”€â”€ å“ˆä½›å¼•æ–‡è¨»é‡‹å¼˜ç«‹æŒ‡å—.pdf
â”‚   â”œâ”€â”€ è«–æ–‡æ ¼å¼å¯¶å…¸.md
â”‚   â”œâ”€â”€ ç´«èŠèŠ±ä¸­æ–‡æ’°ç¨¿æ ¼å¼.md
â”‚   â””â”€â”€ ç´…æ¨“å¤¢ç ”ç¿’è«–æ–‡æŒ‡å¼•.md
â”‚
â””â”€â”€ openspec/                    # é–‹ç™¼è¦ç¯„
    â”œâ”€â”€ project.md               # é …ç›®ç´„å®š
    â””â”€â”€ changes/
        â””â”€â”€ shiwen-baojian-mvp/
            â”œâ”€â”€ proposal.md      # MVP ææ¡ˆ
            â””â”€â”€ tasks.md         # ä»»å‹™æ¸…å–®
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ææ¢ä»¶

- ç¾ä»£ç€è¦½å™¨ï¼ˆChrome, Safari, Firefox, Edgeï¼‰
- Supabase è³¬è™Ÿï¼ˆç”¨æ–¼æ•¸æ“šåº«å’Œèªè­‰ï¼‰
- DeepSeek API Keyï¼ˆç”¨æ–¼ AI åé¥‹ï¼‰

### æœ¬åœ°é–‹ç™¼

1. **å…‹éš†é …ç›®**
   ```bash
   cd chineseclassics.github.io/shiwen-baojian
   ```

2. **å•Ÿå‹•æœ¬åœ°æœå‹™å™¨**
   ```bash
   # Python 3
   python3 -m http.server 8000
   
   # æˆ–ä½¿ç”¨ Node.js
   npx http-server -p 8000
   ```

3. **è¨ªå•æ‡‰ç”¨**
   ```
   http://localhost:8000/shiwen-baojian/index.html
   ```

### Supabase é…ç½®

1. **å‰µå»º Supabase é …ç›®**
   - è¨ªå• [Supabase Dashboard](https://app.supabase.com)
   - å‰µå»ºæ–°é …ç›®ï¼š`shiwen-baojian`
   - ç²å–é …ç›® URL å’Œ Anon Key

2. **æ›´æ–°é…ç½®**
   - ç·¨è¼¯ `js/config/supabase-config.js`
   - å¡«å…¥æ‚¨çš„é …ç›® URL å’Œ Anon Key

3. **åŸ·è¡Œæ•¸æ“šåº«é·ç§»**
   - åœ¨ Supabase Dashboard çš„ SQL Editor ä¸­
   - ä¾æ¬¡åŸ·è¡Œ `supabase/migrations/` ä¸‹çš„ SQL æ–‡ä»¶

4. **é…ç½® Google OAuth**
   - åœ¨ Supabase Dashboard â†’ Authentication â†’ Providers
   - å•Ÿç”¨ Google æä¾›å•†
   - é…ç½®é‡å®šå‘ URL

5. **éƒ¨ç½² Edge Function**
   ```bash
   cd chineseclassics.github.io/shiwen-baojian
   supabase link --project-ref [your-project-id]
   supabase functions deploy ai-feedback-agent
   ```

## ğŸ“‹ é–‹ç™¼é€²åº¦

### âœ… é˜¶æ®µ 1ï¼šæ ¸å¿ƒåŸºç¡€ï¼ˆå·²å®Œæˆï¼‰

- [x] æ•°æ®åº“å’Œ Supabase é…ç½®
- [x] åº”ç”¨åŸºç¡€ç»“æ„ï¼ˆHTML, CSS, JSï¼‰
- [x] ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆGoogle OAuth + åŒ¿åç™»å½•ï¼‰
- [x] è·¯ç”±å’Œå¯¼èˆªï¼ˆHash-based routingï¼‰
- [x] åˆ†å±‚æ®µè½ç¼–è¾‘å™¨ï¼ˆQuill.jsï¼‰
- [x] è‡ªåŠ¨ä¿å­˜ä¸ç‰ˆæœ¬ç®¡ç†

### ğŸ”„ é˜¶æ®µ 2ï¼šAI åé¦ˆç³»ç»Ÿï¼ˆè¿›è¡Œä¸­ï¼‰

- [ ] AI åé¦ˆ Edge Function
- [ ] å­¦ç”Ÿç«¯ - AI åé¦ˆç•Œé¢
- [ ] é˜²ä½œå¼Šç³»ç»Ÿ

### â¸ï¸ é˜¶æ®µ 3ï¼šè€å¸ˆç«¯å®Œæ•´åŠŸèƒ½ï¼ˆå¾…å¼€å§‹ï¼‰

- [ ] è€å¸ˆç«¯ - ç­çº§ç®¡ç†
- [ ] è€å¸ˆç«¯ - ä»»åŠ¡ç®¡ç†
- [ ] å­¦ç”Ÿç«¯ - ä»»åŠ¡åˆ—è¡¨
- [ ] è€å¸ˆç«¯ - æ‰¹æ”¹åŠŸèƒ½

### â¸ï¸ é˜¶æ®µ 4ï¼šä¼˜åŒ–å’Œéƒ¨ç½²ï¼ˆå¾…å¼€å§‹ï¼‰

- [ ] UI/UX ä¼˜åŒ–
- [ ] å¤ªè™šå¹»å¢ƒé›†æˆ
- [ ] æµ‹è¯•ä¸éƒ¨ç½²
- [ ] æ–‡æ¡£

## ğŸ“ ä½¿ç”¨æŒ‡å—

### è€å¸«ç«¯

1. **Google ç™»å…¥**ï¼šä½¿ç”¨ `*@isf.edu.hk` éƒµç®±ç™»å…¥
2. **å‰µå»ºç­ç´š**ï¼šæ·»åŠ å­¸ç”Ÿéƒµç®±åˆ—è¡¨
3. **å‰µå»ºä»»å‹™**ï¼šé¸æ“‡æ¨¡æ¿æˆ–è‡ªå®šç¾©æ ¼å¼è¦æ±‚
4. **è¨­å®šè©•åˆ†æ¨™æº–**ï¼šä½¿ç”¨ IB MYP/DP æ¨™æº–æˆ–è‡ªå®šç¾©
5. **æ‰¹æ”¹è«–æ–‡**ï¼šæŸ¥çœ‹å­¸ç”Ÿæäº¤ã€æ·»åŠ æ‰¹æ³¨ã€è©•åˆ†

### å­¸ç”Ÿç«¯

1. **Google ç™»å…¥**ï¼šä½¿ç”¨ `*@student.isf.edu.hk` éƒµç®±ç™»å…¥
2. **æŸ¥çœ‹ä»»å‹™**ï¼šç€è¦½è€å¸«åˆ†é…çš„å¯«ä½œä»»å‹™
3. **é–‹å§‹å¯«ä½œ**ï¼šä½¿ç”¨åˆ†å±¤æ®µè½ç·¨è¼¯å™¨æ’°å¯«è«–æ–‡
4. **ç²å–åé¥‹**ï¼šæäº¤æ®µè½å¾Œç²å¾— AI å³æ™‚åé¥‹
5. **æäº¤è«–æ–‡**ï¼šå®Œæˆå¾Œæäº¤çµ¦è€å¸«æ‰¹æ”¹

### åŒ¿åæ¸¬è©¦

1. **åŒ¿åç™»å…¥**ï¼šé»æ“Šã€ŒåŒ¿åæ¸¬è©¦ã€æŒ‰éˆ•
2. **é«”é©—åŠŸèƒ½**ï¼šæ¸¬è©¦ç·¨è¼¯å™¨å’ŒåŸºæœ¬åŠŸèƒ½
3. **é™åˆ¶**ï¼šç„¡æ³•è¨ªå•å®Œæ•´çš„ä»»å‹™å’Œæ‰¹æ”¹åŠŸèƒ½

## ğŸ”’ è§’è‰²æ¬Šé™

### è€å¸« (`*@isf.edu.hk`)
- âœ… å‰µå»ºå’Œç®¡ç†ç­ç´š
- âœ… å‰µå»ºå’Œç®¡ç†ä»»å‹™
- âœ… æ‰¹æ”¹å­¸ç”Ÿè«–æ–‡
- âœ… æŸ¥çœ‹å­¸ç”Ÿå¯«ä½œæ­·å²å’Œèª ä¿¡å ±å‘Š
- âœ… æŸ¥çœ‹æ•¸æ“šåˆ†æ

### å­¸ç”Ÿ (`*@student.isf.edu.hk`)
- âœ… æŸ¥çœ‹ä»»å‹™åˆ—è¡¨
- âœ… æ’°å¯«å’Œæäº¤è«–æ–‡
- âœ… ç²å¾— AI åé¥‹
- âœ… æŸ¥çœ‹æˆç¸¾å’Œæ‰¹æ³¨
- âŒ ç„¡æ³•çœ‹åˆ° AI è©•åˆ†é ä¼°ï¼ˆé¿å…èˆ‡è€å¸«è©•åˆ†è¡çªï¼‰

### åŒ¿åç”¨æˆ¶
- âœ… é«”é©—ç·¨è¼¯å™¨
- âœ… ç²å¾— AI åé¥‹
- âŒ ç„¡æ³•ä¿å­˜åˆ°é›²ç«¯
- âŒ ç„¡æ³•è¨ªå•ä»»å‹™ç³»çµ±

## ğŸ› ï¸ é–‹ç™¼è¦ç¯„

### ä»£ç¢¼é¢¨æ ¼

- **å‘½å**ï¼šæ–‡ä»¶ `kebab-case`ï¼Œè®Šé‡ `camelCase`ï¼Œå¸¸é‡ `UPPER_SNAKE_CASE`
- **ç¸®é€²**ï¼š4 ç©ºæ ¼
- **è¨»é‡‹**ï¼šç¹é«”ä¸­æ–‡ï¼Œé—œéµé‚è¼¯å¿…é ˆè¨»é‡‹
- **æ¨¡çµ„åŒ–**ï¼šä½¿ç”¨ ES6 Modules

### Git å·¥ä½œæµ

- **åˆ†æ”¯**ï¼šä¸»è¦åœ¨ `main` åˆ†æ”¯é–‹ç™¼
- **æäº¤æ ¼å¼**ï¼š
  ```
  feat(shiwen-baojian): æ·»åŠ  Google ç™»å…¥æ”¯æŒ
  fix(shiwen-baojian): ä¿®å¾©è‡ªå‹•ä¿å­˜å•é¡Œ
  docs(shiwen-baojian): æ›´æ–° README
  ```
- **æ¨é€**ï¼šç”¨æˆ¶åœ¨ GitHub Desktop æ‰‹å‹•ç®¡ç†

### æ¸¬è©¦

- **åŠŸèƒ½æ¸¬è©¦**ï¼šæ‰‹å‹•æ¸¬è©¦å„é …åŠŸèƒ½
- **å…¼å®¹æ€§æ¸¬è©¦**ï¼šæ¡Œé¢å’Œç§»å‹•ç«¯
- **é›†æˆæ¸¬è©¦**ï¼šåœ¨å¤ªè™›å¹»å¢ƒä¸»é æ¸¬è©¦æ‡‰ç”¨åˆ‡æ›å™¨

## ğŸ”— ç›¸é—œè³‡æº

- [å¤ªè™›å¹»å¢ƒä¸»é ](https://chineseclassics.github.io)
- [Supabase æ–‡æª”](https://supabase.com/docs)
- [Quill.js æ–‡æª”](https://quilljs.com/docs)
- [DeepSeek API](https://platform.deepseek.com)

## ğŸ“„ æˆæ¬Š

MIT License - è©³è¦‹ [LICENSE](../LICENSE) æ–‡ä»¶

## ğŸ‘¥ é–‹ç™¼åœ˜éšŠ

**å¤ªè™›å¹»å¢ƒé–‹ç™¼åœ˜éšŠ**

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¯ç¹«é …ç›®ç¶­è­·è€…ã€‚

---

**æ™‚æ–‡å¯¶é‘‘** - è®“è«–æ–‡å¯«ä½œæ•™å­¸æ›´é«˜æ•ˆã€æ›´æœ‰é‡å°æ€§ âœ¨

