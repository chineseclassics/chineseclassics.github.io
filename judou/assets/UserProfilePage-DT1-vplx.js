import{d as k,u as y,c as o,o as S,a as n,b as s,e as u,t as a,f as d,D as x,h as C,q as c,_ as A}from"./index-Dqh4cMIB.js";import{u as N}from"./userStatsStore-DnrRLcX3.js";const P={class:"profile-container"},w={class:"profile-header edamame-glass"},B={class:"avatar-section"},L={class:"avatar-wrapper"},z=["src","alt"],M={key:1,class:"avatar-placeholder"},U={class:"level-badge"},V={class:"user-info"},G={class:"user-name"},H={class:"user-role"},T={class:"user-email"},D={class:"stats-section"},E={class:"stat-card edamame-glass beans-card"},F={class:"stat-content"},W={class:"stat-value"},q={class:"stat-card edamame-glass level-card"},I={class:"stat-content"},j={class:"stat-value"},J={class:"level-progress-bar"},K={class:"stat-detail"},O={class:"learning-stats edamame-glass"},Q={class:"stats-grid"},R={class:"mini-stat"},X={class:"mini-stat-value"},Y={class:"mini-stat"},Z={class:"mini-stat-value"},$={class:"mini-stat"},ss={class:"mini-stat-value"},ts={class:"mini-stat"},as={class:"mini-stat-value"},es={class:"streak-section edamame-glass"},ls={class:"streak-display"},os={class:"streak-current"},is={class:"streak-value"},ns={class:"streak-max"},cs={class:"streak-value"},ds={key:0,class:"login-prompt edamame-glass"},rs=k({__name:"UserProfilePage",setup(vs){const e=y(),i=N(),r=o(()=>e.displayName||"è¨ªå®¢"),v=o(()=>e.avatarUrl),p=o(()=>e.user?.email||""),m=o(()=>e.isTeacher?"è€å¸«":"å­¸ç”Ÿ"),l=o(()=>i.profile),_=o(()=>i.level),h=o(()=>i.levelProgress),g=o(()=>i.beansToNextLevel);async function b(){await e.logout(),i.reset()}return S(()=>{e.isAuthenticated&&!l.value&&i.fetchProfile()}),(_s,t)=>(c(),n("main",P,[s("section",w,[s("div",B,[s("div",L,[v.value?(c(),n("img",{key:0,src:v.value,alt:r.value,class:"avatar-img"},null,8,z)):(c(),n("div",M,a(r.value.charAt(0)),1))]),s("div",U,"Lv."+a(_.value),1)]),s("div",V,[s("h1",G,a(r.value),1),s("p",H,a(m.value),1),s("p",T,a(p.value),1)]),d(e).isAuthenticated?(c(),n("button",{key:0,class:"logout-btn",onClick:b}," ç™»å‡º ")):u("",!0)]),s("section",D,[s("div",E,[t[2]||(t[2]=s("div",{class:"stat-icon bean-icon"},[s("span",{class:"edamame"}),s("span",{class:"edamame"}),s("span",{class:"edamame"})],-1)),s("div",F,[t[1]||(t[1]=s("p",{class:"stat-label"},"æˆ‘çš„è±†å­",-1)),s("p",W,a(l.value?.total_beans??0),1)])]),s("div",q,[t[4]||(t[4]=s("div",{class:"stat-icon"},"â­",-1)),s("div",I,[t[3]||(t[3]=s("p",{class:"stat-label"},"ç•¶å‰ç­‰ç´š",-1)),s("p",j,"Lv."+a(_.value),1),s("div",J,[s("div",{class:"level-progress-fill",style:x({width:h.value+"%"})},null,4)]),s("p",K,"è·é›¢ä¸‹ä¸€ç´šé‚„éœ€ "+a(g.value)+" è±†",1)])])]),s("section",O,[t[9]||(t[9]=s("h2",{class:"section-title"},"å­¸ç¿’çµ±è¨ˆ",-1)),s("div",Q,[s("div",R,[s("p",X,a(l.value?.total_beans??0),1),t[5]||(t[5]=s("p",{class:"mini-stat-label"},"ç¸½è±†å­æ•¸",-1))]),s("div",Y,[s("p",Z,a(l.value?.weekly_beans??0),1),t[6]||(t[6]=s("p",{class:"mini-stat-label"},"æœ¬å‘¨ç²å¾—",-1))]),s("div",$,[s("p",ss,a(l.value?.monthly_beans??0),1),t[7]||(t[7]=s("p",{class:"mini-stat-label"},"æœ¬æœˆç²å¾—",-1))]),s("div",ts,[s("p",as,a(l.value?.streak_days??0),1),t[8]||(t[8]=s("p",{class:"mini-stat-label"},"é€£çºŒå­¸ç¿’å¤©æ•¸",-1))])])]),s("section",es,[t[12]||(t[12]=s("h2",{class:"section-title"},"ðŸ”¥ é€£çºŒå­¸ç¿’",-1)),s("div",ls,[s("div",os,[s("span",is,a(l.value?.streak_days??0),1),t[10]||(t[10]=s("span",{class:"streak-label"},"ç•¶å‰é€£çºŒå¤©æ•¸",-1))]),s("div",ns,[s("span",cs,a(l.value?.max_streak??0),1),t[11]||(t[11]=s("span",{class:"streak-label"},"æœ€é«˜ç´€éŒ„",-1))])])]),d(e).isAuthenticated?u("",!0):(c(),n("section",ds,[t[14]||(t[14]=s("p",null,"ç™»å…¥å¾Œå¯æŸ¥çœ‹å®Œæ•´çš„å­¸ç¿’æ•¸æ“š",-1)),s("button",{class:"login-btn",onClick:t[0]||(t[0]=(...f)=>d(e).loginWithGoogle&&d(e).loginWithGoogle(...f))},[...t[13]||(t[13]=[C('<svg class="google-icon" viewBox="0 0 24 24" width="18" height="18" data-v-5cd44c9c><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" data-v-5cd44c9c></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" data-v-5cd44c9c></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" data-v-5cd44c9c></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" data-v-5cd44c9c></path></svg> ä½¿ç”¨ Google ç™»å…¥ ',2)])])]))]))}}),ms=A(rs,[["__scopeId","data-v-5cd44c9c"]]);export{ms as default};
