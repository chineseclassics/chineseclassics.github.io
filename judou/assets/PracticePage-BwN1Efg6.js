import{d as Ye,u as Ze,r as d,c as b,x as et,w as be,f as tt,I as st,a as r,g as a,h as k,t as c,s as T,m as Te,y as Se,b as y,z as at,J as nt,F as p,j as M,q as lt,i as j,e as we,l as rt,v as ot,p as it,n as ut,o as l,_ as ct}from"./index-CJ45ynkR.js";import{u as dt}from"./textsStore-BUj0Pj_q.js";import{u as vt}from"./practiceLibraryStore-mjGKrwnV.js";import{u as mt}from"./assignmentStore-DXqfs2s9.js";import{u as ft}from"./userStatsStore-CRkpSgnG.js";import{u as pt}from"./classStore-C019xcNv.js";import{u as ht}from"./avatarStore-BMMLzcbR.js";import{S as _t,V as kt,c as yt,a as gt,b as bt}from"./useClassicalTTS-BeHA2Tk2.js";import{u as Tt}from"./useSupabase-CXNFxs44.js";import{C as St}from"./clock-C3oW3Eyf.js";import{c as wt}from"./createLucideIcon-Ro8YlrMI.js";const xt=wt("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ct={class:"practice-shell"},At={class:"picker-section edamame-glass"},Bt={class:"picker-current"},It={class:"picker-info"},$t={class:"picker-breadcrumb"},Rt={key:0,class:"picker-meta"},Pt={key:0},Vt={key:0,class:"picker-panel"},zt={class:"picker-search"},Lt={key:0,class:"picker-results"},Nt={key:0,class:"picker-empty"},Mt=["onClick"],qt={class:"item-main"},Et={class:"item-title"},Ut={class:"item-author"},jt={class:"item-preview"},Dt={key:1,class:"picker-cascade"},Ot={class:"grade-filter-section"},Gt={class:"grade-tags"},Xt=["onClick"],Wt={class:"picker-list"},Ht={key:0,class:"picker-empty"},Ft={key:1,class:"picker-empty"},Jt=["onClick"],Qt={class:"item-main"},Kt={class:"item-title"},Yt={class:"item-author"},Zt={class:"item-preview"},es={class:"hero-actions"},ts=["disabled"],ss={class:"board-card edamame-glass"},as={key:0,class:"practice-board"},ns={class:"board-header"},ls={key:1,class:"board-hint"},rs={class:"board-header-right"},os={key:1,class:"timer-badge"},is={key:0,class:"practice-line"},us=["onPointerdown","aria-label"],cs={key:0,class:"bean"},ds={key:1,class:"state-info"},vs={class:"board-actions"},ms=["disabled"],fs={key:1,class:"board-empty"},ps={class:"results-grid"},hs={class:"result-card edamame-glass"},_s={class:"result-desc"},ks={class:"result-card edamame-glass"},ys={class:"result-desc"},gs={class:"result-card edamame-glass"},bs={class:"result-desc"},Ts={class:"result-card edamame-glass"},Ss={class:"result-desc"},ws={key:0,class:"new-record"},xs={key:1},Cs={key:2},As=Ye({__name:"PracticePage",setup(Bs){const Z=et(),xe=rt(),ee=Tt(),S=dt(),D=vt(),Ce=mt(),_=Ze(),O=ft(),te=pt(),Ae=ht(),se=d(new Set),ae=b(()=>Z.query.assignmentId),ne=b(()=>Z.query.textId),i=d(null),g=d([]),w=d(new Set),m=d(new Set),o=d(null),P=d(0),v=d(null),G=d(!1),X=d(0),le=d(0),re=d(0),W=d(!1),H=d(!1),oe=b(()=>!!i.value?.source_text?.id),ie=b(()=>w.value.size),Be=b(()=>m.value.size),ue=b(()=>Math.max(0,ie.value-Be.value)),ce=b(()=>ue.value>0),V=d(!1),x=d(null),A=d(""),Ie=d(localStorage.getItem("judou_username")||"guest"),$e=d(localStorage.getItem("judou_display_name")||"è¨ªå®¢å­¸å“¡"),B=d(!1);let z=null;const C=d(null);function de(){C.value||(C.value=new(window.AudioContext||window.webkitAudioContext))}function F(t){if(C.value||de(),!C.value)return;const e=C.value,n=e.createOscillator(),s=e.createGain();n.connect(s),s.connect(e.destination),t==="add"?(n.frequency.setValueAtTime(400,e.currentTime),n.frequency.exponentialRampToValueAtTime(200,e.currentTime+.1),s.gain.setValueAtTime(.3,e.currentTime),s.gain.exponentialRampToValueAtTime(.01,e.currentTime+.1),n.start(e.currentTime),n.stop(e.currentTime+.1)):(n.frequency.setValueAtTime(300,e.currentTime),n.frequency.exponentialRampToValueAtTime(150,e.currentTime+.08),s.gain.setValueAtTime(.2,e.currentTime),s.gain.exponentialRampToValueAtTime(.01,e.currentTime+.08),n.start(e.currentTime),n.stop(e.currentTime+.08))}function ve(t=10){navigator.vibrate&&navigator.vibrate(t)}const J=b(()=>D.state.categories.filter(t=>t.level===1).sort((t,e)=>t.order_index-e.order_index));function Q(t){return!!(t.is_system===!0||t.created_by===_.user?.id||_.isStudent&&t.created_by&&se.value.has(t.created_by))}const me=b(()=>x.value?S.texts.filter(t=>t.category_id!==x.value?!1:Q(t)).sort((t,e)=>t.title.localeCompare(e.title)):[]),fe=b(()=>{if(!A.value.trim())return[];const t=A.value.toLowerCase();return S.texts.filter(e=>Q(e)?e.title.toLowerCase().includes(t)||e.author&&e.author.toLowerCase().includes(t)||e.source&&e.source.toLowerCase().includes(t):!1).slice(0,10)}),Re=b(()=>{if(!i.value)return"å°šæœªé¸æ“‡ç·´ç¿’ç´ æ";const t=[];return i.value.category?.name&&t.push(i.value.category.name),t.push(i.value.title),t.join(" â€º ")});async function Pe(){if(!_.isStudent||!_.isAuthenticated)return;await te.fetchStudentClasses();const t=new Set;for(const e of te.classes)e.teacher_id&&t.add(e.teacher_id);se.value=t}function Ve(t){const e=[],n=new Set;let s=0;const u=t.replace(/[\|\s]+$/,"");for(const f of u)f==="|"?s>0&&n.add(s-1):f!==`
`&&f!=="\r"&&(e.push(f),s++);return{chars:e,breaks:n}}function ze(){q(),P.value=0,z=window.setInterval(()=>{P.value+=1},1e3)}function q(){z&&(clearInterval(z),z=null)}function K(t){const{chars:e,breaks:n}=Ve(t.content);g.value=e,w.value=n,m.value=new Set,o.value=null,v.value=null,q(),P.value=0,X.value=0,le.value=0,re.value=0,W.value=!1}function E(t){i.value=t,K(t),V.value=!1,A.value="",t.category_id&&(x.value=t.category_id),he(t)}function pe(){const t=S.texts.filter(f=>f.text_type==="practice"&&Q(f));if(!t.length){v.value="å°šæœªæœ‰å¯ç·´ç¿’çš„æ–‡ç« ï¼Œè«‹å…ˆåˆ°ç®¡ç†å“¡é é¢æ–°å¢ã€‚";return}const e=i.value?.id,n=t.filter(f=>f.id!==e);if(!n.length){v.value="ç›®å‰åªæœ‰ä¸€ç¯‡æ–‡ç« å¯ç·´ç¿’";return}const s=Math.floor(Math.random()*n.length),u=n[s];u&&E(u)}async function Le(){const t=[];if(S.texts.length||t.push(S.fetchTexts()),D.state.categories.length||t.push(D.fetchLibrary()),_.isStudent&&_.isAuthenticated&&t.push(Pe()),await Promise.all(t),ne.value){const e=S.texts.find(n=>n.id===ne.value);if(e){E(e);return}}if(!i.value&&S.texts.length&&pe(),!x.value&&J.value.length){const e=J.value[0];e&&(x.value=e.id)}}function Ne(){const t=i.value?.source_text?.id;t&&xe.push({name:"reading-detail",params:{id:t}})}be(()=>({textId:i.value?.id,sourceId:i.value?.source_text?.id,sourceTitle:i.value?.source_text?.title}),t=>{console.log("PracticePage èª¿è©¦ï¼šä¾†æºæŒ‰éˆ•ç‹€æ…‹",{...t,hasSourceLink:oe.value})},{immediate:!0});async function he(t){if(!ee||!t.source_text_id||t.source_text)return;const{data:e,error:n}=await ee.from("practice_texts").select("id, title, is_system, text_type").eq("id",t.source_text_id).maybeSingle();if(n){console.warn("è£œæŠ“ä¾†æºæ–‡ç« å¤±æ•—",{error:n,source_text_id:t.source_text_id});return}if(e){const s={...t,source_text:{id:e.id,title:e.title}};i.value=s;const u=S.texts.findIndex(f=>f.id===t.id);u!==-1&&(S.texts[u]=s),console.log("PracticePage èª¿è©¦ï¼šè£œæŠ“ä¾†æºæ–‡ç« æˆåŠŸ",{textId:s.id,sourceId:s.source_text?.id,sourceTitle:s.source_text?.title})}}be(()=>i.value?.source_text_id,t=>{const e=i.value;!e||!t||e.source_text||he(e)});function Me(t){if(o.value){v.value="å·²æäº¤ï¼å¦‚è¦å†æ¬¡å˜—è©¦è«‹é»æ“Šã€Œé‡æ–°æŒ‘æˆ°ã€";return}const e=new Set(m.value),n=e.has(t);if(!n&&!ce.value){qe(),v.value="å¥è±†ç”¨å®Œäº†ï¼è«‹å…ˆç§»é™¤å¤šé¤˜çš„æ–·å¥ã€‚";return}m.value.size===0&&!z&&!W.value&&ze(),n?(e.delete(t),F("remove")):(e.add(t),F("add"),ve(10)),m.value=e,v.value=null}function qe(){H.value=!0,F("remove"),ve(50),setTimeout(()=>{H.value=!1},400)}function Ee(t){if(!o.value){const e=t>0&&m.value.has(t-1),n=m.value.has(t);if(e&&n)return"translateX(0)";if(e)return"translateX(4px)";if(n)return"translateX(-4px)"}return"translateX(0)"}function Ue(t){const e=[],n=m.value.has(t);if(n&&e.push("has-bean"),o.value&&n){const s=o.value.statuses.find(u=>u.index===t);s&&(s.state==="correct"||s.state==="extra")&&e.push(s.state)}return e}function je(t){return`${t} è±†`}function De(t){return`${Math.round(t*100)}%`}function _e(t){return t.content.replace(/\|/g,"").slice(0,30)+"..."}function Oe(t,e){return O.calculateScore({correctCount:t,totalBreaks:w.value.size,charCount:g.value.length,elapsedSeconds:e})}async function Ge(){if(!i.value)return;if(!m.value.size){v.value="è‡³å°‘è¨­å®šä¸€å€‹æ–·å¥ä½ç½®å†æäº¤å”·ï¼";return}X.value++;const t=[];let e=0,n=0,s=0;for(let h=0;h<=g.value.length;h++){const N=m.value.has(h),R=w.value.has(h);N&&R?(t.push({index:h,state:"correct"}),e++):!N&&R?(t.push({index:h,state:"missed"}),n++):N&&!R?(t.push({index:h,state:"extra"}),s++):t.push({index:h,state:"pending"})}const u=w.value.size?e/w.value.size:m.value.size?0:1,f=n===0&&s===0;q(),W.value=!0;const U=P.value;X.value===1&&(le.value=u,re.value=U);const{score:$,breakdown:Y}=Oe(e,U);if(o.value={statuses:t,accuracy:u,elapsed:U,score:$,isComplete:f,breakdown:Y},f){We();const h=Y.speedBonus>0?` + é€Ÿåº¦çå‹µ ${Y.speedBonus}`:"";v.value=`ğŸ‰ å…¨å°ï¼æ­£ç¢º ${e} è±†${h} = ${$} è±†`}else v.value=`æ­£ç¢º ${e} å€‹ï¼Œéºæ¼ ${n} å€‹ï¼Œå¤šé¤˜ ${s} å€‹ â†’ ç²å¾— ${$} è±†`;try{G.value=!0;const h=_.isAuthenticated?_.user?.email?.split("@")[0]||"user":Ie.value,N=_.isAuthenticated?_.displayName:$e.value,R=await S.recordPracticeResult({text_id:i.value.id,score:$,accuracy:u,elapsed_seconds:U,user_breaks:m.value.size,correct_breaks:w.value.size,username:h,display_name:N,user_id:_.user?.id||null});if(_.isAuthenticated){const I=await O.recordPracticeScore({textId:i.value.id,score:$,textTitle:i.value.title});if(o.value&&(o.value.beansEarned=I.beansEarned,o.value.isNewRecord=I.isNewRecord),I.beansEarned>0){const Qe=I.isNewRecord?" (æ–°ç´€éŒ„!)":"";v.value=`${v.value}${Qe} å¯¦å¾— +${I.beansEarned} è±†`;const ge=await Ae.checkAndUnlockAvatars(O.level);ge.length>0&&setTimeout(()=>{v.value=`ğŸ‰ è§£é–æ–°é ­åƒï¼š${ge.map(Ke=>Ke.name).join("ã€")}`},2e3)}else I.beansEarned===0&&!I.isNewRecord&&(v.value=`${v.value}ï¼ˆæœªè¶…éå€‹äººæœ€é«˜è¨˜éŒ„ï¼Œä¸åŠ åˆ†ï¼‰`)}ae.value&&_.isAuthenticated&&R&&await Ce.recordCompletion(ae.value,R,$,u*100)}catch(h){console.warn("è¨˜éŒ„ç·´ç¿’çµæœå¤±æ•—",h)}finally{G.value=!1}}function Xe(){i.value&&K(i.value)}function We(){if(C.value||de(),!C.value)return;const t=C.value,e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.setValueAtTime(400,t.currentTime),e.frequency.exponentialRampToValueAtTime(600,t.currentTime+.1),e.frequency.exponentialRampToValueAtTime(800,t.currentTime+.2),n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)}function He(){if(!g.value.length)return[];const t=[];let e="",n=-1;for(let s=0;s<g.value.length;s++)if(e+=g.value[s],w.value.has(s)){const u=s-n;n=s,u>=8?(e+="ã€‚",t.push(e),e=""):u>=4?e+="ï¼Œ":e+="ã€"}return e.trim()&&(!e.endsWith("ã€‚")&&!e.endsWith("ï¼Œ")&&!e.endsWith("ã€")&&(e+="ã€‚"),t.push(e)),t.length===0&&g.value.length>0?[g.value.join("")+"ã€‚"]:t}let L=!1;function ke(){L=!0,yt(),B.value=!1}const ye={voice:"zh-CN-XiaoxiaoNeural",rate:.75};async function Fe(){if(!g.value.length)return;if(B.value){ke();return}B.value=!0,L=!1;const t=He();try{for(let e=0;e<t.length&&!L;e++){const n=t[e+1];n&&gt(n,ye);const s=t[e];s&&await bt(s,ye)}}catch(e){console.error("TTS æ’­æ”¾å¤±æ•—:",e),L||alert("èªéŸ³æœ—è®€å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")}finally{B.value=!1,L=!1}}function Je(){i.value&&K(i.value)}return tt(()=>{Le()}),st(()=>{q(),ke()}),(t,e)=>{const n=ot("router-link");return l(),r("div",Ct,[a("section",At,[a("div",{class:"picker-header",onClick:e[1]||(e[1]=s=>V.value=!V.value)},[a("div",Bt,[e[3]||(e[3]=a("span",{class:"picker-icon"},"ğŸ“–",-1)),a("div",It,[a("span",$t,c(Re.value),1),i.value?(l(),r("span",Rt,[T(c(i.value.author||"ä½šå")+" ",1),i.value.source?(l(),r("span",Pt," Â· "+c(i.value.source),1)):k("",!0),i.value.source_text?.id?(l(),Te(n,{key:1,to:{name:"reading-detail",params:{id:i.value.source_text.id}},class:"source-link",onClick:e[0]||(e[0]=Se(()=>{},["stop"]))},{default:it(()=>[T(" Â· ä¾†è‡ªã€Š"+c(i.value.source_text.title)+"ã€‹ ",1)]),_:1},8,["to"])):k("",!0)])):k("",!0)])]),a("button",{class:y(["picker-toggle",{expanded:V.value}])},[...e[4]||(e[4]=[a("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[a("path",{d:"M6 9l6 6 6-6"})],-1)])],2)]),V.value?(l(),r("div",Vt,[a("div",zt,[at(a("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>A.value=s),type:"text",placeholder:"æœç´¢æ–‡ç« æ¨™é¡Œã€ä½œè€…...",class:"search-input"},null,512),[[nt,A.value]])]),A.value.trim()?(l(),r("div",Lt,[fe.value.length?k("",!0):(l(),r("div",Nt," æ‰¾ä¸åˆ°ç¬¦åˆã€Œ"+c(A.value)+"ã€çš„æ–‡ç«  ",1)),(l(!0),r(p,null,M(fe.value,s=>(l(),r("div",{key:s.id,class:"picker-item",onClick:u=>E(s)},[a("div",qt,[a("span",Et,c(s.title),1),a("span",Ut,c(s.author||"ä½šå"),1)]),a("span",jt,c(_e(s)),1)],8,Mt))),128))])):(l(),r("div",Dt,[a("div",Ot,[e[5]||(e[5]=a("label",{class:"grade-filter-label"},"å¹´ç´š",-1)),a("div",Gt,[(l(!0),r(p,null,M(J.value,s=>(l(),r("button",{key:s.id,class:y(["grade-tag",{active:x.value===s.id}]),onClick:u=>x.value=s.id},c(s.name),11,Xt))),128))])]),a("div",Wt,[x.value?me.value.length?k("",!0):(l(),r("div",Ft," æ­¤å¹´ç´šå°šç„¡æ–‡ç«  ")):(l(),r("div",Ht," è«‹é¸æ“‡å¹´ç´šä»¥æŸ¥çœ‹æ–‡ç«  ")),(l(!0),r(p,null,M(me.value,s=>(l(),r("div",{key:s.id,class:y(["picker-item",{active:i.value?.id===s.id}]),onClick:u=>E(s)},[a("div",Qt,[a("span",Kt,c(s.title),1),a("span",Yt,c(s.author||"ä½šå"),1),a("span",{class:y(["item-difficulty",`diff-${s.difficulty}`])},c(s.difficulty===1?"åˆç´š":s.difficulty===2?"ä¸­ç´š":"é«˜ç´š"),3)]),a("span",Zt,c(_e(s)),1)],10,Jt))),128))])]))])):k("",!0)]),a("div",es,[a("button",{class:"edamame-btn edamame-btn-secondary",onClick:Je,disabled:!i.value}," é‡æ–°é–‹å§‹ ",8,ts),a("button",{class:"edamame-btn edamame-btn-primary",onClick:pe}," éš¨æ©Ÿä¸€ç¯‡ ")]),a("section",ss,[i.value?(l(),r("div",as,[a("div",ns,[oe.value?(l(),r("button",{key:0,class:"board-hint source-link-button",type:"button",onClick:Ne}," é–±è®€å®Œæ•´åŸæ–‡ ")):(l(),r("p",ls,"é»æ“Šå­—é–“ç©ºéš™ç¨®ä¸‹å¥è±†ä¾†æ–·å¥")),a("div",rs,[o.value?.isComplete?(l(),r("button",{key:0,class:y(["tts-btn-small",{playing:B.value}]),onClick:Fe},[(l(),Te(lt(B.value?j(_t):j(kt)),{size:16,"stroke-width":1.5})),a("span",null,c(B.value?" åœæ­¢":" æœ—è®€"),1)],2)):k("",!0),a("div",{class:y(["bean-inventory",{shake:H.value,empty:!ce.value}])},[(l(!0),r(p,null,M(ie.value,s=>(l(),r("span",{key:s,class:y(["inventory-bean",{used:s>ue.value}])},null,2))),128))],2),m.value.size>0||o.value?(l(),r("span",os,[we(j(St),{size:14,"stroke-width":1.5}),a("span",null,c(P.value)+" ç§’",1)])):k("",!0)])]),g.value.length?(l(),r("div",is,[(l(!0),r(p,null,M(g.value,(s,u)=>(l(),r("span",{key:u,class:"char-unit"},[a("span",{class:"char",style:ut({transform:Ee(u)})},c(s),5),u<g.value.length-1?(l(),r("button",{key:0,class:y(["bean-slot",Ue(u)]),onPointerdown:Se(f=>Me(u),["prevent"]),"aria-label":`åœ¨ã€Œ${s}ã€å¾Œ${m.value.has(u)?"ç§»é™¤":"æ·»åŠ "}æ–·å¥`},[m.value.has(u)?(l(),r("span",cs)):k("",!0),e[6]||(e[6]=a("span",{class:"bean-hint"},null,-1))],42,us)):k("",!0)]))),128))])):(l(),r("div",ds,"å°šç„¡å¯é¡¯ç¤ºçš„æ–‡å­—å…§å®¹ã€‚")),a("div",vs,[o.value?(l(),r("button",{key:1,class:"edamame-btn edamame-btn-lg edamame-btn-secondary",onClick:Xe},[we(j(xt),{size:18,"stroke-width":1.5}),e[7]||(e[7]=a("span",null," é‡æ–°æŒ‘æˆ°",-1))])):(l(),r("button",{key:0,class:"edamame-btn edamame-btn-lg edamame-btn-primary",disabled:G.value,onClick:Ge}," æäº¤ç­”æ¡ˆ ",8,ms))]),v.value?(l(),r("p",{key:2,class:y(["toast",{success:o.value?.isComplete}])},c(v.value),3)):k("",!0)])):(l(),r("div",fs,[...e[8]||(e[8]=[a("p",null,"è«‹å¾ä¸Šæ–¹é¸æ“‡ç·´ç¿’ç´ æï¼Œæˆ–é»æ“Šã€Œéš¨æ©Ÿä¸€ç¯‡ã€é–‹å§‹ç·´ç¿’",-1)])]))]),a("section",ps,[a("article",hs,[e[9]||(e[9]=a("p",{class:"result-label"},"æœ¬æ¬¡å¾—åˆ†",-1)),a("p",{class:y(["result-value",{placeholder:!o.value}])},c(o.value?je(o.value.score):"--"),3),a("p",_s,[o.value?.breakdown?(l(),r(p,{key:0},[T(" æ­£ç¢º "+c(o.value.breakdown.baseScore)+" è±† ",1),o.value.breakdown.speedBonus>0?(l(),r(p,{key:0},[T(" + é€Ÿåº¦ "+c(o.value.breakdown.speedBonus)+" è±† ",1)],64)):k("",!0)],64)):(l(),r(p,{key:1},[T(" å°å¹¾å€‹å¾—å¹¾è±† ")],64))])]),a("article",ks,[e[10]||(e[10]=a("p",{class:"result-label"},"æ­£ç¢ºç‡",-1)),a("p",{class:y(["result-value",{placeholder:!o.value}])},c(o.value?De(o.value.accuracy):"--"),3),a("p",ys,[o.value?(l(),r(p,{key:0},[T(c(o.value.isComplete?"ğŸ‰ å…¨å°ï¼":"ç¹¼çºŒåŠ æ²¹"),1)],64)):(l(),r(p,{key:1},[T(" æ­£ç¢ºæ•¸ Ã· ç¸½æ–·å¥æ•¸ ")],64))])]),a("article",gs,[e[11]||(e[11]=a("p",{class:"result-label"},"ç”¨æ™‚",-1)),a("p",{class:y(["result-value",{placeholder:!o.value}])},c(o.value?`${o.value.elapsed} ç§’`:"--"),3),a("p",bs,[o.value?.breakdown?(l(),r(p,{key:0},[T(" åŸºæº– "+c(o.value.breakdown.baseTime)+" ç§’ ",1),o.value.breakdown.speedBonus>0?(l(),r(p,{key:0},[T(" Â· ç¯€çœ "+c(o.value.breakdown.baseTime-o.value.elapsed)+" ç§’ ",1)],64)):k("",!0)],64)):(l(),r(p,{key:1},[T(" å…¨å°æ‰æœ‰é€Ÿåº¦çå‹µ ")],64))])]),a("article",Ts,[e[12]||(e[12]=a("p",{class:"result-label"},"å¯¦å¾—å¥è±†",-1)),a("p",{class:y(["result-value",{placeholder:!o.value||o.value.beansEarned===void 0}])},c(o.value?.beansEarned!==void 0?`+${o.value.beansEarned}`:"--"),3),a("p",Ss,[o.value?.beansEarned!==void 0?(l(),r(p,{key:0},[o.value.isNewRecord?(l(),r("span",ws,"ğŸ† æ–°ç´€éŒ„ï¼")):o.value.beansEarned===0?(l(),r("span",xs,"æœªè¶…éå€‹äººæœ€é«˜è¨˜éŒ„")):(l(),r("span",Cs,"å¢é‡åŠ åˆ†"))],64)):(l(),r(p,{key:1},[T(" ç™»å…¥å¾Œè¨˜éŒ„ ")],64))])])])])}}}),Us=ct(As,[["__scopeId","data-v-c855af91"]]);export{Us as default};
