import{d as x,u as S,c as l,o as k,a as n,b as s,e as p,t as a,f as d,C,g as A,q as c,_ as N}from"./index-wDlN-ORn.js";import{u as P}from"./userStatsStore-CVewrP7t.js";const B={class:"profile-container"},L={class:"profile-header edamame-glass"},w={class:"avatar-section"},z={class:"avatar-wrapper"},M=["src","alt"],U={key:1,class:"avatar-placeholder"},V={class:"level-badge"},E={class:"user-info"},G={class:"user-name"},H={class:"user-role"},T={class:"user-email"},F={class:"stats-section"},W={class:"stat-card edamame-glass beans-card"},q={class:"stat-content"},D={class:"stat-value"},I={class:"stat-card edamame-glass level-card"},X={class:"stat-content"},j={class:"stat-value"},J={class:"level-progress-bar"},K={class:"stat-detail"},O={class:"learning-stats edamame-glass"},Q={class:"stats-grid"},R={class:"mini-stat"},Y={class:"mini-stat-value"},Z={class:"mini-stat"},$={class:"mini-stat-value"},ss={class:"mini-stat"},ts={class:"mini-stat-value"},as={class:"mini-stat"},es={class:"mini-stat-value"},ls={class:"exp-section edamame-glass"},os={class:"exp-display"},is={class:"exp-value"},ns={key:0,class:"login-prompt edamame-glass"},cs=x({__name:"UserProfilePage",setup(ds){const e=S(),o=P(),r=l(()=>e.displayName||"è¨ªå®¢"),v=l(()=>e.avatarUrl),_=l(()=>e.user?.email||""),m=l(()=>e.isTeacher?"è€å¸«":"å­¸ç”Ÿ"),i=l(()=>o.stats),u=l(()=>o.level),h=l(()=>o.levelProgress),g=l(()=>o.expToNextLevel),f=l(()=>o.accuracy);async function b(){await e.logout(),o.reset()}return k(()=>{e.isAuthenticated&&!i.value&&o.fetchStats()}),(rs,t)=>(c(),n("main",B,[s("section",L,[s("div",w,[s("div",z,[v.value?(c(),n("img",{key:0,src:v.value,alt:r.value,class:"avatar-img"},null,8,M)):(c(),n("div",U,a(r.value.charAt(0)),1))]),s("div",V,"Lv."+a(u.value),1)]),s("div",E,[s("h1",G,a(r.value),1),s("p",H,a(m.value),1),s("p",T,a(_.value),1)]),d(e).isAuthenticated?(c(),n("button",{key:0,class:"logout-btn",onClick:b}," ç™»å‡º ")):p("",!0)]),s("section",F,[s("div",W,[t[2]||(t[2]=s("div",{class:"stat-icon"},"ðŸ«˜",-1)),s("div",q,[t[1]||(t[1]=s("p",{class:"stat-label"},"æˆ‘çš„è±†å­",-1)),s("p",D,a(i.value?.beans??0),1)])]),s("div",I,[t[4]||(t[4]=s("div",{class:"stat-icon"},"â­",-1)),s("div",X,[t[3]||(t[3]=s("p",{class:"stat-label"},"ç•¶å‰ç­‰ç´š",-1)),s("p",j,"Lv."+a(u.value),1),s("div",J,[s("div",{class:"level-progress-fill",style:C({width:h.value+"%"})},null,4)]),s("p",K,"è·é›¢ä¸‹ä¸€ç´šé‚„éœ€ "+a(g.value)+" ç¶“é©—",1)])])]),s("section",O,[t[9]||(t[9]=s("h2",{class:"section-title"},"å­¸ç¿’çµ±è¨ˆ",-1)),s("div",Q,[s("div",R,[s("p",Y,a(i.value?.total_practices??0),1),t[5]||(t[5]=s("p",{class:"mini-stat-label"},"ç¸½ç·´ç¿’æ¬¡æ•¸",-1))]),s("div",Z,[s("p",$,a(i.value?.correct_count??0),1),t[6]||(t[6]=s("p",{class:"mini-stat-label"},"æ­£ç¢ºæ¬¡æ•¸",-1))]),s("div",ss,[s("p",ts,a(f.value)+"%",1),t[7]||(t[7]=s("p",{class:"mini-stat-label"},"æ­£ç¢ºçŽ‡",-1))]),s("div",as,[s("p",es,a(i.value?.streak_days??0),1),t[8]||(t[8]=s("p",{class:"mini-stat-label"},"é€£çºŒå­¸ç¿’å¤©æ•¸",-1))])])]),s("section",ls,[t[11]||(t[11]=s("h2",{class:"section-title"},"ç¶“é©—å€¼",-1)),s("div",os,[s("span",is,a(i.value?.total_exp??0),1),t[10]||(t[10]=s("span",{class:"exp-label"},"EXP",-1))])]),d(e).isAuthenticated?p("",!0):(c(),n("section",ns,[t[13]||(t[13]=s("p",null,"ç™»å…¥å¾Œå¯æŸ¥çœ‹å®Œæ•´çš„å­¸ç¿’æ•¸æ“š",-1)),s("button",{class:"login-btn",onClick:t[0]||(t[0]=(...y)=>d(e).loginWithGoogle&&d(e).loginWithGoogle(...y))},[...t[12]||(t[12]=[A('<svg class="google-icon" viewBox="0 0 24 24" width="18" height="18" data-v-945daff9><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" data-v-945daff9></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" data-v-945daff9></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" data-v-945daff9></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" data-v-945daff9></path></svg> ä½¿ç”¨ Google ç™»å…¥ ',2)])])]))]))}}),ps=N(cs,[["__scopeId","data-v-945daff9"]]);export{ps as default};
