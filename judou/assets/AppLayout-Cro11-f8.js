import{d as w,u as F,c,r as U,a,b as e,e as k,n as _,f as r,t as o,g as H,F as v,h as b,i as g,w as A,j as N,k as O,o as t,_ as x,l as C}from"./index-DQxG0V0R.js";const E={class:"sidebar-shell edamame-sidebar edamame-glass"},G=["src","alt"],I={key:1},R={class:"brand-info"},T={class:"brand-title"},W={class:"brand-subtitle"},j={key:0,class:"user-menu-dropdown"},D={class:"sidebar-section"},P={class:"item-title"},q={class:"item-desc"},J={key:1,class:"edamame-sidebar-item disabled"},K={class:"item-title"},Q={class:"item-desc"},X={key:1,class:"sidebar-section"},Y={class:"item-title"},Z={class:"item-desc"},ee={key:1,class:"edamame-sidebar-item disabled"},se={class:"item-title"},te={class:"item-desc"},ae={class:"sidebar-section"},le={class:"edamame-sidebar-item disabled"},oe={class:"item-title"},ne={class:"item-desc"},ie=w({__name:"SidebarMenu",setup(B){const l=F(),h=[{label:"主頁",description:"最新資訊",to:{name:"home"}},{label:"練習",description:"自主練習",to:{name:"practice"}},{label:"排行榜",description:"豆點排名",to:{name:"leaderboard"}},{label:"歷史紀錄",description:"練習足跡",to:{name:"history"}}],u=[{label:"設定",description:"敬請期待",disabled:!0},{label:"反饋",description:"敬請期待",disabled:!0}],M=[{label:"班級管理",description:"管理班級成員",to:{name:"admin-texts"},teacherOnly:!0},{label:"文章管理",description:"建立/編輯練習",to:{name:"admin-texts"},teacherOnly:!0}],m=c(()=>l.isAuthenticated?M.filter(i=>!i.teacherOnly||l.isTeacher):[]),S=O(),f=i=>i.to?S.name===i.to.name:!1,p=c(()=>l.isAuthenticated?l.displayName||"豆友":"訪客"),L=c(()=>p.value.charAt(0)),V=c(()=>l.isAuthenticated?l.isTeacher?"老師":"學生":"未登入"),d=U(!1);async function z(){await l.loginWithGoogle()}async function $(){await l.logout(),d.value=!1}return(i,n)=>{const y=N("router-link");return t(),a("aside",E,[e("div",{class:"sidebar-brand",onClick:n[0]||(n[0]=s=>d.value=!d.value)},[e("div",{class:_(["brand-avatar",{"has-avatar":r(l).avatarUrl}])},[r(l).avatarUrl?(t(),a("img",{key:0,src:r(l).avatarUrl,alt:p.value},null,8,G)):(t(),a("span",I,o(L.value),1))],2),e("div",R,[e("p",T,o(p.value),1),e("p",W,o(V.value),1)])]),d.value?(t(),a("div",j,[r(l).isAuthenticated?(t(),a("button",{key:1,class:"logout-btn",onClick:$}," 登出 ")):(t(),a("button",{key:0,class:"login-btn",onClick:z},[...n[1]||(n[1]=[H('<svg class="google-icon" viewBox="0 0 24 24" width="16" height="16" data-v-535411df><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" data-v-535411df></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" data-v-535411df></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" data-v-535411df></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" data-v-535411df></path></svg> 使用 Google 登入 ',2)])]))])):k("",!0),e("nav",D,[n[2]||(n[2]=e("p",{class:"section-label"},"常用功能",-1)),e("ul",null,[(t(),a(v,null,b(h,s=>e("li",{key:s.label},[s.to&&!s.disabled?(t(),g(y,{key:0,class:_(["edamame-sidebar-item",{active:f(s)}]),to:s.to},{default:A(()=>[e("div",null,[e("p",P,o(s.label),1),e("p",q,o(s.description),1)])]),_:2},1032,["class","to"])):(t(),a("div",J,[e("div",null,[e("p",K,o(s.label),1),e("p",Q,o(s.description),1)])]))])),64))])]),m.value.length>0?(t(),a("nav",X,[n[3]||(n[3]=e("p",{class:"section-label"},"管理",-1)),e("ul",null,[(t(!0),a(v,null,b(m.value,s=>(t(),a("li",{key:s.label},[s.to&&!s.disabled?(t(),g(y,{key:0,class:_(["edamame-sidebar-item",{active:f(s)}]),to:s.to},{default:A(()=>[e("div",null,[e("p",Y,o(s.label),1),e("p",Z,o(s.description),1)])]),_:2},1032,["class","to"])):(t(),a("div",ee,[e("div",null,[e("p",se,o(s.label),1),e("p",te,o(s.description),1)])]))]))),128))])])):k("",!0),e("nav",ae,[n[4]||(n[4]=e("p",{class:"section-label"},"更多",-1)),e("ul",null,[(t(),a(v,null,b(u,s=>e("li",{key:s.label},[e("div",le,[e("div",null,[e("p",oe,o(s.label),1),e("p",ne,o(s.description),1)])])])),64))])]),n[5]||(n[5]=e("div",{class:"sidebar-footer"},[e("p",null,"版本 2.0 Vue"),e("p",{class:"item-desc"},"Supabase + PWA Ready")],-1))])}}}),de=x(ie,[["__scopeId","data-v-535411df"]]),ce={class:"app-layout"},re={class:"app-main"},ue={class:"app-content"},pe=w({__name:"AppLayout",setup(B){return(l,h)=>{const u=N("router-view");return t(),a("div",ce,[C(de),e("section",re,[e("div",ue,[C(u)])])])}}}),ve=x(pe,[["__scopeId","data-v-a70dcd22"]]);export{ve as default};
