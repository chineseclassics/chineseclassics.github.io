import{m as f,d as g,s as b,p as x,a as s,g as y,b as e,F as c,h as u,e as v,f as r,t as l,o,_ as k}from"./index-DyOt8lR1.js";import{u as S}from"./useSupabase-Chv3mLlr.js";const L=f("home",{state:()=>({topPoems:[],poemsLoading:!1,poemsError:null}),actions:{async fetchLatestPoems(p=3){this.poemsLoading=!0,this.poemsError=null;try{const i=S(),{data:n,error:d}=await i.from("poems").select("id,title,author,dynasty,content,created_at").order("created_at",{ascending:!1}).limit(p);if(d)throw d;this.topPoems=n??[]}catch(i){this.poemsError=i instanceof Error?i.message:"讀取資料時發生未知錯誤"}finally{this.poemsLoading=!1}}}}),j={class:"judou-container edamame-bg"},P={class:"judou-grid"},E={class:"edamame-glass hover-lift judou-card"},V={class:"actions-grid"},w=["href"],B={class:"edamame-text-level-subtitle"},H={class:"edamame-text-level-detail"},N={class:"edamame-glass hover-lift judou-card"},A={class:"stats-grid"},C={class:"edamame-text-level-detail"},F={class:"edamame-heading-gradient stat-value"},I={class:"edamame-text-level-detail"},R={class:"edamame-glass hover-lift judou-card"},q={class:"poem-header"},D={key:0,class:"edamame-text-level-detail"},M={key:0,class:"poem-error edamame-text-level-detail"},T={key:1,class:"poem-list"},U={class:"poem-title edamame-text-level-subtitle"},W={class:"poem-author edamame-text-level-detail"},z={key:0,class:"poem-item"},G=g({__name:"HomePage",setup(p){const i=[{label:"進入主頁",description:"Latest feed & stats",href:"#",variant:"primary"},{label:"練習中心",description:"Select passages & submit",href:"#",variant:"secondary"},{label:"排行榜",description:"Realtime standings",href:"#",variant:"outline"}],n=[{title:"活躍豆友",value:"1,024",detail:"+128 今日"},{title:"提交練習",value:"8,530",detail:"本週"},{title:"豆子等級",value:"Lv. 12",detail:"向前 65 exp"}],d=L(),{topPoems:m,poemsLoading:_,poemsError:h}=b(d);return x(()=>{m.value.length||d.fetchLatestPoems()}),(J,a)=>(o(),s("main",j,[a[4]||(a[4]=y('<section class="judou-hero edamame-glass fade-in" data-v-3602985e><div data-v-3602985e><p class="edamame-text-level-detail" data-v-3602985e>種豆南山下 · Vue 版本</p><h1 class="edamame-heading-gradient hero-title" data-v-3602985e>句豆 2.0 設計系統</h1><p class="hero-subtitle" data-v-3602985e> 重新以 Vue + Supabase 打造的學習體驗，保留毛豆美學、動畫靈魂與遊戲化精神，並為未來 PWA／原生應用鋪路。 </p><div class="hero-actions" data-v-3602985e><button class="edamame-btn edamame-btn-primary edamame-btn-lg" data-v-3602985e>啟動設計樣板</button><button class="edamame-btn edamame-btn-outline edamame-btn-lg" data-v-3602985e>查看 UI Showcase</button></div></div><div class="hero-card edamame-character idle" data-v-3602985e><div class="bean-shadow" data-v-3602985e></div></div></section>',1)),e("section",P,[e("article",E,[a[0]||(a[0]=e("p",{class:"edamame-text-level-subtitle"},"快速進入",-1)),e("div",V,[(o(),s(c,null,u(i,t=>e("a",{key:t.label,class:"edamame-sidebar-item judou-action",href:t.href},[e("div",null,[e("p",B,l(t.label),1),e("p",H,l(t.description),1)])],8,w)),64))])]),e("article",N,[a[1]||(a[1]=e("p",{class:"edamame-text-level-subtitle"},"核心指標",-1)),e("div",A,[(o(),s(c,null,u(n,t=>e("div",{key:t.title,class:"judou-stat"},[e("p",C,l(t.title),1),e("p",F,l(t.value),1),e("p",I,l(t.detail),1)])),64))])]),e("article",R,[e("div",q,[a[2]||(a[2]=e("p",{class:"edamame-text-level-subtitle"},"最新詩文",-1)),r(_)?(o(),s("span",D,"載入中…")):v("",!0)]),r(h)?(o(),s("p",M,l(r(h)),1)):(o(),s("ul",T,[(o(!0),s(c,null,u(r(m),t=>(o(),s("li",{key:t.id,class:"poem-item"},[e("p",U,l(t.title),1),e("p",W,l(t.author||"佚名"),1)]))),128)),r(m).length?v("",!0):(o(),s("li",z,[...a[3]||(a[3]=[e("p",{class:"edamame-text-level-detail"},"Supabase 尚未有資料，請先寫入 poems 表。",-1)])]))]))])])]))}}),Q=k(G,[["__scopeId","data-v-3602985e"]]);export{Q as default};
