import{d as Se,u as Ve,r as f,K,c as I,f as De,a as s,h as g,m as q,F as C,g as t,i as j,s as F,j as A,H as k,I as h,L as M,t as i,e as Q,p as X,T as Y,M as Z,b as ie,G as U,J as de,o as a,_ as Fe}from"./index-DOvsTrem.js";import{u as Me}from"./readingStore-y2NrhYfk.js";import{u as Ue}from"./practiceLibraryStore-UPooNQrG.js";import"./useSupabase-aT2ypNVQ.js";const Le={class:"admin-reading-page"},Ee={class:"admin-header"},Be={class:"header-actions"},Oe=["disabled"],Pe=["disabled"],Ne={class:"admin-layout"},Ke={class:"category-sidebar edamame-glass"},je={class:"sidebar-header"},He={key:0,class:"sidebar-loading"},ze={key:1,class:"sidebar-empty"},Ge={key:2,class:"category-tree"},Je={key:0,class:"tree-item editing"},We=["onClick"],qe={class:"tree-label"},Qe={class:"tree-count"},Xe={class:"tree-actions"},Ye=["onClick"],Ze=["onClick"],et={key:3,class:"add-category-inline"},tt={class:"add-category-actions"},nt={class:"content-panel edamame-glass"},lt={key:0,class:"content-empty"},at={class:"category-info"},st={class:"category-meta"},ot={class:"text-list-section"},it={key:0,class:"text-empty"},dt={key:1},rt=["onClick"],ut={class:"text-title"},ct={class:"text-preview"},vt=["onClick"],mt=["onClick"],gt=["onClick"],pt=["onClick"],ft=["onClick"],yt={class:"text-meta edamame-glass"},bt={class:"detail-title"},kt={class:"meta-row"},_t={key:0,class:"meta-item"},xt={key:1,class:"meta-item"},Ct={class:"meta-item"},ht={key:2,class:"meta-item"},wt={class:"category-tags inline"},Tt={key:0,class:"selection-toolbar"},$t={class:"selected-text"},It={key:1,class:"annotations-section edamame-glass"},At={class:"section-title"},Rt={class:"annotation-list"},St={class:"annotation-term"},Vt={class:"annotation-content"},Dt=["onClick"],Ft={class:"modal-card edamame-glass large-modal"},Mt={class:"modal-body"},Ut={class:"form-row"},Lt={class:"flex-2"},Et={class:"form-row"},Bt={class:"category-picker"},Ot=["onClick"],Pt={key:0,class:"tag-check"},Nt={key:0,class:"new-category-inline"},Kt={key:0,class:"feedback"},jt=["disabled"],Ht={class:"modal-card edamame-glass"},zt={class:"modal-body"},Gt={class:"selected-preview"},Jt={class:"preview-content"},Wt={class:"preview-info"},qt={class:"form-row"},Qt=["value"],Xt={class:"extract-note"},Yt={key:0,class:"feedback"},Zt=["disabled"],en={class:"modal-card edamame-glass"},tn={class:"modal-body"},nn={class:"selected-preview"},ln={class:"preview-content annotation-term-preview"},an={key:0,class:"feedback"},sn=["disabled"],on=Se({__name:"AdminReadingPage",setup(dn){const r=Me(),ee=Ue(),re=Ve(),E=f("list"),d=f(null),_=f(null),w=f(!1),R=f(!1),S=f(!1),y=f(!1),v=f(null),T=f(null),o=K({title:"",author:"",source:"",summary:"",content:"",reading_category_ids:[]}),x=f(!1),b=f(""),L=f(null),V=f(""),u=K({selectedText:"",startIndex:0,endIndex:0,title:"",category_id:null,difficulty:2}),p=K({selectedText:"",startIndex:0,endIndex:0,annotation:""}),D=I(()=>r.readingCategories),ue=I(()=>ee.state.categories.filter(l=>l.level===1).sort((l,e)=>l.order_index-e.order_index)),H=I(()=>_.value&&r.readingCategories.find(l=>l.id===_.value)||null),z=I(()=>_.value?r.readingTexts.filter(l=>l.reading_categories?.some(e=>e.id===_.value)):[]);function te(l){return r.readingTexts.filter(e=>e.reading_categories?.some(n=>n.id===l)).length}function ce(l){_.value=l}function ve(l){L.value=l.id,V.value=l.name}function B(){L.value=null,V.value=""}async function ne(){if(!L.value||!V.value.trim()){B();return}try{await r.updateReadingCategory(L.value,{name:V.value.trim()}),B()}catch(l){alert(l?.message||"æ›´æ–°æ–‡é›†å¤±æ•—")}}async function me(l){const e=te(l.id);if(e>0){alert(`ç„¡æ³•åˆªé™¤ã€Œ${l.name}ã€ï¼šæ­¤æ–‡é›†ä¸‹é‚„æœ‰ ${e} ç¯‡æ–‡ç« ã€‚è«‹å…ˆç§»é™¤æ–‡ç« å¾Œå†åˆªé™¤æ–‡é›†ã€‚`);return}if(confirm(`ç¢ºå®šè¦åˆªé™¤æ–‡é›†ã€Œ${l.name}ã€å—ï¼Ÿ`))try{await r.deleteReadingCategory(l.id),_.value===l.id&&(_.value=null)}catch(n){alert(n?.message||"åˆªé™¤æ–‡é›†å¤±æ•—")}}const ge=I(()=>{const l=r.currentText||d.value;return l?l.content.replace(/\|/g,""):""}),pe=I(()=>{const l=r.currentText||d.value;if(!l)return[];const e=l.content.includes("||")?"||":/\n\n+/;return l.content.split(e).map(n=>n.replace(/\|/g,""))}),G=I(()=>r.currentText?.annotations||[]);async function O(l){d.value=l,E.value="detail",await r.fetchTextDetail(l.id)}function le(){E.value="list",d.value=null,r.clearCurrentText()}function ae(){T.value=null,o.title="",o.author="",o.source="",o.summary="",o.content="",o.reading_category_ids=[],v.value=null,w.value=!0}function fe(){const l=r.currentText||d.value;l&&se(l)}function se(l){T.value=l,o.title=l.title,o.author=l.author||"",o.source=l.source||"",o.summary=l.summary||"";let e=l.content;e.includes("||")&&(e=e.replace(/\|\|/g,`

`)),o.content=e,o.reading_category_ids=l.reading_categories?.map(n=>n.id)||[],v.value=null,w.value=!0}async function ye(l){if(confirm(`ç¢ºå®šè¦åˆªé™¤ã€Œ${l.title}ã€å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚`))try{await r.deleteReadingText(l.id),d.value?.id===l.id&&le()}catch(e){alert(e?.message||"åˆªé™¤å¤±æ•—")}}async function be(){if(!o.title.trim()||!o.content.trim()){v.value="æ¨™é¡Œå’Œå…§å®¹ç‚ºå¿…å¡«";return}try{y.value=!0;const l=Ie(o.content);if(!l){v.value="å…§å®¹è™•ç†å¾Œç‚ºç©ºï¼Œè«‹æª¢æŸ¥è¼¸å…¥";return}if(T.value){if(await r.updateReadingText(T.value.id,{title:o.title.trim(),author:o.author.trim()||null,source:o.source.trim()||null,summary:o.summary.trim()||null,category_id:null,content:l,reading_category_ids:o.reading_category_ids}),T.value&&d.value?.id===T.value.id){const e=r.readingTexts.find(n=>n.id===T.value.id);e&&(d.value=e)}w.value=!1}else await r.createReadingText({title:o.title.trim(),author:o.author.trim()||null,source:o.source.trim()||null,summary:o.summary.trim()||null,content:l,category_id:null,reading_category_ids:o.reading_category_ids},re.isAdmin),w.value=!1}catch(l){v.value=l?.message||"å„²å­˜å¤±æ•—"}finally{y.value=!1}}function ke(){const l=window.getSelection();if(!l||l.isCollapsed)return;const e=l.toString().trim();if(!e||e.length===0)return;const c=ge.value.indexOf(e);c>=0&&_e(e,c,c+e.length)}const m=K({show:!1,text:"",startIndex:0,endIndex:0});function _e(l,e,n){m.text=l,m.startIndex=e,m.endIndex=n,m.show=!0}function J(){m.show=!1}function xe(){d.value&&(u.selectedText=m.text,u.startIndex=m.startIndex,u.endIndex=m.endIndex,u.title=`${d.value.title}ï¼ˆç¯€é¸ï¼‰`,u.category_id=d.value.category_id||null,u.difficulty=2,v.value=null,J(),R.value=!0)}function Ce(){p.selectedText=m.text,p.startIndex=m.startIndex,p.endIndex=m.endIndex,p.annotation="",v.value=null,J(),S.value=!0}async function he(){if(!d.value||!u.selectedText){v.value="è«‹é¸å–è¦æå–çš„æ–‡å­—";return}if(!u.title.trim()){v.value="è«‹è¼¸å…¥æ¨™é¡Œ";return}try{y.value=!0;const l=d.value.content;let e="",n=0;for(let c=0;c<l.length;c++){const N=l[c];N==="|"?n>u.startIndex&&n<=u.endIndex&&(e+=N):(n>=u.startIndex&&n<u.endIndex&&(e+=N),n++)}await r.extractPracticeFragment(d.value.id,u.startIndex,u.endIndex,e,{title:u.title.trim(),category_id:u.category_id,difficulty:u.difficulty}),R.value=!1,alert("ç·´ç¿’ç´ ææå–æˆåŠŸï¼")}catch(l){v.value=l?.message||"æå–å¤±æ•—"}finally{y.value=!1}}async function we(){if(!d.value||!p.selectedText){v.value="è«‹é¸å–è¦è¨»é‡‹çš„æ–‡å­—";return}if(!p.annotation.trim()){v.value="è«‹è¼¸å…¥è¨»é‡‹å…§å®¹";return}try{y.value=!0,await r.addAnnotation({text_id:d.value.id,start_index:p.startIndex,end_index:p.endIndex,term:p.selectedText,annotation:p.annotation.trim()}),S.value=!1,alert("è¨»é‡‹æ·»åŠ æˆåŠŸï¼"),await r.fetchTextDetail(d.value.id)}catch(l){v.value=l?.message||"æ·»åŠ è¨»é‡‹å¤±æ•—"}finally{y.value=!1}}async function Te(l){if(confirm(`ç¢ºå®šè¦åˆªé™¤ã€Œ${l.term}ã€çš„è¨»é‡‹å—ï¼Ÿ`))try{await r.deleteAnnotation(l.id),d.value&&await r.fetchTextDetail(d.value.id)}catch(e){alert(e?.message||"åˆªé™¤å¤±æ•—")}}function $e(l){return l.content.replace(/\|/g,"").slice(0,40)+"..."}function Ie(l){const e=/[ã€‚ï¼Œã€ï¼›ï¼šï¼ï¼Ÿ,.;:!?]/g,n=/[ã€Œã€ã€ã€""''ï¼ˆï¼‰()ã€ã€‘\[\]ã€Šã€‹<>Â·â€”â€¦ï½\-]/g;return l.split(/\n+/).map(W=>{let $=W.trim();return $?($=$.replace(n,""),$=$.replace(e,"|"),$=$.replace(/\|+/g,"|").replace(/^\|/,"").replace(/\|$/,""),$):""}).filter(W=>W.length>0).join(`

`)}function Ae(l){return l?new Date(l).toLocaleDateString():"--"}function oe(l){return l.content.replace(/\|/g,"").length}function Re(l){const e=o.reading_category_ids.indexOf(l);e>-1?o.reading_category_ids.splice(e,1):o.reading_category_ids.push(l)}async function P(){if(b.value.trim())try{const l=await r.createReadingCategory(b.value.trim());l&&o.reading_category_ids.push(l.id),b.value="",x.value=!1}catch(l){alert(l?.message||"æ–°å¢åˆ†é¡å¤±æ•—")}}return De(async()=>{await Promise.all([r.fetchReadingCategories(),r.fetchReadingTexts(),ee.fetchLibrary()]),D.value.length>0&&!_.value&&D.value[0]&&(_.value=D.value[0].id)}),(l,e)=>(a(),s("div",Le,[E.value==="list"?(a(),s(C,{key:0},[t("header",Ee,[e[29]||(e[29]=t("div",null,[t("p",{class:"edamame-text-level-detail"},"ç®¡ç†é–±è®€æ–‡ç« å’Œæå–ç·´ç¿’ç‰‡æ®µ"),t("h1",{class:"edamame-heading-gradient"},"é–±è®€æ–‡åº«")],-1)),t("div",Be,[t("button",{class:"edamame-btn edamame-btn-secondary",onClick:e[0]||(e[0]=n=>{j(r).fetchReadingTexts(),j(r).fetchReadingCategories()}),disabled:j(r).isLoading}," é‡æ–°æ•´ç† ",8,Oe),t("button",{class:"edamame-btn edamame-btn-primary",onClick:ae,disabled:!H.value}," æ–°å¢é–±è®€æ–‡ç«  ",8,Pe)])]),t("div",Ne,[t("aside",Ke,[t("div",je,[e[31]||(e[31]=t("span",{class:"sidebar-title"},"æ–‡é›†å°èˆª",-1)),t("button",{class:"icon-btn",onClick:e[1]||(e[1]=n=>{x.value=!0,b.value=""}),title:"æ–°å¢æ–‡é›†"},[...e[30]||(e[30]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 5v14M5 12h14"})],-1)])])]),j(r).isLoading?(a(),s("div",He,"è¼‰å…¥ä¸­â‹¯")):D.value.length?(a(),s("nav",Ge,[(a(!0),s(C,null,A(D.value,n=>(a(),s("div",{key:n.id,class:"tree-node"},[L.value===n.id?(a(),s("div",Je,[k(t("input",{"onUpdate:modelValue":e[3]||(e[3]=c=>V.value=c),type:"text",class:"edit-input",onKeyup:[M(ne,["enter"]),M(B,["escape"])],ref_for:!0,ref:"editInput"},null,544),[[h,V.value]]),t("div",{class:"edit-actions"},[t("button",{class:"action-btn",onClick:ne,title:"ç¢ºèª"},"âœ“"),t("button",{class:"action-btn",onClick:B,title:"å–æ¶ˆ"},"Ã—")])])):(a(),s("div",{key:1,class:ie(["tree-item",{selected:_.value===n.id}]),onClick:c=>ce(n.id)},[t("span",qe,i(n.name),1),t("span",Qe,i(te(n.id)),1),t("div",Xe,[t("button",{class:"action-btn",onClick:U(c=>ve(n),["stop"]),title:"ç·¨è¼¯"},"âœ",8,Ye),t("button",{class:"action-btn danger",onClick:U(c=>me(n),["stop"]),title:"åˆªé™¤"},"Ã—",8,Ze)])],10,We))]))),128))])):(a(),s("div",ze,[e[32]||(e[32]=F(" å°šç„¡æ–‡é›† ",-1)),t("button",{class:"link-btn",onClick:e[2]||(e[2]=n=>{x.value=!0,b.value=""})},"å»ºç«‹ç¬¬ä¸€å€‹æ–‡é›†")])),x.value?(a(),s("div",et,[k(t("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>b.value=n),type:"text",placeholder:"è¼¸å…¥æ–‡é›†åç¨±...",class:"category-input",onKeyup:[M(P,["enter"]),e[5]||(e[5]=M(n=>x.value=!1,["escape"]))]},null,544),[[h,b.value]]),t("div",tt,[t("button",{class:"action-btn",onClick:P,title:"ç¢ºèª"},"âœ“"),t("button",{class:"action-btn",onClick:e[6]||(e[6]=n=>x.value=!1),title:"å–æ¶ˆ"},"Ã—")])])):g("",!0)]),t("main",nt,[H.value?(a(),s(C,{key:1},[t("div",at,[t("h2",null,i(H.value.name),1),t("p",st,i(z.value.length)+" ç¯‡æ–‡ç« ",1)]),t("div",ot,[z.value.length?(a(),s("table",dt,[e[35]||(e[35]=t("thead",null,[t("tr",null,[t("th",{style:{width:"auto","min-width":"200px"}},"æ¨™é¡Œ"),t("th",{style:{width:"80px"}},"ä½œè€…"),t("th",{style:{width:"70px"}},"å­—æ•¸"),t("th",{style:{width:"100px"}},"å»ºç«‹æ—¥æœŸ"),t("th",{style:{width:"120px"}},"æ“ä½œ")])],-1)),t("tbody",null,[(a(!0),s(C,null,A(z.value,n=>(a(),s("tr",{key:n.id,class:"text-row"},[t("td",{onClick:c=>O(n)},[t("p",ut,i(n.title),1),t("p",ct,i($e(n)),1)],8,rt),t("td",{onClick:c=>O(n)},i(n.author||"ä½šå"),9,vt),t("td",{onClick:c=>O(n)},i(oe(n)),9,mt),t("td",{onClick:c=>O(n)},i(Ae(n.created_at)),9,gt),t("td",{class:"actions",onClick:e[7]||(e[7]=U(()=>{},["stop"]))},[t("button",{class:"ghost-btn",onClick:c=>se(n)},"ç·¨è¼¯",8,pt),t("button",{class:"ghost-btn danger",onClick:c=>ye(n)},"åˆªé™¤",8,ft)])]))),128))])])):(a(),s("div",it,[e[34]||(e[34]=t("p",null,"æ­¤æ–‡é›†å°šç„¡æ–‡ç« ",-1)),t("button",{class:"edamame-btn edamame-btn-primary",onClick:ae},"æ–°å¢ç¬¬ä¸€ç¯‡æ–‡ç« ")]))])],64)):(a(),s("div",lt,[...e[33]||(e[33]=[t("p",null,"è«‹å¾å·¦å´é¸æ“‡ä¸€å€‹æ–‡é›†",-1)])]))])])],64)):E.value==="detail"&&d.value?(a(),s(C,{key:1},[t("header",{class:"detail-header"},[t("button",{class:"back-btn",onClick:le},[...e[36]||(e[36]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),F(" è¿”å›åˆ—è¡¨ ",-1)])]),t("div",{class:"detail-actions"},[t("button",{class:"edamame-btn edamame-btn-secondary",onClick:fe}," ç·¨è¼¯æ–‡ç«  ")])]),t("div",yt,[t("h1",bt,i(d.value.title),1),t("div",kt,[d.value.author?(a(),s("span",_t,[e[37]||(e[37]=t("strong",null,"ä½œè€…ï¼š",-1)),F(i(d.value.author),1)])):g("",!0),d.value.source?(a(),s("span",xt,[e[38]||(e[38]=t("strong",null,"ä¾†æºï¼š",-1)),F(i(d.value.source),1)])):g("",!0),t("span",Ct,[e[39]||(e[39]=t("strong",null,"å­—æ•¸ï¼š",-1)),F(i(oe(d.value)),1)]),d.value.reading_categories?.length?(a(),s("span",ht,[e[40]||(e[40]=t("strong",null,"æ–‡é›†ï¼š",-1)),t("span",wt,[(a(!0),s(C,null,A(d.value.reading_categories,n=>(a(),s("span",{key:n.id,class:"category-tag"},i(n.name),1))),128))])])):g("",!0)])]),e[41]||(e[41]=t("div",{class:"action-hint"}," ğŸ’¡ é¸å–æ–‡å­—å¾Œå¯ä»¥ã€Œæå–ç‚ºç·´ç¿’ã€æˆ–ã€Œæ·»åŠ è¨»é‡‹ã€ ",-1)),m.show?(a(),s("div",Tt,[t("span",$t,"ã€Œ"+i(m.text.slice(0,20))+i(m.text.length>20?"...":"")+"ã€",1),t("button",{class:"toolbar-btn extract",onClick:xe}," ğŸ“¤ æå–ç‚ºç·´ç¿’ "),t("button",{class:"toolbar-btn annotate",onClick:Ce}," ğŸ“ æ·»åŠ è¨»é‡‹ "),t("button",{class:"toolbar-btn cancel",onClick:J}," âœ• ")])):g("",!0),t("div",{class:"text-content edamame-glass",onMouseup:ke},[(a(!0),s(C,null,A(pe.value,(n,c)=>(a(),s("div",{key:c,class:"paragraph"},i(n),1))),128))],32),G.value.length>0?(a(),s("div",It,[t("h3",At,"ğŸ“ å·²æ·»åŠ çš„è¨»é‡‹ ("+i(G.value.length)+")",1),t("div",Rt,[(a(!0),s(C,null,A(G.value,n=>(a(),s("div",{key:n.id,class:"annotation-item"},[t("div",St,i(n.term),1),t("div",Vt,i(n.annotation),1),t("button",{class:"delete-btn",onClick:c=>Te(n),title:"åˆªé™¤"}," âœ• ",8,Dt)]))),128))])])):g("",!0)],64)):g("",!0),(a(),q(Z,{to:"body"},[Q(Y,{name:"fade"},{default:X(()=>[w.value?(a(),s("div",{key:0,class:"modal-backdrop",onClick:e[18]||(e[18]=U(n=>w.value=!1,["self"]))},[t("div",Ft,[t("header",null,[t("h3",null,i(T.value?"ç·¨è¼¯é–±è®€æ–‡ç« ":"æ–°å¢é–±è®€æ–‡ç« "),1),t("button",{class:"close-btn",onClick:e[8]||(e[8]=n=>w.value=!1)},"Ã—")]),t("div",Mt,[t("div",Ut,[t("label",Lt,[e[42]||(e[42]=t("span",null,"æ¨™é¡Œ *",-1)),k(t("input",{"onUpdate:modelValue":e[9]||(e[9]=n=>o.title=n),type:"text",placeholder:"æ–‡ç« æ¨™é¡Œ"},null,512),[[h,o.title]])])]),t("div",Et,[t("label",null,[e[43]||(e[43]=t("span",null,"ä½œè€…",-1)),k(t("input",{"onUpdate:modelValue":e[10]||(e[10]=n=>o.author=n),type:"text",placeholder:"ä¾‹å¦‚ï¼šé™¶æ·µæ˜"},null,512),[[h,o.author]])]),t("label",null,[e[44]||(e[44]=t("span",null,"ä¾†æº",-1)),k(t("input",{"onUpdate:modelValue":e[11]||(e[11]=n=>o.source=n),type:"text",placeholder:"ä¾‹å¦‚ï¼šå¤æ–‡è§€æ­¢"},null,512),[[h,o.source]])])]),t("label",null,[e[45]||(e[45]=t("span",null,"æ–‡é›†ï¼ˆé»æ“Šé¸æ“‡ï¼‰",-1)),t("div",Bt,[(a(!0),s(C,null,A(D.value,n=>(a(),s("button",{key:n.id,type:"button",class:ie(["category-tag-btn",{selected:o.reading_category_ids.includes(n.id)}]),onClick:c=>Re(n.id)},[o.reading_category_ids.includes(n.id)?(a(),s("span",Pt,"âœ“")):g("",!0),F(" "+i(n.name),1)],10,Ot))),128)),x.value?(a(),s("div",Nt,[k(t("input",{"onUpdate:modelValue":e[12]||(e[12]=n=>b.value=n),type:"text",class:"new-category-input-inline",onKeyup:[M(P,["enter"]),e[13]||(e[13]=M(n=>{x.value=!1,b.value=""},["escape"]))]},null,544),[[h,b.value]]),t("button",{type:"button",class:"inline-action confirm",onClick:P},"âœ“"),t("button",{type:"button",class:"inline-action cancel",onClick:e[14]||(e[14]=n=>{x.value=!1,b.value=""})},"Ã—")])):(a(),s("button",{key:1,type:"button",class:"category-tag-btn add-new",onClick:e[15]||(e[15]=n=>{x.value=!0,b.value=""})}," + æ–°å¢æ–‡é›† "))])]),t("label",null,[e[46]||(e[46]=t("span",null,"å…§å®¹ï¼ˆå¯ç›´æ¥ç²˜è²¼å¸¶æ¨™é»çš„åŸæ–‡ï¼‰",-1)),k(t("textarea",{"onUpdate:modelValue":e[16]||(e[16]=n=>o.content=n),rows:"10",placeholder:`ç›´æ¥ç²˜è²¼å¤æ–‡åŸæ–‡å³å¯ï¼Œç³»çµ±æœƒè‡ªå‹•è™•ç†æ¨™é»ç¬¦è™Ÿã€‚

ä¾‹å¦‚ï¼š
æ™‰å¤ªåŸä¸­ï¼Œæ­¦é™µäººæ•é­šç‚ºæ¥­ã€‚ç·£æºªè¡Œï¼Œå¿˜è·¯ä¹‹é è¿‘ã€‚

æ®µè½ä¹‹é–“ç”¨ç©ºè¡Œåˆ†éš”ã€‚`},null,512),[[h,o.content]])]),v.value?(a(),s("p",Kt,i(v.value),1)):g("",!0)]),t("footer",null,[t("button",{class:"edamame-btn edamame-btn-secondary",onClick:e[17]||(e[17]=n=>w.value=!1)}," å–æ¶ˆ "),t("button",{class:"edamame-btn edamame-btn-primary",disabled:y.value,onClick:be},i(y.value?"å„²å­˜ä¸­...":"å„²å­˜"),9,jt)])])])):g("",!0)]),_:1})])),(a(),q(Z,{to:"body"},[Q(Y,{name:"fade"},{default:X(()=>[R.value?(a(),s("div",{key:0,class:"modal-backdrop",onClick:e[24]||(e[24]=U(n=>R.value=!1,["self"]))},[t("div",Ht,[t("header",null,[e[47]||(e[47]=t("h3",null,"ğŸ“¤ æå–ç‚ºç·´ç¿’ç´ æ",-1)),t("button",{class:"close-btn",onClick:e[19]||(e[19]=n=>R.value=!1)},"Ã—")]),t("div",zt,[t("div",Gt,[e[48]||(e[48]=t("p",{class:"preview-label"},"é¸å–çš„ç‰‡æ®µï¼š",-1)),t("p",Jt,i(u.selectedText),1),t("p",Wt," å…± "+i(u.selectedText.length)+" å­— ",1)]),t("label",null,[e[49]||(e[49]=t("span",null,"ç·´ç¿’æ¨™é¡Œ *",-1)),k(t("input",{"onUpdate:modelValue":e[20]||(e[20]=n=>u.title=n),type:"text",placeholder:"ä¾‹å¦‚ï¼šæ¡ƒèŠ±æºè¨˜ï¼ˆç¯€é¸ä¸€ï¼‰"},null,512),[[h,u.title]])]),t("div",qt,[t("label",null,[e[51]||(e[51]=t("span",null,"åˆ†é¡",-1)),k(t("select",{"onUpdate:modelValue":e[21]||(e[21]=n=>u.category_id=n)},[e[50]||(e[50]=t("option",{value:null},"ä¸åˆ†é¡",-1)),(a(!0),s(C,null,A(ue.value,n=>(a(),s("option",{key:n.id,value:n.id},i(n.name),9,Qt))),128))],512),[[de,u.category_id]])]),t("label",null,[e[53]||(e[53]=t("span",null,"é›£åº¦",-1)),k(t("select",{"onUpdate:modelValue":e[22]||(e[22]=n=>u.difficulty=n)},[...e[52]||(e[52]=[t("option",{value:1},"åˆç´š",-1),t("option",{value:2},"ä¸­ç´š",-1),t("option",{value:3},"é«˜ç´š",-1)])],512),[[de,u.difficulty]])])]),t("p",Xt," æå–å¾Œçš„ç·´ç¿’ç´ æå°‡é—œè¯åˆ°åŸæ–‡ç« ï¼Œå­¸ç”Ÿç·´ç¿’æ™‚å¯ä»¥çœ‹åˆ°ã€Œä¾†è‡ªã€Š"+i(d.value?.title)+"ã€‹ã€ ",1),v.value?(a(),s("p",Yt,i(v.value),1)):g("",!0)]),t("footer",null,[t("button",{class:"edamame-btn edamame-btn-secondary",onClick:e[23]||(e[23]=n=>R.value=!1)}," å–æ¶ˆ "),t("button",{class:"edamame-btn edamame-btn-primary",disabled:y.value,onClick:he},i(y.value?"æå–ä¸­...":"ç¢ºèªæå–"),9,Zt)])])])):g("",!0)]),_:1})])),(a(),q(Z,{to:"body"},[Q(Y,{name:"fade"},{default:X(()=>[S.value?(a(),s("div",{key:0,class:"modal-backdrop",onClick:e[28]||(e[28]=U(n=>S.value=!1,["self"]))},[t("div",en,[t("header",null,[e[54]||(e[54]=t("h3",null,"ğŸ“ æ·»åŠ è¨»é‡‹",-1)),t("button",{class:"close-btn",onClick:e[25]||(e[25]=n=>S.value=!1)},"Ã—")]),t("div",tn,[t("div",nn,[e[55]||(e[55]=t("p",{class:"preview-label"},"é¸å–çš„å­—è©ï¼š",-1)),t("p",ln,i(p.selectedText),1)]),t("label",null,[e[56]||(e[56]=t("span",null,"è¨»é‡‹å…§å®¹ *",-1)),k(t("textarea",{"onUpdate:modelValue":e[26]||(e[26]=n=>p.annotation=n),rows:"4",placeholder:"è¼¸å…¥å°é€™å€‹å­—è©çš„è§£é‡‹..."},null,512),[[h,p.annotation]])]),v.value?(a(),s("p",an,i(v.value),1)):g("",!0)]),t("footer",null,[t("button",{class:"edamame-btn edamame-btn-secondary",onClick:e[27]||(e[27]=n=>S.value=!1)}," å–æ¶ˆ "),t("button",{class:"edamame-btn edamame-btn-primary",disabled:y.value,onClick:we},i(y.value?"æ·»åŠ ä¸­...":"ç¢ºèªæ·»åŠ "),9,sn)])])])):g("",!0)]),_:1})]))]))}}),mn=Fe(on,[["__scopeId","data-v-b971a8c3"]]);export{mn as default};
