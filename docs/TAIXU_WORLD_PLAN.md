# 太虛幻境：世界導航與模擬經營整合開發計劃

## 1. 核心願景
將「太虛幻境」從單純的 App 列表轉化為一個可探索、可經營的文化世界。導航不再是菜單點擊，而是空間尋訪；經營不再是數據堆疊，而是文人生活意境的體現。

## 2. 空間結構與導航機制

### A. 中心樞紐區 (The Central Hub)
- **位置**：地圖正中央固定區域（預設 8x8 網格）。
- **屬性**：系統保留地，不可拆除，不可覆蓋規劃。
- **建築入口**：
  - **句豆**：意象化建築「南山草廬」。
  - **詞龍**：意象化建築「墨池涼亭」。
  - **時文寶鑑**：意象化建築「萬卷書院」。
- **導航體驗**：用戶在地圖上點擊對應建築，彈出「尋訪」界面，點擊進入獨立應用。

### B. 玩家自由區 (Player Wilderness)
- **位置**：除中心樞紐外的所有土地。
- **功能**：
  - **翰墨境**：用戶搭建名士居所，如「瀟湘館」、「東坡居」。
  - **豆田境**：用戶開發田園，模擬「歸園田居」的生長過程。
- **經營工具**：通過側邊欄調度（拆除、官道、暗渠、綠化）。

## 3. UI 交互規範
- **側邊欄 (Sidebar)**：保留現有遊戲功能。包含「工法」、「規劃」、「營造」分類，以及「帳簿」、「統計」、「幕僚」、「設定」面板。
- **不使用側邊導航**：確保側邊欄不被 App 鏈接佔據，維持經營遊戲的沉浸感。
- **快捷導航 (可選)**：在 ⌘K 命令菜單中保留極速跳轉入口，滿足高效導航需求。

## 4. 數據聯動：文化種子系統
- **生產機制**：在子 App（如句豆）中完成學習任務，獲得「文化種子」或「文氣值」。
- **消耗機制**：在大地圖（太虛幻境）中使用資源升級居所、擴張豆田。
- **展示價值**：大地圖的繁榮程度反映了用戶在所有子 App 中的綜合學習成就。

## 5. 開發路線圖
1. **第一階段 (預研)**：在代碼中定義「中心保護區」坐標與不可拆除邏輯。
2. **第二階段 (意象化)**：將 App 入口建築與現有 ToolInfo 中的 `appUrl` 綁定。
3. **第三階段 (聯動)**：接入 Supabase 統一數據中心，實現跨應用的學習數據同步。

