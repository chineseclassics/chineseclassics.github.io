const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomeView-BapMzlTh.js","assets/WaitingLobby-CdECCK_s.js","assets/WaitingLobby-CXvNgYAE.css","assets/HomeView-DJBMfJxV.css","assets/RoomView-DiSDeMbb.js","assets/RoomView-oyWaLaxx.css"])))=>i.map(i=>d[i]);
function fd(t,e){for(var s=0;s<e.length;s++){const r=e[s];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(r,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function qo(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ne={},qs=[],At=()=>{},Pc=()=>!1,Zn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ko=t=>t.startsWith("onUpdate:"),De=Object.assign,Go=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},pd=Object.prototype.hasOwnProperty,se=(t,e)=>pd.call(t,e),K=Array.isArray,Ks=t=>ei(t)==="[object Map]",Cc=t=>ei(t)==="[object Set]",J=t=>typeof t=="function",we=t=>typeof t=="string",zt=t=>typeof t=="symbol",ce=t=>t!==null&&typeof t=="object",$c=t=>(ce(t)||J(t))&&J(t.then)&&J(t.catch),jc=Object.prototype.toString,ei=t=>jc.call(t),gd=t=>ei(t).slice(8,-1),Ic=t=>ei(t)==="[object Object]",ti=t=>we(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Er=qo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),si=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},vd=/-\w/g,lt=si(t=>t.replace(vd,e=>e.slice(1).toUpperCase())),md=/\B([A-Z])/g,ns=si(t=>t.replace(md,"-$1").toLowerCase()),ri=si(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ti=si(t=>t?`on${ri(t)}`:""),ts=(t,e)=>!Object.is(t,e),On=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Nc=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Jo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Fa;const ni=()=>Fa||(Fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yo(t){if(K(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=we(r)?wd(r):Yo(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(we(t)||ce(t))return t}const yd=/;(?![^(]*\))/g,bd=/:([^]+)/,_d=/\/\*[^]*?\*\//g;function wd(t){const e={};return t.replace(_d,"").split(yd).forEach(s=>{if(s){const r=s.split(bd);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Qo(t){let e="";if(we(t))e=t;else if(K(t))for(let s=0;s<t.length;s++){const r=Qo(t[s]);r&&(e+=r+" ")}else if(ce(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Ed="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sd=qo(Ed);function Dc(t){return!!t||t===""}const Lc=t=>!!(t&&t.__v_isRef===!0),Rd=t=>we(t)?t:t==null?"":K(t)||ce(t)&&(t.toString===jc||!J(t.toString))?Lc(t)?Rd(t.value):JSON.stringify(t,Uc,2):String(t),Uc=(t,e)=>Lc(e)?Uc(t,e.value):Ks(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Pi(r,i)+" =>"]=n,s),{})}:Cc(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Pi(s))}:zt(e)?Pi(e):ce(e)&&!K(e)&&!Ic(e)?String(e):e,Pi=(t,e="")=>{var s;return zt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};let je;class Mc{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=je,!e&&je&&(this.index=(je.scopes||(je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=je;try{return je=this,e()}finally{je=s}}}on(){++this._on===1&&(this.prevScope=je,je=this)}off(){this._on>0&&--this._on===0&&(je=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Bc(t){return new Mc(t)}function zc(){return je}function Od(t,e=!1){je&&je.cleanups.push(t)}let le;const Ci=new WeakSet;class Hc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,je&&je.active&&je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ci.has(this)&&(Ci.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wa(this),Wc(this);const e=le,s=pt;le=this,pt=!0;try{return this.fn()}finally{qc(this),le=e,pt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ea(e);this.deps=this.depsTail=void 0,Wa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ci.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ao(this)&&this.run()}get dirty(){return ao(this)}}let Vc=0,Sr,Rr;function Fc(t,e=!1){if(t.flags|=8,e){t.next=Rr,Rr=t;return}t.next=Sr,Sr=t}function Xo(){Vc++}function Zo(){if(--Vc>0)return;if(Rr){let e=Rr;for(Rr=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Sr;){let e=Sr;for(Sr=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Wc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function qc(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),ea(r),Ad(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function ao(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Kc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Kc(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===jr)||(t.globalVersion=jr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!ao(t))))return;t.flags|=2;const e=t.dep,s=le,r=pt;le=t,pt=!0;try{Wc(t);const n=t.fn(t._value);(e.version===0||ts(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{le=s,pt=r,qc(t),t.flags&=-3}}function ea(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)ea(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ad(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let pt=!0;const Gc=[];function Lt(){Gc.push(pt),pt=!1}function Ut(){const t=Gc.pop();pt=t===void 0?!0:t}function Wa(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=le;le=void 0;try{e()}finally{le=s}}}let jr=0;class xd{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ta{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!le||!pt||le===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==le)s=this.activeLink=new xd(le,this),le.deps?(s.prevDep=le.depsTail,le.depsTail.nextDep=s,le.depsTail=s):le.deps=le.depsTail=s,Jc(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=le.depsTail,s.nextDep=void 0,le.depsTail.nextDep=s,le.depsTail=s,le.deps===s&&(le.deps=r)}return s}trigger(e){this.version++,jr++,this.notify(e)}notify(e){Xo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Zo()}}}function Jc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Jc(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Pn=new WeakMap,ws=Symbol(""),lo=Symbol(""),Ir=Symbol("");function Ie(t,e,s){if(pt&&le){let r=Pn.get(t);r||Pn.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new ta),n.map=r,n.key=s),n.track()}}function jt(t,e,s,r,n,i){const o=Pn.get(t);if(!o){jr++;return}const a=l=>{l&&l.trigger()};if(Xo(),e==="clear")o.forEach(a);else{const l=K(t),c=l&&ti(s);if(l&&s==="length"){const u=Number(r);o.forEach((h,d)=>{(d==="length"||d===Ir||!zt(d)&&d>=u)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(Ir)),e){case"add":l?c&&a(o.get("length")):(a(o.get(ws)),Ks(t)&&a(o.get(lo)));break;case"delete":l||(a(o.get(ws)),Ks(t)&&a(o.get(lo)));break;case"set":Ks(t)&&a(o.get(ws));break}}Zo()}function kd(t,e){const s=Pn.get(t);return s&&s.get(e)}function $s(t){const e=Z(t);return e===t?e:(Ie(e,"iterate",Ir),rt(t)?e:e.map(gt))}function ii(t){return Ie(t=Z(t),"iterate",Ir),t}function Gt(t,e){return Mt(t)?Nt(t)?Qs(gt(e)):Qs(e):gt(e)}const Td={__proto__:null,[Symbol.iterator](){return $i(this,Symbol.iterator,t=>Gt(this,t))},concat(...t){return $s(this).concat(...t.map(e=>K(e)?$s(e):e))},entries(){return $i(this,"entries",t=>(t[1]=Gt(this,t[1]),t))},every(t,e){return Tt(this,"every",t,e,void 0,arguments)},filter(t,e){return Tt(this,"filter",t,e,s=>s.map(r=>Gt(this,r)),arguments)},find(t,e){return Tt(this,"find",t,e,s=>Gt(this,s),arguments)},findIndex(t,e){return Tt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Tt(this,"findLast",t,e,s=>Gt(this,s),arguments)},findLastIndex(t,e){return Tt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Tt(this,"forEach",t,e,void 0,arguments)},includes(...t){return ji(this,"includes",t)},indexOf(...t){return ji(this,"indexOf",t)},join(t){return $s(this).join(t)},lastIndexOf(...t){return ji(this,"lastIndexOf",t)},map(t,e){return Tt(this,"map",t,e,void 0,arguments)},pop(){return vr(this,"pop")},push(...t){return vr(this,"push",t)},reduce(t,...e){return qa(this,"reduce",t,e)},reduceRight(t,...e){return qa(this,"reduceRight",t,e)},shift(){return vr(this,"shift")},some(t,e){return Tt(this,"some",t,e,void 0,arguments)},splice(...t){return vr(this,"splice",t)},toReversed(){return $s(this).toReversed()},toSorted(t){return $s(this).toSorted(t)},toSpliced(...t){return $s(this).toSpliced(...t)},unshift(...t){return vr(this,"unshift",t)},values(){return $i(this,"values",t=>Gt(this,t))}};function $i(t,e,s){const r=ii(t),n=r[e]();return r!==t&&!rt(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=s(i.value)),i}),n}const Pd=Array.prototype;function Tt(t,e,s,r,n,i){const o=ii(t),a=o!==t&&!rt(t),l=o[e];if(l!==Pd[e]){const h=l.apply(t,i);return a?gt(h):h}let c=s;o!==t&&(a?c=function(h,d){return s.call(this,Gt(t,h),d,t)}:s.length>2&&(c=function(h,d){return s.call(this,h,d,t)}));const u=l.call(o,c,r);return a&&n?n(u):u}function qa(t,e,s,r){const n=ii(t);let i=s;return n!==t&&(rt(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Gt(t,a),l,t)}),n[e](i,...r)}function ji(t,e,s){const r=Z(t);Ie(r,"iterate",Ir);const n=r[e](...s);return(n===-1||n===!1)&&oi(s[0])?(s[0]=Z(s[0]),r[e](...s)):n}function vr(t,e,s=[]){Lt(),Xo();const r=Z(t)[e].apply(t,s);return Zo(),Ut(),r}const Cd=qo("__proto__,__v_isRef,__isVue"),Yc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zt));function $d(t){zt(t)||(t=String(t));const e=Z(this);return Ie(e,"has",t),e.hasOwnProperty(t)}class Qc{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Hd:tu:i?eu:Zc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=K(e);if(!n){let l;if(o&&(l=Td[s]))return l;if(s==="hasOwnProperty")return $d}const a=Reflect.get(e,s,ve(e)?e:r);if((zt(s)?Yc.has(s):Cd(s))||(n||Ie(e,"get",s),i))return a;if(ve(a)){const l=o&&ti(s)?a:a.value;return n&&ce(l)?uo(l):l}return ce(a)?n?uo(a):Zr(a):a}}class Xc extends Qc{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];const o=K(e)&&ti(s);if(!this._isShallow){const c=Mt(i);if(!rt(r)&&!Mt(r)&&(i=Z(i),r=Z(r)),!o&&ve(i)&&!ve(r))return c||(i.value=r),!0}const a=o?Number(s)<e.length:se(e,s),l=Reflect.set(e,s,r,ve(e)?e:n);return e===Z(n)&&(a?ts(r,i)&&jt(e,"set",s,r):jt(e,"add",s,r)),l}deleteProperty(e,s){const r=se(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&jt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!zt(s)||!Yc.has(s))&&Ie(e,"has",s),r}ownKeys(e){return Ie(e,"iterate",K(e)?"length":ws),Reflect.ownKeys(e)}}class jd extends Qc{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Id=new Xc,Nd=new jd,Dd=new Xc(!0);const co=t=>t,dn=t=>Reflect.getPrototypeOf(t);function Ld(t,e,s){return function(...r){const n=this.__v_raw,i=Z(n),o=Ks(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...r),u=s?co:e?Qs:gt;return!e&&Ie(i,"iterate",l?lo:ws),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function fn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ud(t,e){const s={get(n){const i=this.__v_raw,o=Z(i),a=Z(n);t||(ts(n,a)&&Ie(o,"get",n),Ie(o,"get",a));const{has:l}=dn(o),c=e?co:t?Qs:gt;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&Ie(Z(n),"iterate",ws),n.size},has(n){const i=this.__v_raw,o=Z(i),a=Z(n);return t||(ts(n,a)&&Ie(o,"has",n),Ie(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=Z(a),c=e?co:t?Qs:gt;return!t&&Ie(l,"iterate",ws),a.forEach((u,h)=>n.call(i,c(u),c(h),o))}};return De(s,t?{add:fn("add"),set:fn("set"),delete:fn("delete"),clear:fn("clear")}:{add(n){!e&&!rt(n)&&!Mt(n)&&(n=Z(n));const i=Z(this);return dn(i).has.call(i,n)||(i.add(n),jt(i,"add",n,n)),this},set(n,i){!e&&!rt(i)&&!Mt(i)&&(i=Z(i));const o=Z(this),{has:a,get:l}=dn(o);let c=a.call(o,n);c||(n=Z(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?ts(i,u)&&jt(o,"set",n,i):jt(o,"add",n,i),this},delete(n){const i=Z(this),{has:o,get:a}=dn(i);let l=o.call(i,n);l||(n=Z(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&jt(i,"delete",n,void 0),c},clear(){const n=Z(this),i=n.size!==0,o=n.clear();return i&&jt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Ld(n,t,e)}),s}function sa(t,e){const s=Ud(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(se(s,n)&&n in r?s:r,n,i)}const Md={get:sa(!1,!1)},Bd={get:sa(!1,!0)},zd={get:sa(!0,!1)};const Zc=new WeakMap,eu=new WeakMap,tu=new WeakMap,Hd=new WeakMap;function Vd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fd(t){return t.__v_skip||!Object.isExtensible(t)?0:Vd(gd(t))}function Zr(t){return Mt(t)?t:ra(t,!1,Id,Md,Zc)}function su(t){return ra(t,!1,Dd,Bd,eu)}function uo(t){return ra(t,!0,Nd,zd,tu)}function ra(t,e,s,r,n){if(!ce(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Fd(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function Nt(t){return Mt(t)?Nt(t.__v_raw):!!(t&&t.__v_isReactive)}function Mt(t){return!!(t&&t.__v_isReadonly)}function rt(t){return!!(t&&t.__v_isShallow)}function oi(t){return t?!!t.__v_raw:!1}function Z(t){const e=t&&t.__v_raw;return e?Z(e):t}function na(t){return!se(t,"__v_skip")&&Object.isExtensible(t)&&Nc(t,"__v_skip",!0),t}const gt=t=>ce(t)?Zr(t):t,Qs=t=>ce(t)?uo(t):t;function ve(t){return t?t.__v_isRef===!0:!1}function Xt(t){return ru(t,!1)}function Wd(t){return ru(t,!0)}function ru(t,e){return ve(t)?t:new qd(t,e)}class qd{constructor(e,s){this.dep=new ta,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Z(e),this._value=s?e:gt(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||rt(e)||Mt(e);e=r?e:Z(e),ts(e,s)&&(this._rawValue=e,this._value=r?e:gt(e),this.dep.trigger())}}function Es(t){return ve(t)?t.value:t}const Kd={get:(t,e,s)=>e==="__v_raw"?t:Es(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ve(n)&&!ve(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function nu(t){return Nt(t)?t:new Proxy(t,Kd)}function Gd(t){const e=K(t)?new Array(t.length):{};for(const s in t)e[s]=Yd(t,s);return e}class Jd{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=Z(e);let n=!0,i=e;if(!K(e)||!ti(String(s)))do n=!oi(i)||rt(i);while(n&&(i=i.__v_raw));this._shallow=n}get value(){let e=this._object[this._key];return this._shallow&&(e=Es(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&ve(this._raw[this._key])){const s=this._object[this._key];if(ve(s)){s.value=e;return}}this._object[this._key]=e}get dep(){return kd(this._raw,this._key)}}function Yd(t,e,s){return new Jd(t,e,s)}class Qd{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new ta(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=jr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&le!==this)return Fc(this,!0),!0}get value(){const e=this.dep.track();return Kc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Xd(t,e,s=!1){let r,n;return J(t)?r=t:(r=t.get,n=t.set),new Qd(r,n,s)}const pn={},Cn=new WeakMap;let fs;function Zd(t,e=!1,s=fs){if(s){let r=Cn.get(s);r||Cn.set(s,r=[]),r.push(t)}}function ef(t,e,s=ne){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,c=R=>n?R:rt(R)||n===!1||n===0?It(R,1):It(R);let u,h,d,f,v=!1,m=!1;if(ve(t)?(h=()=>t.value,v=rt(t)):Nt(t)?(h=()=>c(t),v=!0):K(t)?(m=!0,v=t.some(R=>Nt(R)||rt(R)),h=()=>t.map(R=>{if(ve(R))return R.value;if(Nt(R))return c(R);if(J(R))return l?l(R,2):R()})):J(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){Lt();try{d()}finally{Ut()}}const R=fs;fs=u;try{return l?l(t,3,[f]):t(f)}finally{fs=R}}:h=At,e&&n){const R=h,j=n===!0?1/0:n;h=()=>It(R(),j)}const w=zc(),y=()=>{u.stop(),w&&w.active&&Go(w.effects,u)};if(i&&e){const R=e;e=(...j)=>{R(...j),y()}}let b=m?new Array(t.length).fill(pn):pn;const E=R=>{if(!(!(u.flags&1)||!u.dirty&&!R))if(e){const j=u.run();if(n||v||(m?j.some((z,H)=>ts(z,b[H])):ts(j,b))){d&&d();const z=fs;fs=u;try{const H=[j,b===pn?void 0:m&&b[0]===pn?[]:b,f];b=j,l?l(e,3,H):e(...H)}finally{fs=z}}}else u.run()};return a&&a(E),u=new Hc(h),u.scheduler=o?()=>o(E,!1):E,f=R=>Zd(R,!1,u),d=u.onStop=()=>{const R=Cn.get(u);if(R){if(l)l(R,4);else for(const j of R)j();Cn.delete(u)}},e?r?E(!0):b=u.run():o?o(E.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function It(t,e=1/0,s){if(e<=0||!ce(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,ve(t))It(t.value,e,s);else if(K(t))for(let r=0;r<t.length;r++)It(t[r],e,s);else if(Cc(t)||Ks(t))t.forEach(r=>{It(r,e,s)});else if(Ic(t)){for(const r in t)It(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&It(t[r],e,s)}return t}function en(t,e,s,r){try{return r?t(...r):t()}catch(n){ai(n,e,s)}}function xt(t,e,s,r){if(J(t)){const n=en(t,e,s,r);return n&&$c(n)&&n.catch(i=>{ai(i,e,s)}),n}if(K(t)){const n=[];for(let i=0;i<t.length;i++)n.push(xt(t[i],e,s,r));return n}}function ai(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ne;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(i){Lt(),en(i,null,10,[t,l,c]),Ut();return}}tf(t,s,n,r,o)}function tf(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const ze=[];let Rt=-1;const Gs=[];let Jt=null,Bs=0;const iu=Promise.resolve();let $n=null;function ia(t){const e=$n||iu;return t?e.then(this?t.bind(this):t):e}function sf(t){let e=Rt+1,s=ze.length;for(;e<s;){const r=e+s>>>1,n=ze[r],i=Nr(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function oa(t){if(!(t.flags&1)){const e=Nr(t),s=ze[ze.length-1];!s||!(t.flags&2)&&e>=Nr(s)?ze.push(t):ze.splice(sf(e),0,t),t.flags|=1,ou()}}function ou(){$n||($n=iu.then(lu))}function rf(t){K(t)?Gs.push(...t):Jt&&t.id===-1?Jt.splice(Bs+1,0,t):t.flags&1||(Gs.push(t),t.flags|=1),ou()}function Ka(t,e,s=Rt+1){for(;s<ze.length;s++){const r=ze[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ze.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function au(t){if(Gs.length){const e=[...new Set(Gs)].sort((s,r)=>Nr(s)-Nr(r));if(Gs.length=0,Jt){Jt.push(...e);return}for(Jt=e,Bs=0;Bs<Jt.length;Bs++){const s=Jt[Bs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Jt=null,Bs=0}}const Nr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function lu(t){try{for(Rt=0;Rt<ze.length;Rt++){const e=ze[Rt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),en(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Rt<ze.length;Rt++){const e=ze[Rt];e&&(e.flags&=-2)}Rt=-1,ze.length=0,au(),$n=null,(ze.length||Gs.length)&&lu()}}let Ce=null,cu=null;function jn(t){const e=Ce;return Ce=t,cu=t&&t.type.__scopeId||null,e}function nf(t,e=Ce,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Ln(-1);const i=jn(e);let o;try{o=t(...n)}finally{jn(i),r._d&&Ln(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Pb(t,e){if(Ce===null)return t;const s=hi(Ce),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ne]=e[n];i&&(J(i)&&(i={mounted:i,updated:i}),i.deep&&It(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ls(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Lt(),xt(l,s,8,[t.el,a,t,e]),Ut())}}const of=Symbol("_vte"),af=t=>t.__isTeleport,lf=Symbol("_leaveCb");function aa(t,e){t.shapeFlag&6&&t.component?(t.transition=e,aa(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function la(t,e){return J(t)?De({name:t.name},e,{setup:t}):t}function uu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const In=new WeakMap;function Or(t,e,s,r,n=!1){if(K(t)){t.forEach((v,m)=>Or(v,e&&(K(e)?e[m]:e),s,r,n));return}if(Js(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Or(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?hi(r.component):r.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ne?a.refs={}:a.refs,h=a.setupState,d=Z(h),f=h===ne?Pc:v=>se(d,v);if(c!=null&&c!==l){if(Ga(e),we(c))u[c]=null,f(c)&&(h[c]=null);else if(ve(c)){c.value=null;const v=e;v.k&&(u[v.k]=null)}}if(J(l))en(l,a,12,[o,u]);else{const v=we(l),m=ve(l);if(v||m){const w=()=>{if(t.f){const y=v?f(l)?h[l]:u[l]:l.value;if(n)K(y)&&Go(y,i);else if(K(y))y.includes(i)||y.push(i);else if(v)u[l]=[i],f(l)&&(h[l]=u[l]);else{const b=[i];l.value=b,t.k&&(u[t.k]=b)}}else v?(u[l]=o,f(l)&&(h[l]=o)):m&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const y=()=>{w(),In.delete(t)};y.id=-1,In.set(t,y),Ze(y,s)}else Ga(t),w()}}}function Ga(t){const e=In.get(t);e&&(e.flags|=8,In.delete(t))}ni().requestIdleCallback;ni().cancelIdleCallback;const Js=t=>!!t.type.__asyncLoader,hu=t=>t.type.__isKeepAlive;function cf(t,e){du(t,"a",e)}function uf(t,e){du(t,"da",e)}function du(t,e,s=Ne){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(li(e,r,s),s){let n=s.parent;for(;n&&n.parent;)hu(n.parent.vnode)&&hf(r,e,s,n),n=n.parent}}function hf(t,e,s,r){const n=li(e,t,r,!0);fu(()=>{Go(r[e],n)},s)}function li(t,e,s=Ne,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Lt();const a=tn(s),l=xt(e,s,t,o);return a(),Ut(),l});return r?n.unshift(i):n.push(i),i}}const Ht=t=>(e,s=Ne)=>{(!Ur||t==="sp")&&li(t,(...r)=>e(...r),s)},df=Ht("bm"),ff=Ht("m"),pf=Ht("bu"),gf=Ht("u"),vf=Ht("bum"),fu=Ht("um"),mf=Ht("sp"),yf=Ht("rtg"),bf=Ht("rtc");function _f(t,e=Ne){li("ec",t,e)}const wf="components";function Ef(t,e){return Rf(wf,t,!0,e)||t}const Sf=Symbol.for("v-ndc");function Rf(t,e,s=!0,r=!1){const n=Ce||Ne;if(n){const i=n.type;{const a=pp(i,!1);if(a&&(a===e||a===lt(e)||a===ri(lt(e))))return i}const o=Ja(n[t]||i[t],e)||Ja(n.appContext[t],e);return!o&&r?i:o}}function Ja(t,e){return t&&(t[e]||t[lt(e)]||t[ri(lt(e))])}function Cb(t,e,s,r){let n;const i=s,o=K(t);if(o||we(t)){const a=o&&Nt(t);let l=!1,c=!1;a&&(l=!rt(t),c=Mt(t),t=ii(t)),n=new Array(t.length);for(let u=0,h=t.length;u<h;u++)n[u]=e(l?c?Qs(gt(t[u])):gt(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ce(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,i)}}else n=[];return n}function $b(t,e,s={},r,n){if(Ce.ce||Ce.parent&&Js(Ce.parent)&&Ce.parent.ce){const c=Object.keys(s).length>0;return Dn(),vo(ot,null,[Ve("slot",s,r)],c?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),Dn();const o=i&&pu(i(s)),a=s.key||o&&o.key,l=vo(ot,{key:(a&&!zt(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||[],o&&t._===1?64:-2);return!n&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function pu(t){return t.some(e=>Lr(e)?!(e.type===Bt||e.type===ot&&!pu(e.children)):!0)?t:null}const ho=t=>t?Du(t)?hi(t):ho(t.parent):null,Ar=De(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ho(t.parent),$root:t=>ho(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>vu(t),$forceUpdate:t=>t.f||(t.f=()=>{oa(t.update)}),$nextTick:t=>t.n||(t.n=ia.bind(t.proxy)),$watch:t=>Df.bind(t)}),Ii=(t,e)=>t!==ne&&!t.__isScriptSetup&&se(t,e),Of={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(Ii(r,e))return o[e]=1,r[e];if(n!==ne&&se(n,e))return o[e]=2,n[e];if(se(i,e))return o[e]=3,i[e];if(s!==ne&&se(s,e))return o[e]=4,s[e];fo&&(o[e]=0)}}const c=Ar[e];let u,h;if(c)return e==="$attrs"&&Ie(t.attrs,"get",""),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(s!==ne&&se(s,e))return o[e]=4,s[e];if(h=l.config.globalProperties,se(h,e))return h[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return Ii(n,e)?(n[e]=s,!0):r!==ne&&se(r,e)?(r[e]=s,!0):se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,props:i,type:o}},a){let l;return!!(s[a]||t!==ne&&a[0]!=="$"&&se(t,a)||Ii(e,a)||se(i,a)||se(r,a)||se(Ar,a)||se(n.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:se(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ya(t){return K(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let fo=!0;function Af(t){const e=vu(t),s=t.proxy,r=t.ctx;fo=!1,e.beforeCreate&&Qa(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:v,activated:m,deactivated:w,beforeDestroy:y,beforeUnmount:b,destroyed:E,unmounted:R,render:j,renderTracked:z,renderTriggered:H,errorCaptured:W,serverPrefetch:q,expose:ie,inheritAttrs:Le,components:Ye,directives:Fe,filters:os}=e;if(c&&xf(c,r,null),o)for(const Y in o){const ee=o[Y];J(ee)&&(r[Y]=ee.bind(s))}if(n){const Y=n.call(s,s);ce(Y)&&(t.data=Zr(Y))}if(fo=!0,i)for(const Y in i){const ee=i[Y],kt=J(ee)?ee.bind(s,s):J(ee.get)?ee.get.bind(s,s):At,Ft=!J(ee)&&J(ee.set)?ee.set.bind(s):At,bt=He({get:kt,set:Ft});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>bt.value,set:We=>bt.value=We})}if(a)for(const Y in a)gu(a[Y],r,s,Y);if(l){const Y=J(l)?l.call(s):l;Reflect.ownKeys(Y).forEach(ee=>{An(ee,Y[ee])})}u&&Qa(u,t,"c");function de(Y,ee){K(ee)?ee.forEach(kt=>Y(kt.bind(s))):ee&&Y(ee.bind(s))}if(de(df,h),de(ff,d),de(pf,f),de(gf,v),de(cf,m),de(uf,w),de(_f,W),de(bf,z),de(yf,H),de(vf,b),de(fu,R),de(mf,q),K(ie))if(ie.length){const Y=t.exposed||(t.exposed={});ie.forEach(ee=>{Object.defineProperty(Y,ee,{get:()=>s[ee],set:kt=>s[ee]=kt,enumerable:!0})})}else t.exposed||(t.exposed={});j&&t.render===At&&(t.render=j),Le!=null&&(t.inheritAttrs=Le),Ye&&(t.components=Ye),Fe&&(t.directives=Fe),q&&uu(t)}function xf(t,e,s=At){K(t)&&(t=po(t));for(const r in t){const n=t[r];let i;ce(n)?"default"in n?i=at(n.from||r,n.default,!0):i=at(n.from||r):i=at(n),ve(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Qa(t,e,s){xt(K(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function gu(t,e,s,r){let n=r.includes(".")?bu(s,r):()=>s[r];if(we(t)){const i=e[t];J(i)&&xr(n,i)}else if(J(t))xr(n,t.bind(s));else if(ce(t))if(K(t))t.forEach(i=>gu(i,e,s,r));else{const i=J(t.handler)?t.handler.bind(s):e[t.handler];J(i)&&xr(n,i,t)}}function vu(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(c=>Nn(l,c,o,!0)),Nn(l,e,o)),ce(e)&&i.set(e,l),l}function Nn(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Nn(t,i,s,!0),n&&n.forEach(o=>Nn(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=kf[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const kf={data:Xa,props:Za,emits:Za,methods:_r,computed:_r,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:_r,directives:_r,watch:Pf,provide:Xa,inject:Tf};function Xa(t,e){return e?t?function(){return De(J(t)?t.call(this,this):t,J(e)?e.call(this,this):e)}:e:t}function Tf(t,e){return _r(po(t),po(e))}function po(t){if(K(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Me(t,e){return t?[...new Set([].concat(t,e))]:e}function _r(t,e){return t?De(Object.create(null),t,e):e}function Za(t,e){return t?K(t)&&K(e)?[...new Set([...t,...e])]:De(Object.create(null),Ya(t),Ya(e??{})):e}function Pf(t,e){if(!t)return e;if(!e)return t;const s=De(Object.create(null),t);for(const r in e)s[r]=Me(t[r],e[r]);return s}function mu(){return{app:null,config:{isNativeTag:Pc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cf=0;function $f(t,e){return function(r,n=null){J(r)||(r=De({},r)),n!=null&&!ce(n)&&(n=null);const i=mu(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Cf++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:vp,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&J(u.install)?(o.add(u),u.install(c,...h)):J(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||Ve(r,n);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(f,u,d),l=!0,c._container=u,u.__vue_app__=c,hi(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(xt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=Ss;Ss=c;try{return u()}finally{Ss=h}}};return c}}let Ss=null;function An(t,e){if(Ne){let s=Ne.provides;const r=Ne.parent&&Ne.parent.provides;r===s&&(s=Ne.provides=Object.create(r)),s[t]=e}}function at(t,e,s=!1){const r=Nu();if(r||Ss){let n=Ss?Ss._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&J(e)?e.call(r&&r.proxy):e}}function jf(){return!!(Nu()||Ss)}const If=Symbol.for("v-scx"),Nf=()=>at(If);function xr(t,e,s){return yu(t,e,s)}function yu(t,e,s=ne){const{immediate:r,deep:n,flush:i,once:o}=s,a=De({},s),l=e&&r||!e&&i!=="post";let c;if(Ur){if(i==="sync"){const f=Nf();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=At,f.resume=At,f.pause=At,f}}const u=Ne;a.call=(f,v,m)=>xt(f,u,v,m);let h=!1;i==="post"?a.scheduler=f=>{Ze(f,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,v)=>{v?f():oa(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=ef(t,e,a);return Ur&&(c?c.push(d):l&&d()),d}function Df(t,e,s){const r=this.proxy,n=we(t)?t.includes(".")?bu(r,t):()=>r[t]:t.bind(r,r);let i;J(e)?i=e:(i=e.handler,s=e);const o=tn(this),a=yu(n,i.bind(r),s);return o(),a}function bu(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Lf=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${lt(e)}Modifiers`]||t[`${ns(e)}Modifiers`];function Uf(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ne;let n=s;const i=e.startsWith("update:"),o=i&&Lf(r,e.slice(7));o&&(o.trim&&(n=s.map(u=>we(u)?u.trim():u)),o.number&&(n=s.map(Jo)));let a,l=r[a=Ti(e)]||r[a=Ti(lt(e))];!l&&i&&(l=r[a=Ti(ns(e))]),l&&xt(l,t,6,n);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,xt(c,t,6,n)}}const Mf=new WeakMap;function _u(t,e,s=!1){const r=s?Mf:e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!J(t)){const l=c=>{const u=_u(c,e,!0);u&&(a=!0,De(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ce(t)&&r.set(t,null),null):(K(i)?i.forEach(l=>o[l]=null):De(o,i),ce(t)&&r.set(t,o),o)}function ci(t,e){return!t||!Zn(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(t,e[0].toLowerCase()+e.slice(1))||se(t,ns(e))||se(t,e))}function el(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:v,inheritAttrs:m}=t,w=jn(t);let y,b;try{if(s.shapeFlag&4){const R=n||r,j=R;y=Ot(c.call(j,R,u,h,f,d,v)),b=a}else{const R=e;y=Ot(R.length>1?R(h,{attrs:a,slots:o,emit:l}):R(h,null)),b=e.props?a:Bf(a)}}catch(R){kr.length=0,ai(R,t,1),y=Ve(Bt)}let E=y;if(b&&m!==!1){const R=Object.keys(b),{shapeFlag:j}=E;R.length&&j&7&&(i&&R.some(Ko)&&(b=zf(b,i)),E=Xs(E,b,!1,!0))}return s.dirs&&(E=Xs(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&aa(E,s.transition),y=E,jn(w),y}const Bf=t=>{let e;for(const s in t)(s==="class"||s==="style"||Zn(s))&&((e||(e={}))[s]=t[s]);return e},zf=(t,e)=>{const s={};for(const r in t)(!Ko(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Hf(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?tl(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==r[d]&&!ci(c,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?tl(r,o,c):!0:!!o;return!1}function tl(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!ci(s,i))return!0}return!1}function Vf({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const wu={},Eu=()=>Object.create(wu),Su=t=>Object.getPrototypeOf(t)===wu;function Ff(t,e,s,r=!1){const n={},i=Eu();t.propsDefaults=Object.create(null),Ru(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:su(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Wf(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=Z(n),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(ci(t.emitsOptions,d))continue;const f=e[d];if(l)if(se(i,d))f!==i[d]&&(i[d]=f,c=!0);else{const v=lt(d);n[v]=go(l,a,v,f,t,!1)}else f!==i[d]&&(i[d]=f,c=!0)}}}else{Ru(t,e,n,i)&&(c=!0);let u;for(const h in a)(!e||!se(e,h)&&((u=ns(h))===h||!se(e,u)))&&(l?s&&(s[h]!==void 0||s[u]!==void 0)&&(n[h]=go(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!se(e,h))&&(delete i[h],c=!0)}c&&jt(t.attrs,"set","")}function Ru(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Er(l))continue;const c=e[l];let u;n&&se(n,u=lt(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:ci(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=Z(s),c=a||ne;for(let u=0;u<i.length;u++){const h=i[u];s[h]=go(n,l,h,c[h],t,!se(c,h))}}return o}function go(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=se(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&J(l)){const{propsDefaults:c}=n;if(s in c)r=c[s];else{const u=tn(n);r=c[s]=l.call(null,e),u()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ns(s))&&(r=!0))}return r}const qf=new WeakMap;function Ou(t,e,s=!1){const r=s?qf:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!J(t)){const u=h=>{l=!0;const[d,f]=Ou(h,e,!0);De(o,d),f&&a.push(...f)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return ce(t)&&r.set(t,qs),qs;if(K(i))for(let u=0;u<i.length;u++){const h=lt(i[u]);sl(h)&&(o[h]=ne)}else if(i)for(const u in i){const h=lt(u);if(sl(h)){const d=i[u],f=o[h]=K(d)||J(d)?{type:d}:De({},d),v=f.type;let m=!1,w=!0;if(K(v))for(let y=0;y<v.length;++y){const b=v[y],E=J(b)&&b.name;if(E==="Boolean"){m=!0;break}else E==="String"&&(w=!1)}else m=J(v)&&v.name==="Boolean";f[0]=m,f[1]=w,(m||se(f,"default"))&&a.push(h)}}const c=[o,a];return ce(t)&&r.set(t,c),c}function sl(t){return t[0]!=="$"&&!Er(t)}const ca=t=>t==="_"||t==="_ctx"||t==="$stable",ua=t=>K(t)?t.map(Ot):[Ot(t)],Kf=(t,e,s)=>{if(e._n)return e;const r=nf((...n)=>ua(e(...n)),s);return r._c=!1,r},Au=(t,e,s)=>{const r=t._ctx;for(const n in t){if(ca(n))continue;const i=t[n];if(J(i))e[n]=Kf(n,i,r);else if(i!=null){const o=ua(i);e[n]=()=>o}}},xu=(t,e)=>{const s=ua(e);t.slots.default=()=>s},ku=(t,e,s)=>{for(const r in e)(s||!ca(r))&&(t[r]=e[r])},Gf=(t,e,s)=>{const r=t.slots=Eu();if(t.vnode.shapeFlag&32){const n=e._;n?(ku(r,e,s),s&&Nc(r,"_",n,!0)):Au(e,r)}else e&&xu(t,e)},Jf=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=ne;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:ku(n,e,s):(i=!e.$stable,Au(e,n)),o=e}else e&&(xu(t,e),o={default:1});if(i)for(const a in n)!ca(a)&&o[a]==null&&delete n[a]},Ze=ep;function Yf(t){return Qf(t)}function Qf(t,e){const s=ni();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=At,insertStaticContent:v}=t,m=(p,g,_,O=null,x=null,S=null,$=void 0,C=null,P=!!g.dynamicChildren)=>{if(p===g)return;p&&!mr(p,g)&&(O=A(p),We(p,x,S,!0),p=null),g.patchFlag===-2&&(P=!1,g.dynamicChildren=null);const{type:k,ref:V,shapeFlag:N}=g;switch(k){case ui:w(p,g,_,O);break;case Bt:y(p,g,_,O);break;case Di:p==null&&b(g,_,O,$);break;case ot:Ye(p,g,_,O,x,S,$,C,P);break;default:N&1?j(p,g,_,O,x,S,$,C,P):N&6?Fe(p,g,_,O,x,S,$,C,P):(N&64||N&128)&&k.process(p,g,_,O,x,S,$,C,P,M)}V!=null&&x?Or(V,p&&p.ref,S,g||p,!g):V==null&&p&&p.ref!=null&&Or(p.ref,null,S,p,!0)},w=(p,g,_,O)=>{if(p==null)r(g.el=a(g.children),_,O);else{const x=g.el=p.el;g.children!==p.children&&c(x,g.children)}},y=(p,g,_,O)=>{p==null?r(g.el=l(g.children||""),_,O):g.el=p.el},b=(p,g,_,O)=>{[p.el,p.anchor]=v(p.children,g,_,O,p.el,p.anchor)},E=({el:p,anchor:g},_,O)=>{let x;for(;p&&p!==g;)x=d(p),r(p,_,O),p=x;r(g,_,O)},R=({el:p,anchor:g})=>{let _;for(;p&&p!==g;)_=d(p),n(p),p=_;n(g)},j=(p,g,_,O,x,S,$,C,P)=>{if(g.type==="svg"?$="svg":g.type==="math"&&($="mathml"),p==null)z(g,_,O,x,S,$,C,P);else{const k=p.el&&p.el._isVueCE?p.el:null;try{k&&k._beginPatch(),q(p,g,x,S,$,C,P)}finally{k&&k._endPatch()}}},z=(p,g,_,O,x,S,$,C)=>{let P,k;const{props:V,shapeFlag:N,transition:B,dirs:G}=p;if(P=p.el=o(p.type,S,V&&V.is,V),N&8?u(P,p.children):N&16&&W(p.children,P,null,O,x,Ni(p,S),$,C),G&&ls(p,null,O,"created"),H(P,p,p.scopeId,$,O),V){for(const oe in V)oe!=="value"&&!Er(oe)&&i(P,oe,null,V[oe],S,O);"value"in V&&i(P,"value",null,V.value,S),(k=V.onVnodeBeforeMount)&&St(k,O,p)}G&&ls(p,null,O,"beforeMount");const X=Xf(x,B);X&&B.beforeEnter(P),r(P,g,_),((k=V&&V.onVnodeMounted)||X||G)&&Ze(()=>{k&&St(k,O,p),X&&B.enter(P),G&&ls(p,null,O,"mounted")},x)},H=(p,g,_,O,x)=>{if(_&&f(p,_),O)for(let S=0;S<O.length;S++)f(p,O[S]);if(x){let S=x.subTree;if(g===S||Cu(S.type)&&(S.ssContent===g||S.ssFallback===g)){const $=x.vnode;H(p,$,$.scopeId,$.slotScopeIds,x.parent)}}},W=(p,g,_,O,x,S,$,C,P=0)=>{for(let k=P;k<p.length;k++){const V=p[k]=C?Yt(p[k]):Ot(p[k]);m(null,V,g,_,O,x,S,$,C)}},q=(p,g,_,O,x,S,$)=>{const C=g.el=p.el;let{patchFlag:P,dynamicChildren:k,dirs:V}=g;P|=p.patchFlag&16;const N=p.props||ne,B=g.props||ne;let G;if(_&&cs(_,!1),(G=B.onVnodeBeforeUpdate)&&St(G,_,g,p),V&&ls(g,p,_,"beforeUpdate"),_&&cs(_,!0),(N.innerHTML&&B.innerHTML==null||N.textContent&&B.textContent==null)&&u(C,""),k?ie(p.dynamicChildren,k,C,_,O,Ni(g,x),S):$||ee(p,g,C,null,_,O,Ni(g,x),S,!1),P>0){if(P&16)Le(C,N,B,_,x);else if(P&2&&N.class!==B.class&&i(C,"class",null,B.class,x),P&4&&i(C,"style",N.style,B.style,x),P&8){const X=g.dynamicProps;for(let oe=0;oe<X.length;oe++){const re=X[oe],qe=N[re],Ke=B[re];(Ke!==qe||re==="value")&&i(C,re,qe,Ke,x,_)}}P&1&&p.children!==g.children&&u(C,g.children)}else!$&&k==null&&Le(C,N,B,_,x);((G=B.onVnodeUpdated)||V)&&Ze(()=>{G&&St(G,_,g,p),V&&ls(g,p,_,"updated")},O)},ie=(p,g,_,O,x,S,$)=>{for(let C=0;C<g.length;C++){const P=p[C],k=g[C],V=P.el&&(P.type===ot||!mr(P,k)||P.shapeFlag&198)?h(P.el):_;m(P,k,V,null,O,x,S,$,!0)}},Le=(p,g,_,O,x)=>{if(g!==_){if(g!==ne)for(const S in g)!Er(S)&&!(S in _)&&i(p,S,g[S],null,x,O);for(const S in _){if(Er(S))continue;const $=_[S],C=g[S];$!==C&&S!=="value"&&i(p,S,C,$,x,O)}"value"in _&&i(p,"value",g.value,_.value,x)}},Ye=(p,g,_,O,x,S,$,C,P)=>{const k=g.el=p?p.el:a(""),V=g.anchor=p?p.anchor:a("");let{patchFlag:N,dynamicChildren:B,slotScopeIds:G}=g;G&&(C=C?C.concat(G):G),p==null?(r(k,_,O),r(V,_,O),W(g.children||[],_,V,x,S,$,C,P)):N>0&&N&64&&B&&p.dynamicChildren?(ie(p.dynamicChildren,B,_,x,S,$,C),(g.key!=null||x&&g===x.subTree)&&Tu(p,g,!0)):ee(p,g,_,V,x,S,$,C,P)},Fe=(p,g,_,O,x,S,$,C,P)=>{g.slotScopeIds=C,p==null?g.shapeFlag&512?x.ctx.activate(g,_,O,$,P):os(g,_,O,x,S,$,P):Vt(p,g,P)},os=(p,g,_,O,x,S,$)=>{const C=p.component=cp(p,O,x);if(hu(p)&&(C.ctx.renderer=M),up(C,!1,$),C.asyncDep){if(x&&x.registerDep(C,de,$),!p.el){const P=C.subTree=Ve(Bt);y(null,P,g,_),p.placeholder=P.el}}else de(C,p,g,_,x,S,$)},Vt=(p,g,_)=>{const O=g.component=p.component;if(Hf(p,g,_))if(O.asyncDep&&!O.asyncResolved){Y(O,g,_);return}else O.next=g,O.update();else g.el=p.el,O.vnode=g},de=(p,g,_,O,x,S,$)=>{const C=()=>{if(p.isMounted){let{next:N,bu:B,u:G,parent:X,vnode:oe}=p;{const wt=Pu(p);if(wt){N&&(N.el=oe.el,Y(p,N,$)),wt.asyncDep.then(()=>{p.isUnmounted||C()});return}}let re=N,qe;cs(p,!1),N?(N.el=oe.el,Y(p,N,$)):N=oe,B&&On(B),(qe=N.props&&N.props.onVnodeBeforeUpdate)&&St(qe,X,N,oe),cs(p,!0);const Ke=el(p),_t=p.subTree;p.subTree=Ke,m(_t,Ke,h(_t.el),A(_t),p,x,S),N.el=Ke.el,re===null&&Vf(p,Ke.el),G&&Ze(G,x),(qe=N.props&&N.props.onVnodeUpdated)&&Ze(()=>St(qe,X,N,oe),x)}else{let N;const{el:B,props:G}=g,{bm:X,m:oe,parent:re,root:qe,type:Ke}=p,_t=Js(g);cs(p,!1),X&&On(X),!_t&&(N=G&&G.onVnodeBeforeMount)&&St(N,re,g),cs(p,!0);{qe.ce&&qe.ce._def.shadowRoot!==!1&&qe.ce._injectChildStyle(Ke);const wt=p.subTree=el(p);m(null,wt,_,O,p,x,S),g.el=wt.el}if(oe&&Ze(oe,x),!_t&&(N=G&&G.onVnodeMounted)){const wt=g;Ze(()=>St(N,re,wt),x)}(g.shapeFlag&256||re&&Js(re.vnode)&&re.vnode.shapeFlag&256)&&p.a&&Ze(p.a,x),p.isMounted=!0,g=_=O=null}};p.scope.on();const P=p.effect=new Hc(C);p.scope.off();const k=p.update=P.run.bind(P),V=p.job=P.runIfDirty.bind(P);V.i=p,V.id=p.uid,P.scheduler=()=>oa(V),cs(p,!0),k()},Y=(p,g,_)=>{g.component=p;const O=p.vnode.props;p.vnode=g,p.next=null,Wf(p,g.props,O,_),Jf(p,g.children,_),Lt(),Ka(p),Ut()},ee=(p,g,_,O,x,S,$,C,P=!1)=>{const k=p&&p.children,V=p?p.shapeFlag:0,N=g.children,{patchFlag:B,shapeFlag:G}=g;if(B>0){if(B&128){Ft(k,N,_,O,x,S,$,C,P);return}else if(B&256){kt(k,N,_,O,x,S,$,C,P);return}}G&8?(V&16&&it(k,x,S),N!==k&&u(_,N)):V&16?G&16?Ft(k,N,_,O,x,S,$,C,P):it(k,x,S,!0):(V&8&&u(_,""),G&16&&W(N,_,O,x,S,$,C,P))},kt=(p,g,_,O,x,S,$,C,P)=>{p=p||qs,g=g||qs;const k=p.length,V=g.length,N=Math.min(k,V);let B;for(B=0;B<N;B++){const G=g[B]=P?Yt(g[B]):Ot(g[B]);m(p[B],G,_,null,x,S,$,C,P)}k>V?it(p,x,S,!0,!1,N):W(g,_,O,x,S,$,C,P,N)},Ft=(p,g,_,O,x,S,$,C,P)=>{let k=0;const V=g.length;let N=p.length-1,B=V-1;for(;k<=N&&k<=B;){const G=p[k],X=g[k]=P?Yt(g[k]):Ot(g[k]);if(mr(G,X))m(G,X,_,null,x,S,$,C,P);else break;k++}for(;k<=N&&k<=B;){const G=p[N],X=g[B]=P?Yt(g[B]):Ot(g[B]);if(mr(G,X))m(G,X,_,null,x,S,$,C,P);else break;N--,B--}if(k>N){if(k<=B){const G=B+1,X=G<V?g[G].el:O;for(;k<=B;)m(null,g[k]=P?Yt(g[k]):Ot(g[k]),_,X,x,S,$,C,P),k++}}else if(k>B)for(;k<=N;)We(p[k],x,S,!0),k++;else{const G=k,X=k,oe=new Map;for(k=X;k<=B;k++){const Qe=g[k]=P?Yt(g[k]):Ot(g[k]);Qe.key!=null&&oe.set(Qe.key,k)}let re,qe=0;const Ke=B-X+1;let _t=!1,wt=0;const gr=new Array(Ke);for(k=0;k<Ke;k++)gr[k]=0;for(k=G;k<=N;k++){const Qe=p[k];if(qe>=Ke){We(Qe,x,S,!0);continue}let Et;if(Qe.key!=null)Et=oe.get(Qe.key);else for(re=X;re<=B;re++)if(gr[re-X]===0&&mr(Qe,g[re])){Et=re;break}Et===void 0?We(Qe,x,S,!0):(gr[Et-X]=k+1,Et>=wt?wt=Et:_t=!0,m(Qe,g[Et],_,null,x,S,$,C,P),qe++)}const za=_t?Zf(gr):qs;for(re=za.length-1,k=Ke-1;k>=0;k--){const Qe=X+k,Et=g[Qe],Ha=g[Qe+1],Va=Qe+1<V?Ha.el||Ha.placeholder:O;gr[k]===0?m(null,Et,_,Va,x,S,$,C,P):_t&&(re<0||k!==za[re]?bt(Et,_,Va,2):re--)}}},bt=(p,g,_,O,x=null)=>{const{el:S,type:$,transition:C,children:P,shapeFlag:k}=p;if(k&6){bt(p.component.subTree,g,_,O);return}if(k&128){p.suspense.move(g,_,O);return}if(k&64){$.move(p,g,_,M);return}if($===ot){r(S,g,_);for(let N=0;N<P.length;N++)bt(P[N],g,_,O);r(p.anchor,g,_);return}if($===Di){E(p,g,_);return}if(O!==2&&k&1&&C)if(O===0)C.beforeEnter(S),r(S,g,_),Ze(()=>C.enter(S),x);else{const{leave:N,delayLeave:B,afterLeave:G}=C,X=()=>{p.ctx.isUnmounted?n(S):r(S,g,_)},oe=()=>{S._isLeaving&&S[lf](!0),N(S,()=>{X(),G&&G()})};B?B(S,X,oe):oe()}else r(S,g,_)},We=(p,g,_,O=!1,x=!1)=>{const{type:S,props:$,ref:C,children:P,dynamicChildren:k,shapeFlag:V,patchFlag:N,dirs:B,cacheIndex:G}=p;if(N===-2&&(x=!1),C!=null&&(Lt(),Or(C,null,_,p,!0),Ut()),G!=null&&(g.renderCache[G]=void 0),V&256){g.ctx.deactivate(p);return}const X=V&1&&B,oe=!Js(p);let re;if(oe&&(re=$&&$.onVnodeBeforeUnmount)&&St(re,g,p),V&6)as(p.component,_,O);else{if(V&128){p.suspense.unmount(_,O);return}X&&ls(p,null,g,"beforeUnmount"),V&64?p.type.remove(p,g,_,M,O):k&&!k.hasOnce&&(S!==ot||N>0&&N&64)?it(k,g,_,!1,!0):(S===ot&&N&384||!x&&V&16)&&it(P,g,_),O&&Ps(p)}(oe&&(re=$&&$.onVnodeUnmounted)||X)&&Ze(()=>{re&&St(re,g,p),X&&ls(p,null,g,"unmounted")},_)},Ps=p=>{const{type:g,el:_,anchor:O,transition:x}=p;if(g===ot){Cs(_,O);return}if(g===Di){R(p);return}const S=()=>{n(_),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(p.shapeFlag&1&&x&&!x.persisted){const{leave:$,delayLeave:C}=x,P=()=>$(_,S);C?C(p.el,S,P):P()}else S()},Cs=(p,g)=>{let _;for(;p!==g;)_=d(p),n(p),p=_;n(g)},as=(p,g,_)=>{const{bum:O,scope:x,job:S,subTree:$,um:C,m:P,a:k}=p;rl(P),rl(k),O&&On(O),x.stop(),S&&(S.flags|=8,We($,p,g,_)),C&&Ze(C,g),Ze(()=>{p.isUnmounted=!0},g)},it=(p,g,_,O=!1,x=!1,S=0)=>{for(let $=S;$<p.length;$++)We(p[$],g,_,O,x)},A=p=>{if(p.shapeFlag&6)return A(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),_=g&&g[of];return _?d(_):g};let L=!1;const I=(p,g,_)=>{p==null?g._vnode&&We(g._vnode,null,null,!0):m(g._vnode||null,p,g,null,null,null,_),g._vnode=p,L||(L=!0,Ka(),au(),L=!1)},M={p:m,um:We,m:bt,r:Ps,mt:os,mc:W,pc:ee,pbc:ie,n:A,o:t};return{render:I,hydrate:void 0,createApp:$f(I)}}function Ni({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function cs({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Xf(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Tu(t,e,s=!1){const r=t.children,n=e.children;if(K(r)&&K(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Yt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Tu(o,a)),a.type===ui&&a.patchFlag!==-1&&(a.el=o.el),a.type===Bt&&!a.el&&(a.el=o.el)}}function Zf(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(n=s[s.length-1],t[n]<c){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<c?i=a+1:o=a;c<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Pu(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Pu(e)}function rl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Cu=t=>t.__isSuspense;function ep(t,e){e&&e.pendingBranch?K(t)?e.effects.push(...t):e.effects.push(t):rf(t)}const ot=Symbol.for("v-fgt"),ui=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),Di=Symbol.for("v-stc"),kr=[];let st=null;function Dn(t=!1){kr.push(st=t?null:[])}function tp(){kr.pop(),st=kr[kr.length-1]||null}let Dr=1;function Ln(t,e=!1){Dr+=t,t<0&&st&&e&&(st.hasOnce=!0)}function $u(t){return t.dynamicChildren=Dr>0?st||qs:null,tp(),Dr>0&&st&&st.push(t),t}function sp(t,e,s,r,n,i){return $u(Iu(t,e,s,r,n,i,!0))}function vo(t,e,s,r,n){return $u(Ve(t,e,s,r,n,!0))}function Lr(t){return t?t.__v_isVNode===!0:!1}function mr(t,e){return t.type===e.type&&t.key===e.key}const ju=({key:t})=>t??null,xn=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?we(t)||ve(t)||J(t)?{i:Ce,r:t,k:e,f:!!s}:t:null);function Iu(t,e=null,s=null,r=0,n=null,i=t===ot?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ju(e),ref:e&&xn(e),scopeId:cu,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ce};return a?(ha(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=we(s)?8:16),Dr>0&&!o&&st&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&st.push(l),l}const Ve=rp;function rp(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Sf)&&(t=Bt),Lr(t)){const a=Xs(t,e,!0);return s&&ha(a,s),Dr>0&&!i&&st&&(a.shapeFlag&6?st[st.indexOf(t)]=a:st.push(a)),a.patchFlag=-2,a}if(gp(t)&&(t=t.__vccOpts),e){e=np(e);let{class:a,style:l}=e;a&&!we(a)&&(e.class=Qo(a)),ce(l)&&(oi(l)&&!K(l)&&(l=De({},l)),e.style=Yo(l))}const o=we(t)?1:Cu(t)?128:af(t)?64:ce(t)?4:J(t)?2:0;return Iu(t,e,s,r,n,o,i,!0)}function np(t){return t?oi(t)||Su(t)?De({},t):t:null}function Xs(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?op(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&ju(c),ref:e&&e.ref?s&&i?K(i)?i.concat(xn(e)):[i,xn(e)]:xn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ot?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xs(t.ssContent),ssFallback:t.ssFallback&&Xs(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&aa(u,l.clone(u)),u}function ip(t=" ",e=0){return Ve(ui,null,t,e)}function jb(t="",e=!1){return e?(Dn(),vo(Bt,null,t)):Ve(Bt,null,t)}function Ot(t){return t==null||typeof t=="boolean"?Ve(Bt):K(t)?Ve(ot,null,t.slice()):Lr(t)?Yt(t):Ve(ui,null,String(t))}function Yt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Xs(t)}function ha(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(K(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),ha(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Su(e)?e._ctx=Ce:n===3&&Ce&&(Ce.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else J(e)?(e={default:e,_ctx:Ce},s=32):(e=String(e),r&64?(s=16,e=[ip(e)]):s=8);t.children=e,t.shapeFlag|=s}function op(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Qo([e.class,r.class]));else if(n==="style")e.style=Yo([e.style,r.style]);else if(Zn(n)){const i=e[n],o=r[n];o&&i!==o&&!(K(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function St(t,e,s,r=null){xt(t,e,7,[s,r])}const ap=mu();let lp=0;function cp(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||ap,i={uid:lp++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Mc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ou(r,n),emitsOptions:_u(r,n),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:r.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Uf.bind(null,i),t.ce&&t.ce(i),i}let Ne=null;const Nu=()=>Ne||Ce;let Un,mo;{const t=ni(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Un=e("__VUE_INSTANCE_SETTERS__",s=>Ne=s),mo=e("__VUE_SSR_SETTERS__",s=>Ur=s)}const tn=t=>{const e=Ne;return Un(t),t.scope.on(),()=>{t.scope.off(),Un(e)}},nl=()=>{Ne&&Ne.scope.off(),Un(null)};function Du(t){return t.vnode.shapeFlag&4}let Ur=!1;function up(t,e=!1,s=!1){e&&mo(e);const{props:r,children:n}=t.vnode,i=Du(t);Ff(t,r,i,e),Gf(t,n,s||e);const o=i?hp(t,e):void 0;return e&&mo(!1),o}function hp(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Of);const{setup:r}=s;if(r){Lt();const n=t.setupContext=r.length>1?fp(t):null,i=tn(t),o=en(r,t,0,[t.props,n]),a=$c(o);if(Ut(),i(),(a||t.sp)&&!Js(t)&&uu(t),a){if(o.then(nl,nl),e)return o.then(l=>{il(t,l)}).catch(l=>{ai(l,t,0)});t.asyncDep=o}else il(t,o)}else Lu(t)}function il(t,e,s){J(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ce(e)&&(t.setupState=nu(e)),Lu(t)}function Lu(t,e,s){const r=t.type;t.render||(t.render=r.render||At);{const n=tn(t);Lt();try{Af(t)}finally{Ut(),n()}}}const dp={get(t,e){return Ie(t,"get",""),t[e]}};function fp(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,dp),slots:t.slots,emit:t.emit,expose:e}}function hi(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(nu(na(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ar)return Ar[s](t)},has(e,s){return s in e||s in Ar}})):t.proxy}function pp(t,e=!0){return J(t)?t.displayName||t.name:t.name||e&&t.__name}function gp(t){return J(t)&&"__vccOpts"in t}const He=(t,e)=>Xd(t,e,Ur);function Uu(t,e,s){try{Ln(-1);const r=arguments.length;return r===2?ce(e)&&!K(e)?Lr(e)?Ve(t,null,[e]):Ve(t,e):Ve(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Lr(s)&&(s=[s]),Ve(t,e,s))}finally{Ln(1)}}const vp="3.5.25";let yo;const ol=typeof window<"u"&&window.trustedTypes;if(ol)try{yo=ol.createPolicy("vue",{createHTML:t=>t})}catch{}const Mu=yo?t=>yo.createHTML(t):t=>t,mp="http://www.w3.org/2000/svg",yp="http://www.w3.org/1998/Math/MathML",Ct=typeof document<"u"?document:null,al=Ct&&Ct.createElement("template"),bp={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Ct.createElementNS(mp,t):e==="mathml"?Ct.createElementNS(yp,t):s?Ct.createElement(t,{is:s}):Ct.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Ct.createTextNode(t),createComment:t=>Ct.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ct.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{al.innerHTML=Mu(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=al.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},_p=Symbol("_vtc");function wp(t,e,s){const r=t[_p];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const ll=Symbol("_vod"),Ep=Symbol("_vsh"),Sp=Symbol(""),Rp=/(?:^|;)\s*display\s*:/;function Op(t,e,s){const r=t.style,n=we(s);let i=!1;if(s&&!n){if(e)if(we(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&kn(r,a,"")}else for(const o in e)s[o]==null&&kn(r,o,"");for(const o in s)o==="display"&&(i=!0),kn(r,o,s[o])}else if(n){if(e!==s){const o=r[Sp];o&&(s+=";"+o),r.cssText=s,i=Rp.test(s)}}else e&&t.removeAttribute("style");ll in t&&(t[ll]=i?r.display:"",t[Ep]&&(r.display="none"))}const cl=/\s*!important$/;function kn(t,e,s){if(K(s))s.forEach(r=>kn(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Ap(t,e);cl.test(s)?t.setProperty(ns(r),s.replace(cl,""),"important"):t[r]=s}}const ul=["Webkit","Moz","ms"],Li={};function Ap(t,e){const s=Li[e];if(s)return s;let r=lt(e);if(r!=="filter"&&r in t)return Li[e]=r;r=ri(r);for(let n=0;n<ul.length;n++){const i=ul[n]+r;if(i in t)return Li[e]=i}return e}const hl="http://www.w3.org/1999/xlink";function dl(t,e,s,r,n,i=Sd(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(hl,e.slice(6,e.length)):t.setAttributeNS(hl,e,s):s==null||i&&!Dc(s)?t.removeAttribute(e):t.setAttribute(e,i?"":zt(s)?String(s):s)}function fl(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Mu(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Dc(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function zs(t,e,s,r){t.addEventListener(e,s,r)}function xp(t,e,s,r){t.removeEventListener(e,s,r)}const pl=Symbol("_vei");function kp(t,e,s,r,n=null){const i=t[pl]||(t[pl]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Tp(e);if(r){const c=i[e]=$p(r,n);zs(t,a,c,l)}else o&&(xp(t,a,o,l),i[e]=void 0)}}const gl=/(?:Once|Passive|Capture)$/;function Tp(t){let e;if(gl.test(t)){e={};let r;for(;r=t.match(gl);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ns(t.slice(2)),e]}let Ui=0;const Pp=Promise.resolve(),Cp=()=>Ui||(Pp.then(()=>Ui=0),Ui=Date.now());function $p(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;xt(jp(r,s.value),e,5,[r])};return s.value=t,s.attached=Cp(),s}function jp(t,e){if(K(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const vl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ip=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?wp(t,r,o):e==="style"?Op(t,s,r):Zn(e)?Ko(e)||kp(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Np(t,e,r,o))?(fl(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&dl(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!we(r))?fl(t,lt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),dl(t,e,r,o))};function Np(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&vl(e)&&J(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return vl(e)&&we(s)?!1:e in t}const ml=t=>{const e=t.props["onUpdate:modelValue"]||!1;return K(e)?s=>On(e,s):e};function Dp(t){t.target.composing=!0}function yl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Mi=Symbol("_assign");function bl(t,e,s){return e&&(t=t.trim()),s&&(t=Jo(t)),t}const Ib={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Mi]=ml(n);const i=r||n.props&&n.props.type==="number";zs(t,e?"change":"input",o=>{o.target.composing||t[Mi](bl(t.value,s,i))}),(s||i)&&zs(t,"change",()=>{t.value=bl(t.value,s,i)}),e||(zs(t,"compositionstart",Dp),zs(t,"compositionend",yl),zs(t,"change",yl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Mi]=ml(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Jo(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Lp=["ctrl","shift","alt","meta"],Up={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Lp.some(s=>t[`${s}Key`]&&!e.includes(s))},Nb=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=((n,...i)=>{for(let o=0;o<e.length;o++){const a=Up[e[o]];if(a&&a(n,e))return}return t(n,...i)}))},Mp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Db=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=(n=>{if(!("key"in n))return;const i=ns(n.key);if(e.some(o=>o===i||Mp[o]===i))return t(n)}))},Bp=De({patchProp:Ip},bp);let _l;function zp(){return _l||(_l=Yf(Bp))}const Hp=((...t)=>{const e=zp().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Fp(r);if(!n)return;const i=e._component;!J(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Vp(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e});function Vp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Fp(t){return we(t)?document.querySelector(t):t}let Bu;const di=t=>Bu=t,zu=Symbol();function bo(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Tr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Tr||(Tr={}));function Wp(){const t=Bc(!0),e=t.run(()=>Xt({}));let s=[],r=[];const n=na({install(i){di(n),n._a=i,i.provide(zu,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return this._a?s.push(i):r.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Hu=()=>{};function wl(t,e,s,r=Hu){t.add(e);const n=()=>{t.delete(e)&&r()};return!s&&zc()&&Od(n),n}function js(t,...e){t.forEach(s=>{s(...e)})}const qp=t=>t(),El=Symbol(),Bi=Symbol();function _o(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];bo(n)&&bo(r)&&t.hasOwnProperty(s)&&!ve(r)&&!Nt(r)?t[s]=_o(n,r):t[s]=r}return t}const Kp=Symbol();function Gp(t){return!bo(t)||!Object.prototype.hasOwnProperty.call(t,Kp)}const{assign:Kt}=Object;function Jp(t){return!!(ve(t)&&t.effect)}function Yp(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function c(){a||(s.state.value[t]=n?n():{});const u=Gd(s.state.value[t]);return Kt(u,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=na(He(()=>{di(s);const f=s._s.get(t);return o[d].call(f,f)})),h),{}))}return l=Vu(t,c,e,s,r,!0),l}function Vu(t,e,s={},r,n,i){let o;const a=Kt({actions:{}},s),l={deep:!0};let c,u,h=new Set,d=new Set,f;const v=r.state.value[t];!i&&!v&&(r.state.value[t]={}),Xt({});let m;function w(W){let q;c=u=!1,typeof W=="function"?(W(r.state.value[t]),q={type:Tr.patchFunction,storeId:t,events:f}):(_o(r.state.value[t],W),q={type:Tr.patchObject,payload:W,storeId:t,events:f});const ie=m=Symbol();ia().then(()=>{m===ie&&(c=!0)}),u=!0,js(h,q,r.state.value[t])}const y=i?function(){const{state:q}=s,ie=q?q():{};this.$patch(Le=>{Kt(Le,ie)})}:Hu;function b(){o.stop(),h.clear(),d.clear(),r._s.delete(t)}const E=(W,q="")=>{if(El in W)return W[Bi]=q,W;const ie=function(){di(r);const Le=Array.from(arguments),Ye=new Set,Fe=new Set;function os(Y){Ye.add(Y)}function Vt(Y){Fe.add(Y)}js(d,{args:Le,name:ie[Bi],store:j,after:os,onError:Vt});let de;try{de=W.apply(this&&this.$id===t?this:j,Le)}catch(Y){throw js(Fe,Y),Y}return de instanceof Promise?de.then(Y=>(js(Ye,Y),Y)).catch(Y=>(js(Fe,Y),Promise.reject(Y))):(js(Ye,de),de)};return ie[El]=!0,ie[Bi]=q,ie},R={_p:r,$id:t,$onAction:wl.bind(null,d),$patch:w,$reset:y,$subscribe(W,q={}){const ie=wl(h,W,q.detached,()=>Le()),Le=o.run(()=>xr(()=>r.state.value[t],Ye=>{(q.flush==="sync"?u:c)&&W({storeId:t,type:Tr.direct,events:f},Ye)},Kt({},l,q)));return ie},$dispose:b},j=Zr(R);r._s.set(t,j);const H=(r._a&&r._a.runWithContext||qp)(()=>r._e.run(()=>(o=Bc()).run(()=>e({action:E}))));for(const W in H){const q=H[W];if(ve(q)&&!Jp(q)||Nt(q))i||(v&&Gp(q)&&(ve(q)?q.value=v[W]:_o(q,v[W])),r.state.value[t][W]=q);else if(typeof q=="function"){const ie=E(q,W);H[W]=ie,a.actions[W]=q}}return Kt(j,H),Kt(Z(j),H),Object.defineProperty(j,"$state",{get:()=>r.state.value[t],set:W=>{w(q=>{Kt(q,W)})}}),r._p.forEach(W=>{Kt(j,o.run(()=>W({store:j,app:r._a,pinia:r,options:a})))}),v&&i&&s.hydrate&&s.hydrate(j.$state,v),c=!0,u=!0,j}function Qp(t,e,s){let r;const n=typeof e=="function";r=n?s:e;function i(o,a){const l=jf();return o=o||(l?at(zu,null):null),o&&di(o),o=Bu,o._s.has(t)||(n?Vu(t,e,r,o):Yp(t,r,o)),o._s.get(t)}return i.$id=t,i}const Xp={id:"app"},Zp=la({__name:"App",setup(t){return(e,s)=>{const r=Ef("router-view");return Dn(),sp("div",Xp,[Ve(r)])}}}),eg=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},tg=eg(Zp,[["__scopeId","data-v-2fe8bc13"]]),sg="modulepreload",rg=function(t){return"/draw-guess/"+t},Sl={},Rl=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");n=l(s.map(c=>{if(c=rg(c),c in Sl)return;Sl[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":sg,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,v)=>{d.addEventListener("load",f),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};const Hs=typeof document<"u";function Fu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ng(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Fu(t.default)}const te=Object.assign;function zi(t,e){const s={};for(const r in e){const n=e[r];s[r]=vt(n)?n.map(t):t(n)}return s}const Pr=()=>{},vt=Array.isArray;function Ol(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}const Wu=/#/g,ig=/&/g,og=/\//g,ag=/=/g,lg=/\?/g,qu=/\+/g,cg=/%5B/g,ug=/%5D/g,Ku=/%5E/g,hg=/%60/g,Gu=/%7B/g,dg=/%7C/g,Ju=/%7D/g,fg=/%20/g;function da(t){return t==null?"":encodeURI(""+t).replace(dg,"|").replace(cg,"[").replace(ug,"]")}function pg(t){return da(t).replace(Gu,"{").replace(Ju,"}").replace(Ku,"^")}function wo(t){return da(t).replace(qu,"%2B").replace(fg,"+").replace(Wu,"%23").replace(ig,"%26").replace(hg,"`").replace(Gu,"{").replace(Ju,"}").replace(Ku,"^")}function gg(t){return wo(t).replace(ag,"%3D")}function vg(t){return da(t).replace(Wu,"%23").replace(lg,"%3F")}function mg(t){return vg(t).replace(og,"%2F")}function Mr(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const yg=/\/$/,bg=t=>t.replace(yg,"");function Hi(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),i=e.slice(l,a>0?a:e.length),n=t(i.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Sg(r??e,s),{fullPath:r+i+o,path:r,query:n,hash:Mr(o)}}function _g(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Al(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function wg(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Zs(e.matched[r],s.matched[n])&&Yu(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Zs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Yu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Eg(t[s],e[s]))return!1;return!0}function Eg(t,e){return vt(t)?xl(t,e):vt(e)?xl(e,t):t===e}function xl(t,e){return vt(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Sg(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Eo=(function(t){return t.pop="pop",t.push="push",t})({}),Vi=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Rg(t){if(!t)if(Hs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),bg(t)}const Og=/^[^#]+#/;function Ag(t,e){return t.replace(Og,"#")+e}function xg(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const fi=()=>({left:window.scrollX,top:window.scrollY});function kg(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=xg(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function kl(t,e){return(history.state?history.state.position-e:-1)+t}const So=new Map;function Tg(t,e){So.set(t,e)}function Pg(t){const e=So.get(t);return So.delete(t),e}function Cg(t){return typeof t=="string"||t&&typeof t=="object"}function Qu(t){return typeof t=="string"||typeof t=="symbol"}let ge=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Xu=Symbol("");ge.MATCHER_NOT_FOUND+"",ge.NAVIGATION_GUARD_REDIRECT+"",ge.NAVIGATION_ABORTED+"",ge.NAVIGATION_CANCELLED+"",ge.NAVIGATION_DUPLICATED+"";function er(t,e){return te(new Error,{type:t,[Xu]:!0},e)}function Pt(t,e){return t instanceof Error&&Xu in t&&(e==null||!!(t.type&e))}const $g=["params","query","hash"];function jg(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of $g)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function Ig(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const n=s[r].replace(qu," "),i=n.indexOf("="),o=Mr(i<0?n:n.slice(0,i)),a=i<0?null:Mr(n.slice(i+1));if(o in e){let l=e[o];vt(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function Tl(t){let e="";for(let s in t){const r=t[s];if(s=gg(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(vt(r)?r.map(n=>n&&wo(n)):[r&&wo(r)]).forEach(n=>{n!==void 0&&(e+=(e.length?"&":"")+s,n!=null&&(e+="="+n))})}return e}function Ng(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=vt(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const Dg=Symbol(""),Pl=Symbol(""),pi=Symbol(""),fa=Symbol(""),Ro=Symbol("");function yr(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Qt(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(er(ge.NAVIGATION_ABORTED,{from:s,to:e})):d instanceof Error?l(d):Cg(d)?l(er(ge.NAVIGATION_GUARD_REDIRECT,{from:e,to:d})):(o&&r.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>t.call(r&&r.instances[n],e,s,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function Fi(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Fu(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Qt(c,s,r,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=ng(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&Qt(d,s,r,o,a,n)()}))}}return i}function Lg(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Zs(c,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Zs(c,l))||n.push(l))}return[s,r,n]}let Ug=()=>location.protocol+"//"+location.host;function Zu(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let o=n.includes(t.slice(i))?t.slice(i).length:1,a=n.slice(o);return a[0]!=="/"&&(a="/"+a),Al(a,"")}return Al(s,t)+r+n}function Mg(t,e,s,r){let n=[],i=[],o=null;const a=({state:d})=>{const f=Zu(t,location),v=s.value,m=e.value;let w=0;if(d){if(s.value=f,e.value=d,o&&o===v){o=null;return}w=m?d.position-m.position:0}else r(f);n.forEach(y=>{y(s.value,v,{delta:w,type:Eo.pop,direction:w?w>0?Vi.forward:Vi.back:Vi.unknown})})};function l(){o=s.value}function c(d){n.push(d);const f=()=>{const v=n.indexOf(d);v>-1&&n.splice(v,1)};return i.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(te({},d.state,{scroll:fi()}),"")}}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function Cl(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?fi():null}}function Bg(t){const{history:e,location:s}=window,r={value:Zu(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),d=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:Ug()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),n.value=c}catch(f){console.error(f),s[u?"replace":"assign"](d)}}function o(l,c){i(l,te({},e.state,Cl(n.value.back,l,n.value.forward,!0),c,{position:n.value.position}),!0),r.value=l}function a(l,c){const u=te({},n.value,e.state,{forward:l,scroll:fi()});i(u.current,u,!0),i(l,te({},Cl(r.value,l,null),{position:u.position+1},c),!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function zg(t){t=Rg(t);const e=Bg(t),s=Mg(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=te({location:"",base:t,go:r,createHref:Ag.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}let ys=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Ee=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Ee||{});const Hg={type:ys.Static,value:""},Vg=/[a-zA-Z0-9_]/;function Fg(t){if(!t)return[[]];if(t==="/")return[[Hg]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${s})/"${c}": ${f}`)}let s=Ee.Static,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(s===Ee.Static?i.push({type:ys.Static,value:c}):s===Ee.Param||s===Ee.ParamRegExp||s===Ee.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:ys.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==Ee.ParamRegExp){r=s,s=Ee.EscapeNext;continue}switch(s){case Ee.Static:l==="/"?(c&&h(),o()):l===":"?(h(),s=Ee.Param):d();break;case Ee.EscapeNext:d(),s=r;break;case Ee.Param:l==="("?s=Ee.ParamRegExp:Vg.test(l)?d():(h(),s=Ee.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Ee.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=Ee.ParamRegExpEnd:u+=l;break;case Ee.ParamRegExpEnd:h(),s=Ee.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===Ee.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),n}const $l="[^/]+?",Wg={sensitive:!1,strict:!1,start:!0,end:!0};var Be=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Be||{});const qg=/[.+*?^${}()[\]/\\]/g;function Kg(t,e){const s=te({},Wg,e),r=[];let n=s.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[Be.Root];s.strict&&!c.length&&(n+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=Be.Segment+(s.sensitive?Be.BonusCaseSensitive:0);if(d.type===ys.Static)h||(n+="/"),n+=d.value.replace(qg,"\\$&"),f+=Be.Static;else if(d.type===ys.Param){const{value:v,repeatable:m,optional:w,regexp:y}=d;i.push({name:v,repeatable:m,optional:w});const b=y||$l;if(b!==$l){f+=Be.BonusCustomRegExp;try{`${b}`}catch(R){throw new Error(`Invalid custom RegExp for param "${v}" (${b}): `+R.message)}}let E=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(E=w&&c.length<2?`(?:/${E})`:"/"+E),w&&(E+="?"),n+=E,f+=Be.Dynamic,w&&(f+=Be.BonusOptional),m&&(f+=Be.BonusRepeatable),b===".*"&&(f+=Be.BonusWildcard)}u.push(f)}r.push(u)}if(s.strict&&s.end){const c=r.length-1;r[c][r[c].length-1]+=Be.BonusStrict}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",v=i[d-1];h[v.name]=f&&v.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===ys.Static)u+=f.value;else if(f.type===ys.Param){const{value:v,repeatable:m,optional:w}=f,y=v in c?c[v]:"";if(vt(y)&&!m)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const b=vt(y)?y.join("/"):y;if(!b)if(w)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=b}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Gg(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===Be.Static+Be.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Be.Static+Be.Segment?1:-1:0}function eh(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=Gg(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(jl(r))return 1;if(jl(n))return-1}return n.length-r.length}function jl(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Jg={strict:!1,end:!0,sensitive:!1};function Yg(t,e,s){const r=Kg(Fg(t.path),s),n=te(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Qg(t,e){const s=[],r=new Map;e=Ol(Jg,e);function n(h){return r.get(h)}function i(h,d,f){const v=!f,m=Nl(h);m.aliasOf=f&&f.record;const w=Ol(e,h),y=[m];if("alias"in h){const R=typeof h.alias=="string"?[h.alias]:h.alias;for(const j of R)y.push(Nl(te({},m,{components:f?f.record.components:m.components,path:j,aliasOf:f?f.record:m})))}let b,E;for(const R of y){const{path:j}=R;if(d&&j[0]!=="/"){const z=d.record.path,H=z[z.length-1]==="/"?"":"/";R.path=d.record.path+(j&&H+j)}if(b=Yg(R,d,w),f?f.alias.push(b):(E=E||b,E!==b&&E.alias.push(b),v&&h.name&&!Dl(b)&&o(h.name)),th(b)&&l(b),m.children){const z=m.children;for(let H=0;H<z.length;H++)i(z[H],b,f&&f.children[H])}f=f||b}return E?()=>{o(E)}:Pr}function o(h){if(Qu(h)){const d=r.get(h);d&&(r.delete(h),s.splice(s.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=s.indexOf(h);d>-1&&(s.splice(d,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const d=ev(h,s);s.splice(d,0,h),h.record.name&&!Dl(h)&&r.set(h.record.name,h)}function c(h,d){let f,v={},m,w;if("name"in h&&h.name){if(f=r.get(h.name),!f)throw er(ge.MATCHER_NOT_FOUND,{location:h});w=f.record.name,v=te(Il(d.params,f.keys.filter(E=>!E.optional).concat(f.parent?f.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),h.params&&Il(h.params,f.keys.map(E=>E.name))),m=f.stringify(v)}else if(h.path!=null)m=h.path,f=s.find(E=>E.re.test(m)),f&&(v=f.parse(m),w=f.record.name);else{if(f=d.name?r.get(d.name):s.find(E=>E.re.test(d.path)),!f)throw er(ge.MATCHER_NOT_FOUND,{location:h,currentLocation:d});w=f.record.name,v=te({},d.params,h.params),m=f.stringify(v)}const y=[];let b=f;for(;b;)y.unshift(b.record),b=b.parent;return{name:w,path:m,params:v,matched:y,meta:Zg(y)}}t.forEach(h=>i(h));function u(){s.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function Il(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function Nl(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Xg(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Xg(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function Dl(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Zg(t){return t.reduce((e,s)=>te(e,s.meta),{})}function ev(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;eh(t,e[i])<0?r=i:s=i+1}const n=tv(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function tv(t){let e=t;for(;e=e.parent;)if(th(e)&&eh(t,e)===0)return e}function th({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Ll(t){const e=at(pi),s=at(fa),r=He(()=>{const l=Es(t.to);return e.resolve(l)}),n=He(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=s.matched;if(!u||!h.length)return-1;const d=h.findIndex(Zs.bind(null,u));if(d>-1)return d;const f=Ul(l[c-2]);return c>1&&Ul(u)===f&&h[h.length-1].path!==f?h.findIndex(Zs.bind(null,l[c-2])):d}),i=He(()=>n.value>-1&&ov(s.params,r.value.params)),o=He(()=>n.value>-1&&n.value===s.matched.length-1&&Yu(s.params,r.value.params));function a(l={}){if(iv(l)){const c=e[Es(t.replace)?"replace":"push"](Es(t.to)).catch(Pr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:He(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function sv(t){return t.length===1?t[0]:t}const rv=la({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ll,setup(t,{slots:e}){const s=Zr(Ll(t)),{options:r}=at(pi),n=He(()=>({[Ml(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Ml(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&sv(e.default(s));return t.custom?i:Uu("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),nv=rv;function iv(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ov(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!vt(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function Ul(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ml=(t,e,s)=>t??e??s,av=la({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=at(Ro),n=He(()=>t.route||r.value),i=at(Pl,0),o=He(()=>{let c=Es(i);const{matched:u}=n.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=He(()=>n.value.matched[o.value]);An(Pl,He(()=>o.value+1)),An(Dg,a),An(Ro,n);const l=Xt();return xr(()=>[l.value,a.value,t.name],([c,u,h],[d,f,v])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Zs(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=n.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return Bl(s.default,{Component:d,route:c});const f=h.props[u],v=f?f===!0?c.params:typeof f=="function"?f(c):f:null,w=Uu(d,te({},v,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Bl(s.default,{Component:w,route:c})||w}}});function Bl(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const lv=av;function cv(t){const e=Qg(t.routes,t),s=t.parseQuery||Ig,r=t.stringifyQuery||Tl,n=t.history,i=yr(),o=yr(),a=yr(),l=Wd(Wt);let c=Wt;Hs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=zi.bind(null,A=>""+A),h=zi.bind(null,mg),d=zi.bind(null,Mr);function f(A,L){let I,M;return Qu(A)?(I=e.getRecordMatcher(A),M=L):M=A,e.addRoute(M,I)}function v(A){const L=e.getRecordMatcher(A);L&&e.removeRoute(L)}function m(){return e.getRoutes().map(A=>A.record)}function w(A){return!!e.getRecordMatcher(A)}function y(A,L){if(L=te({},L||l.value),typeof A=="string"){const _=Hi(s,A,L.path),O=e.resolve({path:_.path},L),x=n.createHref(_.fullPath);return te(_,O,{params:d(O.params),hash:Mr(_.hash),redirectedFrom:void 0,href:x})}let I;if(A.path!=null)I=te({},A,{path:Hi(s,A.path,L.path).path});else{const _=te({},A.params);for(const O in _)_[O]==null&&delete _[O];I=te({},A,{params:h(_)}),L.params=h(L.params)}const M=e.resolve(I,L),Q=A.hash||"";M.params=u(d(M.params));const p=_g(r,te({},A,{hash:pg(Q),path:M.path})),g=n.createHref(p);return te({fullPath:p,hash:Q,query:r===Tl?Ng(A.query):A.query||{}},M,{redirectedFrom:void 0,href:g})}function b(A){return typeof A=="string"?Hi(s,A,l.value.path):te({},A)}function E(A,L){if(c!==A)return er(ge.NAVIGATION_CANCELLED,{from:L,to:A})}function R(A){return H(A)}function j(A){return R(te(b(A),{replace:!0}))}function z(A,L){const I=A.matched[A.matched.length-1];if(I&&I.redirect){const{redirect:M}=I;let Q=typeof M=="function"?M(A,L):M;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=b(Q):{path:Q},Q.params={}),te({query:A.query,hash:A.hash,params:Q.path!=null?{}:A.params},Q)}}function H(A,L){const I=c=y(A),M=l.value,Q=A.state,p=A.force,g=A.replace===!0,_=z(I,M);if(_)return H(te(b(_),{state:typeof _=="object"?te({},Q,_.state):Q,force:p,replace:g}),L||I);const O=I;O.redirectedFrom=L;let x;return!p&&wg(r,M,I)&&(x=er(ge.NAVIGATION_DUPLICATED,{to:O,from:M}),bt(M,M,!0,!1)),(x?Promise.resolve(x):ie(O,M)).catch(S=>Pt(S)?Pt(S,ge.NAVIGATION_GUARD_REDIRECT)?S:Ft(S):ee(S,O,M)).then(S=>{if(S){if(Pt(S,ge.NAVIGATION_GUARD_REDIRECT))return H(te({replace:g},b(S.to),{state:typeof S.to=="object"?te({},Q,S.to.state):Q,force:p}),L||O)}else S=Ye(O,M,!0,g,Q);return Le(O,M,S),S})}function W(A,L){const I=E(A,L);return I?Promise.reject(I):Promise.resolve()}function q(A){const L=Cs.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(A):A()}function ie(A,L){let I;const[M,Q,p]=Lg(A,L);I=Fi(M.reverse(),"beforeRouteLeave",A,L);for(const _ of M)_.leaveGuards.forEach(O=>{I.push(Qt(O,A,L))});const g=W.bind(null,A,L);return I.push(g),it(I).then(()=>{I=[];for(const _ of i.list())I.push(Qt(_,A,L));return I.push(g),it(I)}).then(()=>{I=Fi(Q,"beforeRouteUpdate",A,L);for(const _ of Q)_.updateGuards.forEach(O=>{I.push(Qt(O,A,L))});return I.push(g),it(I)}).then(()=>{I=[];for(const _ of p)if(_.beforeEnter)if(vt(_.beforeEnter))for(const O of _.beforeEnter)I.push(Qt(O,A,L));else I.push(Qt(_.beforeEnter,A,L));return I.push(g),it(I)}).then(()=>(A.matched.forEach(_=>_.enterCallbacks={}),I=Fi(p,"beforeRouteEnter",A,L,q),I.push(g),it(I))).then(()=>{I=[];for(const _ of o.list())I.push(Qt(_,A,L));return I.push(g),it(I)}).catch(_=>Pt(_,ge.NAVIGATION_CANCELLED)?_:Promise.reject(_))}function Le(A,L,I){a.list().forEach(M=>q(()=>M(A,L,I)))}function Ye(A,L,I,M,Q){const p=E(A,L);if(p)return p;const g=L===Wt,_=Hs?history.state:{};I&&(M||g?n.replace(A.fullPath,te({scroll:g&&_&&_.scroll},Q)):n.push(A.fullPath,Q)),l.value=A,bt(A,L,I,g),Ft()}let Fe;function os(){Fe||(Fe=n.listen((A,L,I)=>{if(!as.listening)return;const M=y(A),Q=z(M,as.currentRoute.value);if(Q){H(te(Q,{replace:!0,force:!0}),M).catch(Pr);return}c=M;const p=l.value;Hs&&Tg(kl(p.fullPath,I.delta),fi()),ie(M,p).catch(g=>Pt(g,ge.NAVIGATION_ABORTED|ge.NAVIGATION_CANCELLED)?g:Pt(g,ge.NAVIGATION_GUARD_REDIRECT)?(H(te(b(g.to),{force:!0}),M).then(_=>{Pt(_,ge.NAVIGATION_ABORTED|ge.NAVIGATION_DUPLICATED)&&!I.delta&&I.type===Eo.pop&&n.go(-1,!1)}).catch(Pr),Promise.reject()):(I.delta&&n.go(-I.delta,!1),ee(g,M,p))).then(g=>{g=g||Ye(M,p,!1),g&&(I.delta&&!Pt(g,ge.NAVIGATION_CANCELLED)?n.go(-I.delta,!1):I.type===Eo.pop&&Pt(g,ge.NAVIGATION_ABORTED|ge.NAVIGATION_DUPLICATED)&&n.go(-1,!1)),Le(M,p,g)}).catch(Pr)}))}let Vt=yr(),de=yr(),Y;function ee(A,L,I){Ft(A);const M=de.list();return M.length?M.forEach(Q=>Q(A,L,I)):console.error(A),Promise.reject(A)}function kt(){return Y&&l.value!==Wt?Promise.resolve():new Promise((A,L)=>{Vt.add([A,L])})}function Ft(A){return Y||(Y=!A,os(),Vt.list().forEach(([L,I])=>A?I(A):L()),Vt.reset()),A}function bt(A,L,I,M){const{scrollBehavior:Q}=t;if(!Hs||!Q)return Promise.resolve();const p=!I&&Pg(kl(A.fullPath,0))||(M||!I)&&history.state&&history.state.scroll||null;return ia().then(()=>Q(A,L,p)).then(g=>g&&kg(g)).catch(g=>ee(g,A,L))}const We=A=>n.go(A);let Ps;const Cs=new Set,as={currentRoute:l,listening:!0,addRoute:f,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:w,getRoutes:m,resolve:y,options:t,push:R,replace:j,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:de.add,isReady:kt,install(A){A.component("RouterLink",nv),A.component("RouterView",lv),A.config.globalProperties.$router=as,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>Es(l)}),Hs&&!Ps&&l.value===Wt&&(Ps=!0,R(n.location).catch(M=>{}));const L={};for(const M in Wt)Object.defineProperty(L,M,{get:()=>l.value[M],enumerable:!0});A.provide(pi,as),A.provide(fa,su(L)),A.provide(Ro,l);const I=A.unmount;Cs.add(A),A.unmount=function(){Cs.delete(A),Cs.size<1&&(c=Wt,Fe&&Fe(),Fe=null,l.value=Wt,Ps=!1,Y=!1),I()}}};function it(A){return A.reduce((L,I)=>L.then(()=>q(I)),Promise.resolve())}return as}function Lb(){return at(pi)}function Ub(t){return at(fa)}const uv=[{path:"/",name:"home",component:()=>Rl(()=>import("./HomeView-BapMzlTh.js"),__vite__mapDeps([0,1,2,3]))},{path:"/room/:code?",name:"room",component:()=>Rl(()=>import("./RoomView-DiSDeMbb.js"),__vite__mapDeps([4,1,2,5]))}],hv=cv({history:zg("/draw-guess/"),routes:uv});const Tn=window,pa=Tn.ShadowRoot&&(Tn.ShadyCSS===void 0||Tn.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ga=Symbol(),zl=new WeakMap;let sh=class{constructor(e,s,r){if(this._$cssResult$=!0,r!==ga)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=s}get styleSheet(){let e=this.o;const s=this.t;if(pa&&e===void 0){const r=s!==void 0&&s.length===1;r&&(e=zl.get(s)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&zl.set(s,e))}return e}toString(){return this.cssText}};const dv=t=>new sh(typeof t=="string"?t:t+"",void 0,ga),he=(t,...e)=>{const s=t.length===1?t[0]:e.reduce(((r,n,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[i+1]),t[0]);return new sh(s,t,ga)},fv=(t,e)=>{pa?t.adoptedStyleSheets=e.map((s=>s instanceof CSSStyleSheet?s:s.styleSheet)):e.forEach((s=>{const r=document.createElement("style"),n=Tn.litNonce;n!==void 0&&r.setAttribute("nonce",n),r.textContent=s.cssText,t.appendChild(r)}))},Hl=pa?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let s="";for(const r of e.cssRules)s+=r.cssText;return dv(s)})(t):t;var Wi;const Mn=window,Vl=Mn.trustedTypes,pv=Vl?Vl.emptyScript:"",Fl=Mn.reactiveElementPolyfillSupport,Oo={toAttribute(t,e){switch(e){case Boolean:t=t?pv:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let s=t;switch(e){case Boolean:s=t!==null;break;case Number:s=t===null?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch{s=null}}return s}},rh=(t,e)=>e!==t&&(e==e||t==t),qi={attribute:!0,type:String,converter:Oo,reflect:!1,hasChanged:rh},Ao="finalized";let Vs=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var s;this.finalize(),((s=this.h)!==null&&s!==void 0?s:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((s,r)=>{const n=this._$Ep(r,s);n!==void 0&&(this._$Ev.set(n,r),e.push(n))})),e}static createProperty(e,s=qi){if(s.state&&(s.attribute=!1),this.finalize(),this.elementProperties.set(e,s),!s.noAccessor&&!this.prototype.hasOwnProperty(e)){const r=typeof e=="symbol"?Symbol():"__"+e,n=this.getPropertyDescriptor(e,r,s);n!==void 0&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,s,r){return{get(){return this[s]},set(n){const i=this[e];this[s]=n,this.requestUpdate(e,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||qi}static finalize(){if(this.hasOwnProperty(Ao))return!1;this[Ao]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const s=this.properties,r=[...Object.getOwnPropertyNames(s),...Object.getOwnPropertySymbols(s)];for(const n of r)this.createProperty(n,s[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const s=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const n of r)s.unshift(Hl(n))}else e!==void 0&&s.push(Hl(e));return s}static _$Ep(e,s){const r=s.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise((s=>this.enableUpdating=s)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach((s=>s(this)))}addController(e){var s,r;((s=this._$ES)!==null&&s!==void 0?s:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var s;(s=this._$ES)===null||s===void 0||s.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,s)=>{this.hasOwnProperty(s)&&(this._$Ei.set(s,this[s]),delete this[s])}))}createRenderRoot(){var e;const s=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return fv(s,this.constructor.elementStyles),s}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach((s=>{var r;return(r=s.hostConnected)===null||r===void 0?void 0:r.call(s)}))}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach((s=>{var r;return(r=s.hostDisconnected)===null||r===void 0?void 0:r.call(s)}))}attributeChangedCallback(e,s,r){this._$AK(e,r)}_$EO(e,s,r=qi){var n;const i=this.constructor._$Ep(e,r);if(i!==void 0&&r.reflect===!0){const o=(((n=r.converter)===null||n===void 0?void 0:n.toAttribute)!==void 0?r.converter:Oo).toAttribute(s,r.type);this._$El=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}_$AK(e,s){var r;const n=this.constructor,i=n._$Ev.get(e);if(i!==void 0&&this._$El!==i){const o=n.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:Oo;this._$El=i,this[i]=a.fromAttribute(s,o.type),this._$El=null}}requestUpdate(e,s,r){let n=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||rh)(this[e],s)?(this._$AL.has(e)||this._$AL.set(e,s),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(s){Promise.reject(s)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((n,i)=>this[i]=n)),this._$Ei=void 0);let s=!1;const r=this._$AL;try{s=this.shouldUpdate(r),s?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach((n=>{var i;return(i=n.hostUpdate)===null||i===void 0?void 0:i.call(n)})),this.update(r)):this._$Ek()}catch(n){throw s=!1,this._$Ek(),n}s&&this._$AE(r)}willUpdate(e){}_$AE(e){var s;(s=this._$ES)===null||s===void 0||s.forEach((r=>{var n;return(n=r.hostUpdated)===null||n===void 0?void 0:n.call(r)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach(((s,r)=>this._$EO(r,this[r],s))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};Vs[Ao]=!0,Vs.elementProperties=new Map,Vs.elementStyles=[],Vs.shadowRootOptions={mode:"open"},Fl?.({ReactiveElement:Vs}),((Wi=Mn.reactiveElementVersions)!==null&&Wi!==void 0?Wi:Mn.reactiveElementVersions=[]).push("1.6.3");var Ki;const Bn=window,tr=Bn.trustedTypes,Wl=tr?tr.createPolicy("lit-html",{createHTML:t=>t}):void 0,xo="$lit$",Zt=`lit$${(Math.random()+"").slice(9)}$`,nh="?"+Zt,gv=`<${nh}>`,Rs=document,Br=()=>Rs.createComment(""),zr=t=>t===null||typeof t!="object"&&typeof t!="function",ih=Array.isArray,vv=t=>ih(t)||typeof t?.[Symbol.iterator]=="function",Gi=`[ 	
\f\r]`,br=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ql=/-->/g,Kl=/>/g,us=RegExp(`>|${Gi}(?:([^\\s"'>=/]+)(${Gi}*=${Gi}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Gl=/'/g,Jl=/"/g,oh=/^(?:script|style|textarea|title)$/i,mv=t=>(e,...s)=>({_$litType$:t,strings:e,values:s}),ue=mv(1),sr=Symbol.for("lit-noChange"),xe=Symbol.for("lit-nothing"),Yl=new WeakMap,bs=Rs.createTreeWalker(Rs,129,null,!1);function ah(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Wl!==void 0?Wl.createHTML(e):e}const yv=(t,e)=>{const s=t.length-1,r=[];let n,i=e===2?"<svg>":"",o=br;for(let a=0;a<s;a++){const l=t[a];let c,u,h=-1,d=0;for(;d<l.length&&(o.lastIndex=d,u=o.exec(l),u!==null);)d=o.lastIndex,o===br?u[1]==="!--"?o=ql:u[1]!==void 0?o=Kl:u[2]!==void 0?(oh.test(u[2])&&(n=RegExp("</"+u[2],"g")),o=us):u[3]!==void 0&&(o=us):o===us?u[0]===">"?(o=n??br,h=-1):u[1]===void 0?h=-2:(h=o.lastIndex-u[2].length,c=u[1],o=u[3]===void 0?us:u[3]==='"'?Jl:Gl):o===Jl||o===Gl?o=us:o===ql||o===Kl?o=br:(o=us,n=void 0);const f=o===us&&t[a+1].startsWith("/>")?" ":"";i+=o===br?l+gv:h>=0?(r.push(c),l.slice(0,h)+xo+l.slice(h)+Zt+f):l+Zt+(h===-2?(r.push(void 0),a):f)}return[ah(t,i+(t[s]||"<?>")+(e===2?"</svg>":"")),r]};class Hr{constructor({strings:e,_$litType$:s},r){let n;this.parts=[];let i=0,o=0;const a=e.length-1,l=this.parts,[c,u]=yv(e,s);if(this.el=Hr.createElement(c,r),bs.currentNode=this.el.content,s===2){const h=this.el.content,d=h.firstChild;d.remove(),h.append(...d.childNodes)}for(;(n=bs.nextNode())!==null&&l.length<a;){if(n.nodeType===1){if(n.hasAttributes()){const h=[];for(const d of n.getAttributeNames())if(d.endsWith(xo)||d.startsWith(Zt)){const f=u[o++];if(h.push(d),f!==void 0){const v=n.getAttribute(f.toLowerCase()+xo).split(Zt),m=/([.?@])?(.*)/.exec(f);l.push({type:1,index:i,name:m[2],strings:v,ctor:m[1]==="."?_v:m[1]==="?"?Ev:m[1]==="@"?Sv:gi})}else l.push({type:6,index:i})}for(const d of h)n.removeAttribute(d)}if(oh.test(n.tagName)){const h=n.textContent.split(Zt),d=h.length-1;if(d>0){n.textContent=tr?tr.emptyScript:"";for(let f=0;f<d;f++)n.append(h[f],Br()),bs.nextNode(),l.push({type:2,index:++i});n.append(h[d],Br())}}}else if(n.nodeType===8)if(n.data===nh)l.push({type:2,index:i});else{let h=-1;for(;(h=n.data.indexOf(Zt,h+1))!==-1;)l.push({type:7,index:i}),h+=Zt.length-1}i++}}static createElement(e,s){const r=Rs.createElement("template");return r.innerHTML=e,r}}function rr(t,e,s=t,r){var n,i,o,a;if(e===sr)return e;let l=r!==void 0?(n=s._$Co)===null||n===void 0?void 0:n[r]:s._$Cl;const c=zr(e)?void 0:e._$litDirective$;return l?.constructor!==c&&((i=l?._$AO)===null||i===void 0||i.call(l,!1),c===void 0?l=void 0:(l=new c(t),l._$AT(t,s,r)),r!==void 0?((o=(a=s)._$Co)!==null&&o!==void 0?o:a._$Co=[])[r]=l:s._$Cl=l),l!==void 0&&(e=rr(t,l._$AS(t,e.values),l,r)),e}class bv{constructor(e,s){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var s;const{el:{content:r},parts:n}=this._$AD,i=((s=e?.creationScope)!==null&&s!==void 0?s:Rs).importNode(r,!0);bs.currentNode=i;let o=bs.nextNode(),a=0,l=0,c=n[0];for(;c!==void 0;){if(a===c.index){let u;c.type===2?u=new sn(o,o.nextSibling,this,e):c.type===1?u=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(u=new Rv(o,this,e)),this._$AV.push(u),c=n[++l]}a!==c?.index&&(o=bs.nextNode(),a++)}return bs.currentNode=Rs,i}v(e){let s=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,s),s+=r.strings.length-2):r._$AI(e[s])),s++}}class sn{constructor(e,s,r,n){var i;this.type=2,this._$AH=xe,this._$AN=void 0,this._$AA=e,this._$AB=s,this._$AM=r,this.options=n,this._$Cp=(i=n?.isConnected)===null||i===void 0||i}get _$AU(){var e,s;return(s=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&s!==void 0?s:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const s=this._$AM;return s!==void 0&&e?.nodeType===11&&(e=s.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,s=this){e=rr(this,e,s),zr(e)?e===xe||e==null||e===""?(this._$AH!==xe&&this._$AR(),this._$AH=xe):e!==this._$AH&&e!==sr&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):vv(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==xe&&zr(this._$AH)?this._$AA.nextSibling.data=e:this.$(Rs.createTextNode(e)),this._$AH=e}g(e){var s;const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Hr.createElement(ah(n.h,n.h[0]),this.options)),n);if(((s=this._$AH)===null||s===void 0?void 0:s._$AD)===i)this._$AH.v(r);else{const o=new bv(i,this),a=o.u(this.options);o.v(r),this.$(a),this._$AH=o}}_$AC(e){let s=Yl.get(e.strings);return s===void 0&&Yl.set(e.strings,s=new Hr(e)),s}T(e){ih(this._$AH)||(this._$AH=[],this._$AR());const s=this._$AH;let r,n=0;for(const i of e)n===s.length?s.push(r=new sn(this.k(Br()),this.k(Br()),this,this.options)):r=s[n],r._$AI(i),n++;n<s.length&&(this._$AR(r&&r._$AB.nextSibling,n),s.length=n)}_$AR(e=this._$AA.nextSibling,s){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,s);e&&e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){var s;this._$AM===void 0&&(this._$Cp=e,(s=this._$AP)===null||s===void 0||s.call(this,e))}}class gi{constructor(e,s,r,n,i){this.type=1,this._$AH=xe,this._$AN=void 0,this.element=e,this.name=s,this._$AM=n,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=xe}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,s=this,r,n){const i=this.strings;let o=!1;if(i===void 0)e=rr(this,e,s,0),o=!zr(e)||e!==this._$AH&&e!==sr,o&&(this._$AH=e);else{const a=e;let l,c;for(e=i[0],l=0;l<i.length-1;l++)c=rr(this,a[r+l],s,l),c===sr&&(c=this._$AH[l]),o||(o=!zr(c)||c!==this._$AH[l]),c===xe?e=xe:e!==xe&&(e+=(c??"")+i[l+1]),this._$AH[l]=c}o&&!n&&this.j(e)}j(e){e===xe?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class _v extends gi{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===xe?void 0:e}}const wv=tr?tr.emptyScript:"";class Ev extends gi{constructor(){super(...arguments),this.type=4}j(e){e&&e!==xe?this.element.setAttribute(this.name,wv):this.element.removeAttribute(this.name)}}class Sv extends gi{constructor(e,s,r,n,i){super(e,s,r,n,i),this.type=5}_$AI(e,s=this){var r;if((e=(r=rr(this,e,s,0))!==null&&r!==void 0?r:xe)===sr)return;const n=this._$AH,i=e===xe&&n!==xe||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==xe&&(n===xe||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var s,r;typeof this._$AH=="function"?this._$AH.call((r=(s=this.options)===null||s===void 0?void 0:s.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}}class Rv{constructor(e,s,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=s,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){rr(this,e)}}const Ql=Bn.litHtmlPolyfillSupport;Ql?.(Hr,sn),((Ki=Bn.litHtmlVersions)!==null&&Ki!==void 0?Ki:Bn.litHtmlVersions=[]).push("2.8.0");const Ov=(t,e,s)=>{var r,n;const i=(r=s?.renderBefore)!==null&&r!==void 0?r:e;let o=i._$litPart$;if(o===void 0){const a=(n=s?.renderBefore)!==null&&n!==void 0?n:null;i._$litPart$=o=new sn(e.insertBefore(Br(),a),a,void 0,s??{})}return o._$AI(t),o};var Ji,Yi;class Dt extends Vs{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,s;const r=super.createRenderRoot();return(e=(s=this.renderOptions).renderBefore)!==null&&e!==void 0||(s.renderBefore=r.firstChild),r}update(e){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Ov(s,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return sr}}Dt.finalized=!0,Dt._$litElement$=!0,(Ji=globalThis.litElementHydrateSupport)===null||Ji===void 0||Ji.call(globalThis,{LitElement:Dt});const Xl=globalThis.litElementPolyfillSupport;Xl?.({LitElement:Dt});((Yi=globalThis.litElementVersions)!==null&&Yi!==void 0?Yi:globalThis.litElementVersions=[]).push("3.3.3");const fe=t=>e=>typeof e=="function"?((s,r)=>(customElements.define(s,r),r))(t,e):((s,r)=>{const{kind:n,elements:i}=r;return{kind:n,elements:i,finisher(o){customElements.define(s,o)}}})(t,e);const Av=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(s){s.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(s){s.createProperty(e.key,t)}},xv=(t,e,s)=>{e.constructor.createProperty(s,t)};function T(t){return(e,s)=>s!==void 0?xv(t,e,s):Av(t,e)}function kv(t){return T({...t,state:!0})}const Tv=({finisher:t,descriptor:e})=>(s,r)=>{var n;if(r===void 0){const i=(n=s.originalKey)!==null&&n!==void 0?n:s.key,o=e!=null?{kind:"method",placement:"prototype",key:i,descriptor:e(s.key)}:{...s,key:i};return t!=null&&(o.finisher=function(a){t(a,i)}),o}{const i=s.constructor;e!==void 0&&Object.defineProperty(s,r,e(r)),t?.(i,r)}};function Ae(t,e){return Tv({descriptor:s=>({get(){var n,i;return(i=(n=this.renderRoot)===null||n===void 0?void 0:n.querySelector(t))!==null&&i!==void 0?i:null},enumerable:!0,configurable:!0})})}var Qi;((Qi=window.HTMLSlotElement)===null||Qi===void 0?void 0:Qi.prototype.assignedElements)!=null;var Pv=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},Cv=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};const ye=he`
:host {
  opacity: 0;
}
:host(.wired-rendered) {
  opacity: 1;
}
#overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
}
svg {
  display: block;
}
path {
  stroke: currentColor;
  stroke-width: 0.7;
  fill: transparent;
}
.hidden {
  display: none !important;
}
`;class be extends Dt{constructor(){super(...arguments),this.lastSize=[0,0],this.seed=Math.floor(Math.random()*2**31)}updated(e){this.wiredRender()}wiredRender(e=!1){if(this.svg){const s=this.canvasSize();if(!e&&s[0]===this.lastSize[0]&&s[1]===this.lastSize[1])return;for(;this.svg.hasChildNodes();)this.svg.removeChild(this.svg.lastChild);this.svg.setAttribute("width",`${s[0]}`),this.svg.setAttribute("height",`${s[1]}`),this.draw(this.svg,s),this.lastSize=s,this.classList.add("wired-rendered")}}fire(e,s){va(this,e,s)}}Pv([Ae("svg"),Cv("design:type",SVGSVGElement)],be.prototype,"svg",void 0);function $v(){return Math.floor(Math.random()*2**31)}function va(t,e,s){t.dispatchEvent(new CustomEvent(e,{composed:!0,bubbles:!0,detail:s}))}function ko(t,e,s){if(t&&t.length){const[r,n]=e,i=Math.PI/180*s,o=Math.cos(i),a=Math.sin(i);for(const l of t){const[c,u]=l;l[0]=(c-r)*o-(u-n)*a+r,l[1]=(c-r)*a+(u-n)*o+n}}}function jv(t,e,s){const r=[];t.forEach(n=>r.push(...n)),ko(r,e,s)}function Iv(t,e){return t[0]===e[0]&&t[1]===e[1]}function Nv(t,e,s,r=1){const n=s,i=Math.max(e,.1),o=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,a=[0,0];if(n)for(const c of o)ko(c,a,n);const l=Dv(o,i,r);if(n){for(const c of o)ko(c,a,-n);jv(l,a,-n)}return l}function Dv(t,e,s){const r=[];for(const c of t){const u=[...c];Iv(u[0],u[u.length-1])||u.push([u[0][0],u[0][1]]),u.length>2&&r.push(u)}const n=[];e=Math.max(e,.1);const i=[];for(const c of r)for(let u=0;u<c.length-1;u++){const h=c[u],d=c[u+1];if(h[1]!==d[1]){const f=Math.min(h[1],d[1]);i.push({ymin:f,ymax:Math.max(h[1],d[1]),x:f===h[1]?h[0]:d[0],islope:(d[0]-h[0])/(d[1]-h[1])})}}if(i.sort((c,u)=>c.ymin<u.ymin?-1:c.ymin>u.ymin?1:c.x<u.x?-1:c.x>u.x?1:c.ymax===u.ymax?0:(c.ymax-u.ymax)/Math.abs(c.ymax-u.ymax)),!i.length)return n;let o=[],a=i[0].ymin,l=0;for(;o.length||i.length;){if(i.length){let c=-1;for(let h=0;h<i.length&&!(i[h].ymin>a);h++)c=h;i.splice(0,c+1).forEach(h=>{o.push({s:a,edge:h})})}if(o=o.filter(c=>!(c.edge.ymax<=a)),o.sort((c,u)=>c.edge.x===u.edge.x?0:(c.edge.x-u.edge.x)/Math.abs(c.edge.x-u.edge.x)),(s!==1||l%e===0)&&o.length>1)for(let c=0;c<o.length;c=c+2){const u=c+1;if(u>=o.length)break;const h=o[c].edge,d=o[u].edge;n.push([[Math.round(h.x),a],[Math.round(d.x),a]])}a+=s,o.forEach(c=>{c.edge.x=c.edge.x+s*c.edge.islope}),l++}return n}function lh(t,e){var s;const r=e.hachureAngle+90;let n=e.hachureGap;n<0&&(n=e.strokeWidth*4),n=Math.round(Math.max(n,.1));let i=1;return e.roughness>=1&&(((s=e.randomizer)===null||s===void 0?void 0:s.next())||Math.random())>.7&&(i=n),Nv(t,n,r,i||1)}class Lv{constructor(e){this.helper=e}fillPolygons(e,s){return this._fillPolygons(e,s)}_fillPolygons(e,s){const r=lh(e,s);return{type:"fillSketch",ops:this.renderLines(r,s)}}renderLines(e,s){const r=[];for(const n of e)r.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],s));return r}}function Uv(t){const e=t[0],s=t[1];return Math.sqrt(Math.pow(e[0]-s[0],2)+Math.pow(e[1]-s[1],2))}class Mv extends Lv{fillPolygons(e,s){let r=s.hachureGap;r<0&&(r=s.strokeWidth*4),r=Math.max(r,.1);const n=Object.assign({},s,{hachureGap:r}),i=lh(e,n),o=Math.PI/180*s.hachureAngle,a=[],l=r*.5*Math.cos(o),c=r*.5*Math.sin(o);for(const[h,d]of i)Uv([h,d])&&a.push([[h[0]-l,h[1]+c],[...d]],[[h[0]+l,h[1]-c],[...d]]);return{type:"fillSketch",ops:this.renderLines(a,s)}}}class Bv{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function ch(t,e,s,r,n){return{type:"path",ops:zn(t,e,s,r,n)}}function zv(t,e,s){const r=(t||[]).length;if(r>2){const n=[];for(let i=0;i<r-1;i++)n.push(...zn(t[i][0],t[i][1],t[i+1][0],t[i+1][1],s));return n.push(...zn(t[r-1][0],t[r-1][1],t[0][0],t[0][1],s)),{type:"path",ops:n}}else if(r===2)return ch(t[0][0],t[0][1],t[1][0],t[1][1],s);return{type:"path",ops:[]}}function uh(t,e){return zv(t,!0,e)}function Hv(t,e,s,r,n){const i=[[t,e],[t+s,e],[t+s,e+r],[t,e+r]];return uh(i,n)}function hh(t,e,s,r,n){const i=dh(s,r,n);return Vv(t,e,n,i).opset}function dh(t,e,s){const r=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),n=Math.ceil(Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*r)),i=Math.PI*2/n;let o=Math.abs(t/2),a=Math.abs(e/2);const l=1-s.curveFitting;return o+=Re(o*l,s),a+=Re(a*l,s),{increment:i,rx:o,ry:a}}function Vv(t,e,s,r){const[n,i]=ec(r.increment,t,e,r.rx,r.ry,1,r.increment*To(.1,To(.4,1,s),s),s);let o=Zl(n,null,s);if(!s.disableMultiStroke&&s.roughness!==0){const[a]=ec(r.increment,t,e,r.rx,r.ry,1.5,0,s),l=Zl(a,null,s);o=o.concat(l)}return{estimatedPoints:i,opset:{type:"path",ops:o}}}function Fv(t,e,s,r,n){return zn(t,e,s,r,n,!0)}function fh(t){return t.randomizer||(t.randomizer=new Bv(t.seed||0)),t.randomizer.next()}function To(t,e,s,r=1){return s.roughness*r*(fh(s)*(e-t)+t)}function Re(t,e,s=1){return To(-t,t,e,s)}function zn(t,e,s,r,n,i=!1){const o=i?n.disableMultiStrokeFill:n.disableMultiStroke,a=Po(t,e,s,r,n,!0,!1);if(o)return a;const l=Po(t,e,s,r,n,!0,!0);return a.concat(l)}function Po(t,e,s,r,n,i,o){const a=Math.pow(t-s,2)+Math.pow(e-r,2),l=Math.sqrt(a);let c=1;l<200?c=1:l>500?c=.4:c=-.0016668*l+1.233334;let u=n.maxRandomnessOffset||0;u*u*100>a&&(u=l/10);const h=u/2,d=.2+fh(n)*.2;let f=n.bowing*n.maxRandomnessOffset*(r-e)/200,v=n.bowing*n.maxRandomnessOffset*(t-s)/200;f=Re(f,n,c),v=Re(v,n,c);const m=[],w=()=>Re(h,n,c),y=()=>Re(u,n,c),b=n.preserveVertices;return o?m.push({op:"move",data:[t+(b?0:w()),e+(b?0:w())]}):m.push({op:"move",data:[t+(b?0:Re(u,n,c)),e+(b?0:Re(u,n,c))]}),o?m.push({op:"bcurveTo",data:[f+t+(s-t)*d+w(),v+e+(r-e)*d+w(),f+t+2*(s-t)*d+w(),v+e+2*(r-e)*d+w(),s+(b?0:w()),r+(b?0:w())]}):m.push({op:"bcurveTo",data:[f+t+(s-t)*d+y(),v+e+(r-e)*d+y(),f+t+2*(s-t)*d+y(),v+e+2*(r-e)*d+y(),s+(b?0:y()),r+(b?0:y())]}),m}function Zl(t,e,s){const r=t.length,n=[];if(r>3){const i=[],o=1-s.curveTightness;n.push({op:"move",data:[t[1][0],t[1][1]]});for(let a=1;a+2<r;a++){const l=t[a];i[0]=[l[0],l[1]],i[1]=[l[0]+(o*t[a+1][0]-o*t[a-1][0])/6,l[1]+(o*t[a+1][1]-o*t[a-1][1])/6],i[2]=[t[a+1][0]+(o*t[a][0]-o*t[a+2][0])/6,t[a+1][1]+(o*t[a][1]-o*t[a+2][1])/6],i[3]=[t[a+1][0],t[a+1][1]],n.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}}else r===3?(n.push({op:"move",data:[t[1][0],t[1][1]]}),n.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&n.push(...Po(t[0][0],t[0][1],t[1][0],t[1][1],s,!0,!0));return n}function ec(t,e,s,r,n,i,o,a){const l=a.roughness===0,c=[],u=[];if(l){t=t/4,u.push([e+r*Math.cos(-t),s+n*Math.sin(-t)]);for(let h=0;h<=Math.PI*2;h=h+t){const d=[e+r*Math.cos(h),s+n*Math.sin(h)];c.push(d),u.push(d)}u.push([e+r*Math.cos(0),s+n*Math.sin(0)]),u.push([e+r*Math.cos(t),s+n*Math.sin(t)])}else{const h=Re(.5,a)-Math.PI/2;u.push([Re(i,a)+e+.9*r*Math.cos(h-t),Re(i,a)+s+.9*n*Math.sin(h-t)]);const d=Math.PI*2+h-.01;for(let f=h;f<d;f=f+t){const v=[Re(i,a)+e+r*Math.cos(f),Re(i,a)+s+n*Math.sin(f)];c.push(v),u.push(v)}u.push([Re(i,a)+e+r*Math.cos(h+Math.PI*2+o*.5),Re(i,a)+s+n*Math.sin(h+Math.PI*2+o*.5)]),u.push([Re(i,a)+e+.98*r*Math.cos(h+o),Re(i,a)+s+.98*n*Math.sin(h+o)]),u.push([Re(i,a)+e+.9*r*Math.cos(h+o*.5),Re(i,a)+s+.9*n*Math.sin(h+o*.5)])}return[u,c]}const Wv={randOffset(t,e){return t},randOffsetWithRange(t,e,s){return(t+e)/2},ellipse(t,e,s,r,n){return hh(t,e,s,r,n)},doubleLineOps(t,e,s,r,n){return Fv(t,e,s,r,n)}};function lr(t){return{maxRandomnessOffset:2,roughness:1,bowing:.85,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:3.5,hachureAngle:-41,hachureGap:5,dashOffset:-1,dashGap:-1,zigzagOffset:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1,seed:t}}function qv(t,e){let s="";for(const r of t.ops){const n=r.data;switch(r.op){case"move":if(e&&s)break;s+=`M${n[0]} ${n[1]} `;break;case"bcurveTo":s+=`C${n[0]} ${n[1]}, ${n[2]} ${n[3]}, ${n[4]} ${n[5]} `;break;case"lineTo":s+=`L${n[0]} ${n[1]} `;break}}return s.trim()}function nr(t,e){const s=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(const r in e)s.setAttributeNS(null,r,e[r]);return s}function rn(t,e,s=!1){const r=nr("path",{d:qv(t,s)});return e&&e.appendChild(r),r}function Ge(t,e,s,r,n,i){return rn(Hv(e+2,s+2,r-4,n-4,lr(i)),t)}function me(t,e,s,r,n,i){return rn(ch(e,s,r,n,lr(i)),t)}function Kv(t,e,s){return rn(uh(e,lr(s)),t,!0)}function Os(t,e,s,r,n,i){return r=Math.max(r>10?r-4:r-1,1),n=Math.max(n>10?n-4:n-1,1),rn(hh(e,s,r,n,lr(i)),t)}function vi(t,e){const r=new Mv(Wv).fillPolygon(t,lr(e));return rn(r,null)}function ma(t,e,s,r,n){const i=lr(n),o=dh(s,r,i),a=[];let l=0;for(;l<=Math.PI*2;)a.push([t+o.rx*Math.cos(l),e+o.ry*Math.sin(l)]),l+=o.increment;return vi(a,n)}var mi=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},yi=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Vr=class extends be{constructor(){super(),this.elevation=1,this.disabled=!1,this.roAttached=!1,window.ResizeObserver&&(this.ro=new window.ResizeObserver(()=>{this.svg&&this.wiredRender(!0)}))}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          font-size: 14px;
        }
        path {
          transition: transform 0.05s ease;
        }
        button {
          position: relative;
          user-select: none;
          border: none;
          background: none;
          font-family: inherit;
          font-size: inherit;
          cursor: pointer;
          letter-spacing: 1.25px;
          text-transform: uppercase;
          text-align: center;
          padding: 10px;
          color: inherit;
          outline: none;
        }
        button[disabled] {
          opacity: 0.6 !important;
          background: rgba(0, 0, 0, 0.07);
          cursor: default;
          pointer-events: none;
        }
        button:active path {
          transform: scale(0.97) translate(1.5%, 1.5%);
        }
        button:focus path {
          stroke-width: 1.5;
        }
        button::-moz-focus-inner {
          border: 0;
        }
      `]}render(){return ue`
    <button ?disabled="${this.disabled}">
      <slot @slotchange="${this.wiredRender}"></slot>
      <div id="overlay">
        <svg></svg>
      </div>
    </button>
    `}focus(){this.button?this.button.focus():super.focus()}canvasSize(){if(this.button){const e=this.button.getBoundingClientRect(),s=Math.min(Math.max(1,this.elevation),5),r=e.width+(s-1)*2,n=e.height+(s-1)*2;return[r,n]}return this.lastSize}draw(e,s){const r=Math.min(Math.max(1,this.elevation),5),n={width:s[0]-(r-1)*2,height:s[1]-(r-1)*2};Ge(e,0,0,n.width,n.height,this.seed);for(let i=1;i<r;i++)me(e,i*2,n.height+i*2,n.width+i*2,n.height+i*2,this.seed).style.opacity=`${(75-i*10)/100}`,me(e,n.width+i*2,n.height+i*2,n.width+i*2,i*2,this.seed).style.opacity=`${(75-i*10)/100}`,me(e,i*2,n.height+i*2,n.width+i*2,n.height+i*2,this.seed).style.opacity=`${(75-i*10)/100}`,me(e,n.width+i*2,n.height+i*2,n.width+i*2,i*2,this.seed).style.opacity=`${(75-i*10)/100}`}updated(){super.updated(),this.roAttached||this.attachResizeListener()}disconnectedCallback(){this.detachResizeListener()}attachResizeListener(){this.button&&this.ro&&(this.ro.observe(this.button),this.roAttached=!0)}detachResizeListener(){this.button&&this.ro&&this.ro.unobserve(this.button),this.roAttached=!1}};mi([T({type:Number}),yi("design:type",Object)],Vr.prototype,"elevation",void 0);mi([T({type:Boolean,reflect:!0}),yi("design:type",Object)],Vr.prototype,"disabled",void 0);mi([Ae("button"),yi("design:type",HTMLButtonElement)],Vr.prototype,"button",void 0);Vr=mi([fe("wired-button"),yi("design:paramtypes",[])],Vr);var ya=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},ba=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Fr=class extends be{constructor(){super(),this.elevation=1,this.roAttached=!1,window.ResizeObserver&&(this.resizeObserver=new window.ResizeObserver(()=>{this.svg&&this.wiredRender()}))}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          position: relative;
          padding: 10px;
        }
        path.cardFill {
          stroke-width: 3.5;
          stroke: var(--wired-card-background-fill);
        }
        path {
          stroke: var(--wired-card-background-fill, currentColor);
        }
      `]}render(){return ue`
    <div id="overlay"><svg></svg></div>
    <div style="position: relative;">
      <slot @slotchange="${this.wiredRender}"></slot>
    </div>
    `}updated(e){const s=e.has("fill");this.wiredRender(s),this.attachResizeListener()}disconnectedCallback(){this.detachResizeListener()}attachResizeListener(){this.roAttached||(this.resizeObserver?this.resizeObserver.observe(this):this.windowResizeHandler||(this.windowResizeHandler=()=>this.wiredRender(),window.addEventListener("resize",this.windowResizeHandler,{passive:!0})),this.roAttached=!0)}detachResizeListener(){this.resizeObserver&&this.resizeObserver.unobserve(this),this.windowResizeHandler&&window.removeEventListener("resize",this.windowResizeHandler),this.roAttached=!1}canvasSize(){const e=this.getBoundingClientRect(),s=Math.min(Math.max(1,this.elevation),5),r=e.width+(s-1)*2,n=e.height+(s-1)*2;return[r,n]}draw(e,s){const r=Math.min(Math.max(1,this.elevation),5),n={width:s[0]-(r-1)*2,height:s[1]-(r-1)*2};if(this.fill&&this.fill.trim()){const i=vi([[2,2],[n.width-4,2],[n.width-2,n.height-4],[2,n.height-4]],this.seed);i.classList.add("cardFill"),e.style.setProperty("--wired-card-background-fill",this.fill.trim()),e.appendChild(i)}Ge(e,2,2,n.width-4,n.height-4,this.seed);for(let i=1;i<r;i++)me(e,i*2,n.height-4+i*2,n.width-4+i*2,n.height-4+i*2,this.seed).style.opacity=`${(85-i*10)/100}`,me(e,n.width-4+i*2,n.height-4+i*2,n.width-4+i*2,i*2,this.seed).style.opacity=`${(85-i*10)/100}`,me(e,i*2,n.height-4+i*2,n.width-4+i*2,n.height-4+i*2,this.seed).style.opacity=`${(85-i*10)/100}`,me(e,n.width-4+i*2,n.height-4+i*2,n.width-4+i*2,i*2,this.seed).style.opacity=`${(85-i*10)/100}`}};ya([T({type:Number}),ba("design:type",Object)],Fr.prototype,"elevation",void 0);ya([T({type:String}),ba("design:type",String)],Fr.prototype,"fill",void 0);Fr=ya([fe("wired-card"),ba("design:paramtypes",[])],Fr);var nn=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},bi=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let ir=class extends be{constructor(){super(...arguments),this.checked=!1,this.disabled=!1,this.focused=!1}static get styles(){return[ye,he`
      :host {
        display: inline-block;
        font-family: inherit;
      }
      :host([disabled]) {
        opacity: 0.6 !important;
        cursor: default;
        pointer-events: none;
      }
      :host([disabled]) svg {
        background: rgba(0, 0, 0, 0.07);
      }

      #container {
        display: flex;
        flex-direction: row;
        position: relative;
        user-select: none;
        min-height: 24px;
        cursor: pointer;
      }
      span {
        margin-left: 1.5ex;
        line-height: 24px;
      }
      input {
        opacity: 0;
      }
      path {
        stroke: var(--wired-checkbox-icon-color, currentColor);
        stroke-width: var(--wired-checkbox-default-swidth, 0.7);
      }
      g path {
        stroke-width: 2.5;
      }
      #container.focused {
        --wired-checkbox-default-swidth: 1.5;
      }
      `]}focus(){this.input?this.input.focus():super.focus()}wiredRender(e=!1){super.wiredRender(e),this.refreshCheckVisibility()}render(){return ue`
    <label id="container" class="${this.focused?"focused":""}">
      <input type="checkbox" .checked="${this.checked}" ?disabled="${this.disabled}" 
        @change="${this.onChange}"
        @focus="${()=>this.focused=!0}"
        @blur="${()=>this.focused=!1}">
      <span><slot></slot></span>
      <div id="overlay"><svg></svg></div>
    </label>
    `}onChange(){this.checked=this.input.checked,this.refreshCheckVisibility(),this.fire("change",{checked:this.checked})}canvasSize(){return[24,24]}draw(e,s){Ge(e,0,0,s[0],s[1],this.seed),this.svgCheck=nr("g"),e.appendChild(this.svgCheck),me(this.svgCheck,s[0]*.3,s[1]*.4,s[0]*.5,s[1]*.7,this.seed),me(this.svgCheck,s[0]*.5,s[1]*.7,s[0]+5,-5,this.seed)}refreshCheckVisibility(){this.svgCheck&&(this.svgCheck.style.display=this.checked?"":"none")}};nn([T({type:Boolean}),bi("design:type",Object)],ir.prototype,"checked",void 0);nn([T({type:Boolean,reflect:!0}),bi("design:type",Object)],ir.prototype,"disabled",void 0);nn([kv(),bi("design:type",Object)],ir.prototype,"focused",void 0);nn([Ae("input"),bi("design:type",HTMLInputElement)],ir.prototype,"input",void 0);ir=nn([fe("wired-checkbox")],ir);var _i=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},_a=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Wr=class extends be{constructor(){super(...arguments),this.value="",this.name="",this.selected=!1}static get styles(){return[ye,he`
      :host {
        display: inline-block;
        font-size: 14px;
        text-align: left;
      }
      button {
        cursor: pointer;
        outline: none;
        overflow: hidden;
        color: inherit;
        user-select: none;
        position: relative;
        font-family: inherit;
        text-align: inherit;
        font-size: inherit;
        letter-spacing: 1.25px;
        padding: 1px 10px;
        min-height: 36px;
        text-transform: inherit;
        background: none;
        border: none;
        transition: background-color 0.3s ease, color 0.3s ease;
        width: 100%;
        box-sizing: border-box;
        white-space: nowrap;
      }
      button.selected {
        color: var(--wired-item-selected-color, #fff);
      }
      button::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: currentColor;
        opacity: 0;
      }
      button span {
        display: inline-block;
        transition: transform 0.2s ease;
        position: relative;
      }
      button:active span {
        transform: scale(1.02);
      }
      #overlay {
        display: none;
      }
      button.selected #overlay {
        display: block;
      }
      svg path {
        stroke: var(--wired-item-selected-bg, #000);
        stroke-width: 2.75;
        fill: transparent;
        transition: transform 0.05s ease;
      }
      @media (hover: hover) {
        button:hover::before {
          opacity: 0.05;
        }
      }
      `]}render(){return ue`
    <button class="${this.selected?"selected":""}">
      <div id="overlay"><svg></svg></div>
      <span><slot></slot></span>
    </button>`}canvasSize(){const e=this.getBoundingClientRect();return[e.width,e.height]}draw(e,s){const r=vi([[0,0],[s[0],0],[s[0],s[1]],[0,s[1]]],this.seed);e.appendChild(r)}};_i([T(),_a("design:type",Object)],Wr.prototype,"value",void 0);_i([T(),_a("design:type",Object)],Wr.prototype,"name",void 0);_i([T({type:Boolean}),_a("design:type",Object)],Wr.prototype,"selected",void 0);Wr=_i([fe("wired-item")],Wr);var cr=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},on=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let As=class extends Dt{constructor(){super(...arguments),this.disabled=!1,this.seed=$v(),this.cardShowing=!1,this.itemNodes=[]}static get styles(){return he`
      :host {
        display: inline-block;
        font-family: inherit;
        position: relative;
        outline: none;
        opacity: 0;
      }
    
      :host(.wired-disabled) {
        opacity: 0.5 !important;
        cursor: default;
        pointer-events: none;
        background: rgba(0, 0, 0, 0.02);
      }
      
      :host(.wired-rendered) {
        opacity: 1;
      }
  
      :host(:focus) path {
        stroke-width: 1.5;
      }
    
      #container {
        white-space: nowrap;
        position: relative;
      }
    
      .inline {
        display: inline-block;
        vertical-align: top
      }
    
      #textPanel {
        min-width: 90px;
        min-height: 18px;
        padding: 8px;
      }
    
      #dropPanel {
        width: 34px;
        cursor: pointer;
      }
    
      .overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
      }
    
      svg {
        display: block;
      }
    
      path {
        stroke: currentColor;
        stroke-width: 0.7;
        fill: transparent;
      }
    
      #card {
        display: block;
        position: absolute;
        background: var(--wired-combo-popup-bg, white);
        z-index: 1;
        box-shadow: 1px 5px 15px -6px rgba(0, 0, 0, 0.8);
        padding: 8px;
      }
  
      ::slotted(wired-item) {
        display: block;
      }
    `}render(){return ue`
    <div id="container" @click="${this.onCombo}">
      <div id="textPanel" class="inline">
        <span>${this.value&&this.value.text}</span>
      </div>
      <div id="dropPanel" class="inline"></div>
      <div class="overlay">
        <svg></svg>
      </div>
    </div>
    <wired-card id="card" tabindex="-1" role="listbox" @mousedown="${this.onItemClick}" @touchstart="${this.onItemClick}" style="display: none;">
      <slot id="slot"></slot>
    </wired-card>
    `}refreshDisabledState(){this.disabled?this.classList.add("wired-disabled"):this.classList.remove("wired-disabled"),this.tabIndex=this.disabled?-1:+(this.getAttribute("tabindex")||0)}firstUpdated(){this.setAttribute("role","combobox"),this.setAttribute("aria-haspopup","listbox"),this.refreshSelection(),this.addEventListener("blur",()=>{this.cardShowing&&this.setCardShowing(!1)}),this.addEventListener("keydown",e=>{switch(e.keyCode){case 37:case 38:e.preventDefault(),this.selectPrevious();break;case 39:case 40:e.preventDefault(),this.selectNext();break;case 27:e.preventDefault(),this.cardShowing&&this.setCardShowing(!1);break;case 13:e.preventDefault(),this.setCardShowing(!this.cardShowing);break;case 32:e.preventDefault(),this.cardShowing||this.setCardShowing(!0);break}})}updated(e){e.has("disabled")&&this.refreshDisabledState();const s=this.svg;for(;s.hasChildNodes();)s.removeChild(s.lastChild);const r=this.shadowRoot.getElementById("container").getBoundingClientRect();s.setAttribute("width",`${r.width}`),s.setAttribute("height",`${r.height}`);const n=this.shadowRoot.getElementById("textPanel").getBoundingClientRect();this.shadowRoot.getElementById("dropPanel").style.minHeight=n.height+"px",Ge(s,0,0,n.width,n.height,this.seed);const i=n.width-4;Ge(s,i,0,34,n.height,this.seed);const o=Math.max(0,Math.abs((n.height-24)/2)),a=Kv(s,[[i+8,5+o],[i+26,5+o],[i+17,o+Math.min(n.height,18)]],this.seed);if(a.style.fill="currentColor",a.style.pointerEvents=this.disabled?"none":"auto",a.style.cursor="pointer",this.classList.add("wired-rendered"),this.setAttribute("aria-expanded",`${this.cardShowing}`),!this.itemNodes.length){this.itemNodes=[];const l=this.shadowRoot.getElementById("slot").assignedNodes();if(l&&l.length)for(let c=0;c<l.length;c++){const u=l[c];u.tagName==="WIRED-ITEM"&&(u.setAttribute("role","option"),this.itemNodes.push(u))}}}refreshSelection(){this.lastSelectedItem&&(this.lastSelectedItem.selected=!1,this.lastSelectedItem.removeAttribute("aria-selected"));const s=this.shadowRoot.getElementById("slot").assignedNodes();if(s){let r=null;for(let n=0;n<s.length;n++){const i=s[n];if(i.tagName==="WIRED-ITEM"){const o=i.value||i.getAttribute("value")||"";if(this.selected&&o===this.selected){r=i;break}}}this.lastSelectedItem=r||void 0,this.lastSelectedItem&&(this.lastSelectedItem.selected=!0,this.lastSelectedItem.setAttribute("aria-selected","true")),r?this.value={value:r.value||"",text:r.textContent||""}:this.value=void 0}}setCardShowing(e){this.card&&(this.cardShowing=e,this.card.style.display=e?"":"none",e&&setTimeout(()=>{this.shadowRoot.getElementById("slot").assignedNodes().filter(r=>r.nodeType===Node.ELEMENT_NODE).forEach(r=>{const n=r;n.requestUpdate&&n.requestUpdate()})},10),this.setAttribute("aria-expanded",`${this.cardShowing}`))}onItemClick(e){e.stopPropagation(),this.selected=e.target.value,this.refreshSelection(),this.fireSelected(),setTimeout(()=>{this.setCardShowing(!1)})}fireSelected(){va(this,"selected",{selected:this.selected})}selectPrevious(){const e=this.itemNodes;if(e.length){let s=-1;for(let r=0;r<e.length;r++)if(e[r]===this.lastSelectedItem){s=r;break}s<0?s=0:s===0?s=e.length-1:s--,this.selected=e[s].value||"",this.refreshSelection(),this.fireSelected()}}selectNext(){const e=this.itemNodes;if(e.length){let s=-1;for(let r=0;r<e.length;r++)if(e[r]===this.lastSelectedItem){s=r;break}s<0||s>=e.length-1?s=0:s++,this.selected=e[s].value||"",this.refreshSelection(),this.fireSelected()}}onCombo(e){e.stopPropagation(),this.setCardShowing(!this.cardShowing)}};cr([T({type:Object}),on("design:type",Object)],As.prototype,"value",void 0);cr([T({type:String,reflect:!0}),on("design:type",String)],As.prototype,"selected",void 0);cr([T({type:Boolean,reflect:!0}),on("design:type",Object)],As.prototype,"disabled",void 0);cr([Ae("svg"),on("design:type",SVGSVGElement)],As.prototype,"svg",void 0);cr([Ae("#card"),on("design:type",HTMLDivElement)],As.prototype,"card",void 0);As=cr([fe("wired-combo")],As);var wi=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},wa=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let qr=class extends Dt{constructor(){super(...arguments),this.elevation=5,this.open=!1}static get styles(){return he`
      #container {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        z-index: var(--wired-dialog-z-index, 100);
      }
      #container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.4);
        opacity: 0;
        transition: opacity 0.5s ease;
      }
      #overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        opacity: 0;
        transform: translateY(150px);
        transition: transform 0.5s ease, opacity 0.5s ease;
      }
      .layout.vertical {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      }
      .flex {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      }
      wired-card {
        display: inline-block;
        background: white;
        text-align: left;
      }

      :host([open]) #container {
        pointer-events: auto;
      }
      :host([open]) #container::before {
        opacity: 1;
      }
      :host([open]) #overlay {
        opacity: 1;
        transform: none;
      }
    `}render(){return ue`
    <div id="container">
      <div id="overlay" class="vertical layout">
        <div class="flex"></div>
        <div style="text-align: center; padding: 5px;">
          <wired-card .elevation="${this.elevation}"><slot></slot></wired-card>
        </div>
        <div class="flex"></div>
      </div>
    </div>
    `}updated(){this.card&&this.card.wiredRender(!0)}};wi([T({type:Number}),wa("design:type",Object)],qr.prototype,"elevation",void 0);wi([T({type:Boolean,reflect:!0}),wa("design:type",Object)],qr.prototype,"open",void 0);wi([Ae("wired-card"),wa("design:type",Fr)],qr.prototype,"card",void 0);qr=wi([fe("wired-dialog")],qr);var ph=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},Gv=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Co=class extends be{constructor(){super(...arguments),this.elevation=1,this.roAttached=!1}static get styles(){return[ye,he`
        :host {
          display: block;
          position: relative;
        }
      `]}render(){return ue`<svg></svg>`}canvasSize(){const e=this.getBoundingClientRect(),s=Math.min(Math.max(1,this.elevation),5);return[e.width,s*6]}draw(e,s){const r=Math.min(Math.max(1,this.elevation),5);for(let n=0;n<r;n++)me(e,0,n*6+3,s[0],n*6+3,this.seed)}updated(){super.updated(),this.attachResizeListener()}disconnectedCallback(){this.detachResizeListener()}attachResizeListener(){this.roAttached||(this.resizeObserver?this.resizeObserver.observe(this):this.windowResizeHandler||(this.windowResizeHandler=()=>this.wiredRender(),window.addEventListener("resize",this.windowResizeHandler,{passive:!0})),this.roAttached=!0)}detachResizeListener(){this.resizeObserver&&this.resizeObserver.unobserve(this),this.windowResizeHandler&&window.removeEventListener("resize",this.windowResizeHandler),this.roAttached=!1}};ph([T({type:Number}),Gv("design:type",Object)],Co.prototype,"elevation",void 0);Co=ph([fe("wired-divider")],Co);var Ea=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},gh=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Hn=class extends be{constructor(){super(...arguments),this.disabled=!1}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          font-size: 14px;
          color: #fff;
        }
        button {
          position: relative;
          user-select: none;
          border: none;
          background: none;
          font-family: inherit;
          font-size: inherit;
          cursor: pointer;
          letter-spacing: 1.25px;
          text-transform: uppercase;
          text-align: center;
          padding: 16px;
          color: inherit;
          outline: none;
          border-radius: 50%;
        }
        button[disabled] {
          opacity: 0.6 !important;
          background: rgba(0, 0, 0, 0.07);
          cursor: default;
          pointer-events: none;
        }
        button::-moz-focus-inner {
          border: 0;
        }
        button ::slotted(*) {
          position: relative;
          font-size: var(--wired-icon-size, 24px);
          transition: transform 0.2s ease, opacity 0.2s ease;
          opacity: 0.85;
        }
        path {
          stroke: var(--wired-fab-bg-color, #018786);
          stroke-width: 3;
          fill: transparent;
        }

        button:focus ::slotted(*) {
          opacity: 1;
        }
        button:active ::slotted(*) {
          opacity: 1;
          transform: scale(1.15);
        }
      `]}render(){return ue`
    <button ?disabled="${this.disabled}">
      <div id="overlay">
        <svg></svg>
      </div>
      <slot @slotchange="${this.wiredRender}"></slot>
    </button>
    `}canvasSize(){if(this.button){const e=this.button.getBoundingClientRect();return[e.width,e.height]}return this.lastSize}draw(e,s){const r=Math.min(s[0],s[1]),n=ma(r/2,r/2,r,r,this.seed);e.appendChild(n)}};Ea([T({type:Boolean,reflect:!0}),gh("design:type",Object)],Hn.prototype,"disabled",void 0);Ea([Ae("button"),gh("design:type",HTMLButtonElement)],Hn.prototype,"button",void 0);Hn=Ea([fe("wired-fab")],Hn);var Sa=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},vh=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Vn=class extends be{constructor(){super(...arguments),this.disabled=!1}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          font-size: 14px;
        }
        path {
          transition: transform 0.05s ease;
        }
        button {
          position: relative;
          user-select: none;
          border: none;
          background: none;
          font-family: inherit;
          font-size: inherit;
          cursor: pointer;
          letter-spacing: 1.25px;
          text-transform: uppercase;
          text-align: center;
          padding: 10px;
          color: inherit;
          outline: none;
          border-radius: 50%;
        }
        button[disabled] {
          opacity: 0.6 !important;
          background: rgba(0, 0, 0, 0.07);
          cursor: default;
          pointer-events: none;
        }
        button:active path {
          transform: scale(0.97) translate(1.5%, 1.5%);
        }
        button:focus path {
          stroke-width: 1.5;
        }
        button::-moz-focus-inner {
          border: 0;
        }
        button ::slotted(*) {
          position: relative;
          font-size: var(--wired-icon-size, 24px);
        }
      `]}render(){return ue`
    <button ?disabled="${this.disabled}">
      <slot @slotchange="${this.wiredRender}"></slot>
      <div id="overlay">
        <svg></svg>
      </div>
    </button>
    `}canvasSize(){if(this.button){const e=this.button.getBoundingClientRect();return[e.width,e.height]}return this.lastSize}draw(e,s){const r=Math.min(s[0],s[1]);e.setAttribute("width",`${r}`),e.setAttribute("height",`${r}`),Os(e,r/2,r/2,r,r,this.seed)}};Sa([T({type:Boolean,reflect:!0}),vh("design:type",Object)],Vn.prototype,"disabled",void 0);Sa([Ae("button"),vh("design:type",HTMLButtonElement)],Vn.prototype,"button",void 0);Vn=Sa([fe("wired-icon-button")],Vn);var Ra=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},Oa=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};const Jv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";let Fn=class extends be{constructor(){super(),this.elevation=1,this.src=Jv,this.roAttached=!1,window.ResizeObserver&&(this.resizeObserver=new window.ResizeObserver(()=>{this.svg&&this.wiredRender()}))}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          position: relative;
          line-height: 1;
          padding: 3px;
        }
        img {
          display: block;
          box-sizing: border-box;
          max-width: 100%;
          max-height: 100%;
        }
        path {
          stroke-width: 1;
        }
      `]}render(){return ue`
    <img src="${this.src}">
    <div id="overlay"><svg></svg></div>
    `}updated(){super.updated(),this.attachResizeListener()}disconnectedCallback(){this.detachResizeListener()}attachResizeListener(){this.roAttached||(this.resizeObserver&&this.resizeObserver.observe?this.resizeObserver.observe(this):this.windowResizeHandler||(this.windowResizeHandler=()=>this.wiredRender(),window.addEventListener("resize",this.windowResizeHandler,{passive:!0})),this.roAttached=!0)}detachResizeListener(){this.resizeObserver&&this.resizeObserver.unobserve&&this.resizeObserver.unobserve(this),this.windowResizeHandler&&window.removeEventListener("resize",this.windowResizeHandler),this.roAttached=!1}canvasSize(){const e=this.getBoundingClientRect(),s=Math.min(Math.max(1,this.elevation),5),r=e.width+(s-1)*2,n=e.height+(s-1)*2;return[r,n]}draw(e,s){const r=Math.min(Math.max(1,this.elevation),5),n={width:s[0]-(r-1)*2,height:s[1]-(r-1)*2};Ge(e,2,2,n.width-4,n.height-4,this.seed);for(let i=1;i<r;i++)me(e,i*2,n.height-4+i*2,n.width-4+i*2,n.height-4+i*2,this.seed).style.opacity=`${(85-i*10)/100}`,me(e,n.width-4+i*2,n.height-4+i*2,n.width-4+i*2,i*2,this.seed).style.opacity=`${(85-i*10)/100}`,me(e,i*2,n.height-4+i*2,n.width-4+i*2,n.height-4+i*2,this.seed).style.opacity=`${(85-i*10)/100}`,me(e,n.width-4+i*2,n.height-4+i*2,n.width-4+i*2,i*2,this.seed).style.opacity=`${(85-i*10)/100}`}};Ra([T({type:Number}),Oa("design:type",Object)],Fn.prototype,"elevation",void 0);Ra([T({type:String}),Oa("design:type",String)],Fn.prototype,"src",void 0);Fn=Ra([fe("wired-image"),Oa("design:paramtypes",[])],Fn);var ke=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},Te=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Oe=class extends be{constructor(){super(),this.disabled=!1,this.placeholder="",this.type="text",this.autocomplete="",this.autocapitalize="",this.autocorrect="",this.required=!1,this.autofocus=!1,this.readonly=!1,this.roAttached=!1,window.ResizeObserver&&(this.resizeObserver=new window.ResizeObserver(()=>{this.svg&&this.wiredRender(!0)}))}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          position: relative;
          padding: 5px;
          font-family: sans-serif;
          width: 150px;
          outline: none;
        }
        :host([disabled]) {
          opacity: 0.6 !important;
          cursor: default;
          pointer-events: none;
        }
        :host([disabled]) svg {
          background: rgba(0, 0, 0, 0.07);
        }
        input {
          display: block;
          width: 100%;
          box-sizing: border-box;
          outline: none;
          border: none;
          font-family: inherit;
          font-size: inherit;
          font-weight: inherit;
          color: inherit;
          padding: 6px;
        }
        input:focus + div path {
          stroke-width: 1.5;
        }
      `]}render(){return ue`
    <input name="${this.name}" type="${this.type}" placeholder="${this.placeholder}" ?disabled="${this.disabled}"
      ?required="${this.required}" autocomplete="${this.autocomplete}" ?autofocus="${this.autofocus}" minlength="${this.minlength}"
      maxlength="${this.maxlength}" min="${this.min}" max="${this.max}" step="${this.step}" ?readonly="${this.readonly}"
      size="${this.size}" autocapitalize="${this.autocapitalize}" autocorrect="${this.autocorrect}" 
      @change="${this.refire}" @input="${this.refire}">
    <div id="overlay">
      <svg></svg>
    </div>
    `}get input(){return this.textInput}get value(){const e=this.input;return e&&e.value||""}set value(e){if(this.shadowRoot){const s=this.input;if(s){s.value=e;return}}this.pendingValue=e}firstUpdated(){this.value=this.pendingValue||this.value||this.getAttribute("value")||"",delete this.pendingValue}canvasSize(){const e=this.getBoundingClientRect();return[e.width,e.height]}draw(e,s){Ge(e,2,2,s[0]-2,s[1]-2,this.seed)}refire(e){e.stopPropagation(),this.fire(e.type,{sourceEvent:e})}focus(){this.textInput?this.textInput.focus():super.focus()}updated(){super.updated(),this.attachResizeListener()}disconnectedCallback(){this.detachResizeListener()}attachResizeListener(){this.roAttached||(this.textInput&&this.resizeObserver&&this.resizeObserver.observe(this.textInput),this.roAttached=!0)}detachResizeListener(){this.textInput&&this.resizeObserver&&this.resizeObserver.unobserve(this.textInput),this.roAttached=!1}};ke([T({type:Boolean,reflect:!0}),Te("design:type",Object)],Oe.prototype,"disabled",void 0);ke([T({type:String}),Te("design:type",Object)],Oe.prototype,"placeholder",void 0);ke([T({type:String}),Te("design:type",String)],Oe.prototype,"name",void 0);ke([T({type:String}),Te("design:type",String)],Oe.prototype,"min",void 0);ke([T({type:String}),Te("design:type",String)],Oe.prototype,"max",void 0);ke([T({type:String}),Te("design:type",String)],Oe.prototype,"step",void 0);ke([T({type:String}),Te("design:type",Object)],Oe.prototype,"type",void 0);ke([T({type:String}),Te("design:type",Object)],Oe.prototype,"autocomplete",void 0);ke([T({type:String}),Te("design:type",Object)],Oe.prototype,"autocapitalize",void 0);ke([T({type:String}),Te("design:type",Object)],Oe.prototype,"autocorrect",void 0);ke([T({type:Boolean}),Te("design:type",Object)],Oe.prototype,"required",void 0);ke([T({type:Boolean}),Te("design:type",Object)],Oe.prototype,"autofocus",void 0);ke([T({type:Boolean}),Te("design:type",Object)],Oe.prototype,"readonly",void 0);ke([T({type:Number}),Te("design:type",Number)],Oe.prototype,"minlength",void 0);ke([T({type:Number}),Te("design:type",Number)],Oe.prototype,"maxlength",void 0);ke([T({type:Number}),Te("design:type",Number)],Oe.prototype,"size",void 0);ke([Ae("input"),Te("design:type",HTMLInputElement)],Oe.prototype,"textInput",void 0);Oe=ke([fe("wired-input"),Te("design:paramtypes",[])],Oe);var an=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},Ei=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let or=class extends be{constructor(){super(...arguments),this.elevation=1}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          position: relative;
        }
        a, a:hover, a:visited {
          color: inherit;
          outline: none;
          display: inline-block;
          white-space: nowrap;
          text-decoration: none;
          border: none;
        }
        path {
          stroke: var(--wired-link-decoration-color, blue);
          stroke-opacity: 0.45;
        }
        a:focus path {
          stroke-opacity: 1;
        }
      `]}render(){return ue`
    <a href="${this.href}" target="${this.target||""}">
      <slot></slot>
      <div id="overlay"><svg></svg></div>
    </a>
    `}focus(){this.anchor?this.anchor.focus():super.focus()}canvasSize(){if(this.anchor){const e=this.anchor.getBoundingClientRect(),s=Math.min(Math.max(1,this.elevation),5),r=e.width,n=e.height+(s-1)*2;return[r,n]}return this.lastSize}draw(e,s){const r=Math.min(Math.max(1,this.elevation),5),n={width:s[0],height:s[1]-(r-1)*2};for(let i=0;i<r;i++)me(e,0,n.height+i*2-2,n.width,n.height+i*2-2,this.seed),me(e,0,n.height+i*2-2,n.width,n.height+i*2-2,this.seed)}};an([T({type:Number}),Ei("design:type",Object)],or.prototype,"elevation",void 0);an([T({type:String}),Ei("design:type",String)],or.prototype,"href",void 0);an([T({type:String}),Ei("design:type",String)],or.prototype,"target",void 0);an([Ae("a"),Ei("design:type",HTMLAnchorElement)],or.prototype,"anchor",void 0);or=an([fe("wired-link")],or);var Si=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},Aa=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Kr=class extends be{constructor(){super(...arguments),this.horizontal=!1,this.itemNodes=[],this.itemClickHandler=this.onItemClick.bind(this)}static get styles(){return[ye,he`
      :host {
        display: inline-block;
        font-family: inherit;
        position: relative;
        padding: 5px;
        outline: none;
      }
      :host(:focus) path {
        stroke-width: 1.5;
      }
      ::slotted(wired-item) {
        display: block;
      }
      :host(.wired-horizontal) ::slotted(wired-item) {
        display: inline-block;
      }
      `]}render(){return ue`
    <slot id="slot" @slotchange="${()=>this.requestUpdate()}"></slot>
    <div id="overlay">
      <svg id="svg"></svg>
    </div>
    `}firstUpdated(){this.setAttribute("role","listbox"),this.tabIndex=+(this.getAttribute("tabindex")||0),this.refreshSelection(),this.addEventListener("click",this.itemClickHandler),this.addEventListener("keydown",e=>{switch(e.keyCode){case 37:case 38:e.preventDefault(),this.selectPrevious();break;case 39:case 40:e.preventDefault(),this.selectNext();break}})}updated(){if(super.updated(),this.horizontal?this.classList.add("wired-horizontal"):this.classList.remove("wired-horizontal"),!this.itemNodes.length){this.itemNodes=[];const e=this.shadowRoot.getElementById("slot").assignedNodes();if(e&&e.length)for(let s=0;s<e.length;s++){const r=e[s];r.tagName==="WIRED-ITEM"&&(r.setAttribute("role","option"),this.itemNodes.push(r))}}}onItemClick(e){e.stopPropagation(),this.selected=e.target.value,this.refreshSelection(),this.fireSelected()}refreshSelection(){this.lastSelectedItem&&(this.lastSelectedItem.selected=!1,this.lastSelectedItem.removeAttribute("aria-selected"));const s=this.shadowRoot.getElementById("slot").assignedNodes();if(s){let r=null;for(let n=0;n<s.length;n++){const i=s[n];if(i.tagName==="WIRED-ITEM"){const o=i.value||"";if(this.selected&&o===this.selected){r=i;break}}}this.lastSelectedItem=r||void 0,this.lastSelectedItem&&(this.lastSelectedItem.selected=!0,this.lastSelectedItem.setAttribute("aria-selected","true")),r?this.value={value:r.value||"",text:r.textContent||""}:this.value=void 0}}fireSelected(){this.fire("selected",{selected:this.selected})}selectPrevious(){const e=this.itemNodes;if(e.length){let s=-1;for(let r=0;r<e.length;r++)if(e[r]===this.lastSelectedItem){s=r;break}s<0?s=0:s===0?s=e.length-1:s--,this.selected=e[s].value||"",this.refreshSelection(),this.fireSelected()}}selectNext(){const e=this.itemNodes;if(e.length){let s=-1;for(let r=0;r<e.length;r++)if(e[r]===this.lastSelectedItem){s=r;break}s<0||s>=e.length-1?s=0:s++,this.selected=e[s].value||"",this.refreshSelection(),this.fireSelected()}}canvasSize(){const e=this.getBoundingClientRect();return[e.width,e.height]}draw(e,s){Ge(e,0,0,s[0],s[1],this.seed)}};Si([T({type:Object}),Aa("design:type",Object)],Kr.prototype,"value",void 0);Si([T({type:String}),Aa("design:type",String)],Kr.prototype,"selected",void 0);Si([T({type:Boolean}),Aa("design:type",Object)],Kr.prototype,"horizontal",void 0);Kr=Si([fe("wired-listbox")],Kr);var ln=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},Ri=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let xs=class extends be{constructor(){super(...arguments),this.value=0,this.min=0,this.max=100,this.percentage=!1}static get styles(){return[ye,he`
      :host {
        display: inline-block;
        position: relative;
        width: 400px;
        height: 42px;
        font-family: sans-serif;
      }
      .labelContainer {
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .progressLabel {
        color: var(--wired-progress-label-color, #000);
        font-size: var(--wired-progress-font-size, 14px);
        background: var(--wired-progress-label-background, rgba(255,255,255,0.9));
        padding: 2px 6px;
        border-radius: 4px;
        letter-spacing: 1.25px;
      }
      path.progbox {
        stroke: var(--wired-progress-color, rgba(0, 0, 200, 0.8));
        stroke-width: 2.75;
        fill: none;
      }
      .overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
      }
      `]}render(){return ue`
    <div id="overlay" class="overlay">
      <svg></svg>
    </div>
    <div class="overlay labelContainer">
      <div class="progressLabel">${this.getProgressLabel()}</div>
    </div>
    `}getProgressLabel(){return this.percentage?this.max===this.min?"%":Math.floor((this.value-this.min)/(this.max-this.min)*100)+"%":""+this.value}wiredRender(e=!1){super.wiredRender(e),this.refreshProgressFill()}canvasSize(){const e=this.getBoundingClientRect();return[e.width,e.height]}draw(e,s){Ge(e,2,2,s[0]-2,s[1]-2,this.seed)}refreshProgressFill(){if(this.progBox&&(this.progBox.parentElement&&this.progBox.parentElement.removeChild(this.progBox),this.progBox=void 0),this.svg){let e=0;const s=this.getBoundingClientRect();if(this.max>this.min){e=(this.value-this.min)/(this.max-this.min);const r=s.width*Math.max(0,Math.min(e,100));this.progBox=vi([[0,0],[r,0],[r,s.height],[0,s.height]],this.seed),this.svg.appendChild(this.progBox),this.progBox.classList.add("progbox")}}}};ln([T({type:Number}),Ri("design:type",Object)],xs.prototype,"value",void 0);ln([T({type:Number}),Ri("design:type",Object)],xs.prototype,"min",void 0);ln([T({type:Number}),Ri("design:type",Object)],xs.prototype,"max",void 0);ln([T({type:Boolean}),Ri("design:type",Object)],xs.prototype,"percentage",void 0);xs=ln([fe("wired-progress")],xs);var ur=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},cn=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let ks=class extends be{constructor(){super(...arguments),this.checked=!1,this.disabled=!1,this.focused=!1}static get styles(){return[ye,he`
      :host {
        display: inline-block;
        font-family: inherit;
      }
      :host([disabled]) {
        opacity: 0.6 !important;
        cursor: default;
        pointer-events: none;
      }
      :host([disabled]) svg {
        background: rgba(0, 0, 0, 0.07);
      }

      #container {
        display: flex;
        flex-direction: row;
        position: relative;
        user-select: none;
        min-height: 24px;
        cursor: pointer;
      }
      span {
        margin-left: 1.5ex;
        line-height: 24px;
      }
      input {
        opacity: 0;
      }
      path {
        stroke: var(--wired-radio-icon-color, currentColor);
        stroke-width: var(--wired-radio-default-swidth, 0.7);
      }
      g path {
        stroke-width: 0;
        fill: var(--wired-radio-icon-color, currentColor);
      }
      #container.focused {
        --wired-radio-default-swidth: 1.5;
      }
      `]}focus(){this.input?this.input.focus():super.focus()}wiredRender(e=!1){super.wiredRender(e),this.refreshCheckVisibility()}render(){return ue`
    <label id="container" class="${this.focused?"focused":""}">
      <input type="checkbox" .checked="${this.checked}" ?disabled="${this.disabled}" 
        @change="${this.onChange}"
        @focus="${()=>this.focused=!0}"
        @blur="${()=>this.focused=!1}">
      <span><slot></slot></span>
      <div id="overlay"><svg></svg></div>
    </label>
    `}onChange(){this.checked=this.input.checked,this.refreshCheckVisibility(),this.fire("change",{checked:this.checked})}canvasSize(){return[24,24]}draw(e,s){Os(e,s[0]/2,s[1]/2,s[0],s[1],this.seed),this.svgCheck=nr("g"),e.appendChild(this.svgCheck);const r=Math.max(s[0]*.6,5),n=Math.max(s[1]*.6,5);Os(this.svgCheck,s[0]/2,s[1]/2,r,n,this.seed)}refreshCheckVisibility(){this.svgCheck&&(this.svgCheck.style.display=this.checked?"":"none")}};ur([T({type:Boolean}),cn("design:type",Object)],ks.prototype,"checked",void 0);ur([T({type:Boolean,reflect:!0}),cn("design:type",Object)],ks.prototype,"disabled",void 0);ur([T({type:String}),cn("design:type",String)],ks.prototype,"name",void 0);ur([T(),cn("design:type",Object)],ks.prototype,"focused",void 0);ur([Ae("input"),cn("design:type",HTMLInputElement)],ks.prototype,"input",void 0);ks=ur([fe("wired-radio")],ks);var mh=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},Yv=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let $o=class extends Dt{constructor(){super(...arguments),this.radioNodes=[],this.checkListener=this.handleChecked.bind(this)}static get styles(){return he`
      :host {
        display: inline-block;
        font-family: inherit;
        outline: none;
      }
      :host ::slotted(*) {
        padding: var(--wired-radio-group-item-padding, 5px);
      }
    `}render(){return ue`<slot id="slot" @slotchange="${this.slotChange}"></slot>`}connectedCallback(){super.connectedCallback(),this.addEventListener("change",this.checkListener)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",this.checkListener)}handleChecked(e){const s=e.detail.checked,r=e.target,n=r.name||"";s?(this.selected=s&&n||"",this.fireSelected()):r.checked=!0}slotChange(){this.requestUpdate()}firstUpdated(){this.setAttribute("role","radiogroup"),this.tabIndex=+(this.getAttribute("tabindex")||0),this.addEventListener("keydown",e=>{switch(e.keyCode){case 37:case 38:e.preventDefault(),this.selectPrevious();break;case 39:case 40:e.preventDefault(),this.selectNext();break}})}updated(){const s=this.shadowRoot.getElementById("slot").assignedNodes();if(this.radioNodes=[],s&&s.length)for(let r=0;r<s.length;r++){const n=s[r];if(n.tagName==="WIRED-RADIO"){this.radioNodes.push(n);const i=n.name||"";this.selected&&i===this.selected?n.checked=!0:n.checked=!1}}}selectPrevious(){const e=this.radioNodes;if(e.length){let s=null,r=-1;if(this.selected){for(let n=0;n<e.length;n++)if(e[n].name===this.selected){r=n;break}r<0?s=e[0]:(r--,r<0&&(r=e.length-1),s=e[r])}else s=e[0];s&&(s.focus(),this.selected=s.name,this.fireSelected())}}selectNext(){const e=this.radioNodes;if(e.length){let s=null,r=-1;if(this.selected){for(let n=0;n<e.length;n++)if(e[n].name===this.selected){r=n;break}r<0?s=e[0]:(r++,r>=e.length&&(r=0),s=e[r])}else s=e[0];s&&(s.focus(),this.selected=s.name,this.fireSelected())}}fireSelected(){va(this,"selected",{selected:this.selected})}};mh([T({type:String}),Yv("design:type",String)],$o.prototype,"selected",void 0);$o=mh([fe("wired-radio-group")],$o);var Ts=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},hr=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let ss=class extends be{constructor(){super(...arguments),this.disabled=!1,this.placeholder="",this.autocomplete="",this.autocorrect="",this.autofocus=!1}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          position: relative;
          padding: 10px 40px 10px 5px;
          font-family: sans-serif;
          width: 180px;
          outline: none;
        }
        :host([disabled]) {
          opacity: 0.6 !important;
          cursor: default;
          pointer-events: none;
        }
        :host([disabled]) svg {
          background: rgba(0, 0, 0, 0.07);
        }
        input {
          display: block;
          width: 100%;
          box-sizing: border-box;
          outline: none;
          border: none;
          font-family: inherit;
          font-size: inherit;
          font-weight: inherit;
          color: inherit;
          padding: 6px;
        }
        
        input[type=search]::-ms-clear {  display: none; width : 0; height: 0; }
        input[type=search]::-ms-reveal {  display: none; width : 0; height: 0; }
        input[type="search"]::-webkit-search-decoration,
        input[type="search"]::-webkit-search-cancel-button,
        input[type="search"]::-webkit-search-results-button,
        input[type="search"]::-webkit-search-results-decoration {
          display: none;
        }

        .thicker path {
          stroke-width: 1.5;
        }

        button {
          position: absolute;
          top: 0;
          right: 2px;
          width: 32px;
          height: 100%;
          box-sizing: border-box;
          background: none;
          border: none;
          cursor: pointer;
          outline: none;
          opacity: 0;
        }
      `]}render(){return ue`
    <input type="search" placeholder="${this.placeholder}" ?disabled="${this.disabled}"
      autocomplete="${this.autocomplete}" ?autofocus="${this.autofocus}" 
      autocapitalize="${this.autocapitalize}" autocorrect="${this.autocorrect}" 
      @change="${this.refire}" @input="${this.refire}">
    <div id="overlay">
      <svg></svg>
    </div>
    <button @click="${()=>this.value=""}"></button>
    `}get input(){return this.textInput}get value(){const e=this.input;return e&&e.value||""}set value(e){if(this.shadowRoot){const s=this.input;s&&(s.value=e),this.refreshIconState()}else this.pendingValue=e}wiredRender(e=!1){super.wiredRender(e),this.refreshIconState()}firstUpdated(){this.value=this.pendingValue||this.value||this.getAttribute("value")||"",delete this.pendingValue}canvasSize(){const e=this.getBoundingClientRect();return[e.width,e.height]}draw(e,s){Ge(e,2,2,s[0]-2,s[1]-2,this.seed),this.searchIcon=nr("g"),this.searchIcon.classList.add("thicker"),e.appendChild(this.searchIcon),Os(this.searchIcon,s[0]-30,(s[1]-30)/2+10,20,20,this.seed),me(this.searchIcon,s[0]-10,(s[1]-30)/2+30,s[0]-25,(s[1]-30)/2+15,this.seed),this.closeIcon=nr("g"),this.closeIcon.classList.add("thicker"),e.appendChild(this.closeIcon),me(this.closeIcon,s[0]-33,(s[1]-30)/2+2,s[0]-7,(s[1]-30)/2+28,this.seed),me(this.closeIcon,s[0]-7,(s[1]-30)/2+2,s[0]-33,(s[1]-30)/2+28,this.seed)}refreshIconState(){this.searchIcon&&this.closeIcon&&(this.searchIcon.style.display=this.value.trim()?"none":"",this.closeIcon.style.display=this.value.trim()?"":"none")}refire(e){this.refreshIconState(),e.stopPropagation(),this.fire(e.type,{sourceEvent:e})}};Ts([T({type:Boolean,reflect:!0}),hr("design:type",Object)],ss.prototype,"disabled",void 0);Ts([T({type:String}),hr("design:type",Object)],ss.prototype,"placeholder",void 0);Ts([T({type:String}),hr("design:type",Object)],ss.prototype,"autocomplete",void 0);Ts([T({type:String}),hr("design:type",Object)],ss.prototype,"autocorrect",void 0);Ts([T({type:Boolean}),hr("design:type",Object)],ss.prototype,"autofocus",void 0);Ts([Ae("input"),hr("design:type",HTMLInputElement)],ss.prototype,"textInput",void 0);ss=Ts([fe("wired-search-input")],ss);var dr=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},un=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let rs=class extends be{constructor(){super(...arguments),this.min=0,this.max=100,this.step=1,this.disabled=!1,this.canvasWidth=300}static get styles(){return[ye,he`
      :host {
        display: inline-block;
        position: relative;
        width: 300px;
        box-sizing: border-box;
      }
      :host([disabled]) {
        opacity: 0.45 !important;
        cursor: default;
        pointer-events: none;
        background: rgba(0, 0, 0, 0.07);
        border-radius: 5px;
      }
      input[type=range] {
        width: 100%;
        height: 40px;
        box-sizing: border-box;
        margin: 0;
        -webkit-appearance: none;
        background: transparent;
        outline: none;
        position: relative;
      }
      input[type=range]:focus {
        outline: none;
      }
      input[type=range]::-ms-track {
        width: 100%;
        cursor: pointer;
        background: transparent;
        border-color: transparent;
        color: transparent;
      }
      input[type=range]::-moz-focus-outer {
        outline: none;
        border: 0;
      }
      input[type=range]::-moz-range-thumb {
        border-radius: 50px;
        background: none;
        cursor: pointer;
        border: none;
        margin: 0;
        height: 20px;
        width: 20px;
        line-height: 1;
      }
      input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none;
        border-radius: 50px;
        background: none;
        cursor: pointer;
        border: none;
        height: 20px;
        width: 20px;
        margin: 0;
        line-height: 1;
      }
      .knob{
        fill: var(--wired-slider-knob-color, rgb(51, 103, 214));
        stroke: var(--wired-slider-knob-color, rgb(51, 103, 214));
      }
      .bar {
        stroke: var(--wired-slider-bar-color, rgb(0, 0, 0));
      }
      input:focus + div svg .knob {
        stroke: var(--wired-slider-knob-outline-color, #000);
        fill-opacity: 0.8;
      }
      `]}get value(){return this.input?+this.input.value:this.min}set value(e){this.input?this.input.value=`${e}`:this.pendingValue=e,this.updateThumbPosition()}firstUpdated(){this.value=this.pendingValue||+(this.getAttribute("value")||this.value||this.min),delete this.pendingValue}render(){return ue`
    <div id="container">
      <input type="range" 
        min="${this.min}"
        max="${this.max}"
        step="${this.step}"
        ?disabled="${this.disabled}"
        @input="${this.onInput}">
      <div id="overlay">
        <svg></svg>
      </div>
    </div>
    `}focus(){this.input?this.input.focus():super.focus()}onInput(e){e.stopPropagation(),this.updateThumbPosition(),this.input&&this.fire("change",{value:+this.input.value})}wiredRender(e=!1){super.wiredRender(e),this.updateThumbPosition()}canvasSize(){const e=this.getBoundingClientRect();return[e.width,e.height]}draw(e,s){this.canvasWidth=s[0];const r=Math.round(s[1]/2);me(e,0,r,s[0],r,this.seed).classList.add("bar"),this.knob=Os(e,10,r,20,20,this.seed),this.knob.classList.add("knob")}updateThumbPosition(){if(this.input){const e=+this.input.value,s=Math.max(this.step,this.max-this.min),r=(e-this.min)/s;this.knob&&(this.knob.style.transform=`translateX(${r*(this.canvasWidth-20)}px)`)}}};dr([T({type:Number}),un("design:type",Object)],rs.prototype,"min",void 0);dr([T({type:Number}),un("design:type",Object)],rs.prototype,"max",void 0);dr([T({type:Number}),un("design:type",Object)],rs.prototype,"step",void 0);dr([T({type:Boolean,reflect:!0}),un("design:type",Object)],rs.prototype,"disabled",void 0);dr([Ae("input"),un("design:type",HTMLInputElement)],rs.prototype,"input",void 0);rs=dr([fe("wired-slider")],rs);var xa=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},yh=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Wn=class extends be{constructor(){super(...arguments),this.spinning=!1,this.duration=1500,this.value=0,this.timerstart=0,this.frame=0}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          position: relative;
        }
        path {
          stroke: currentColor;
          stroke-opacity: 0.65;
          stroke-width: 1.5;
          fill: none;
        }
        .knob {
          stroke-width: 2.8 !important;
          stroke-opacity: 1;
        }
      `]}render(){return ue`<svg></svg>`}canvasSize(){return[76,76]}draw(e,s){Os(e,s[0]/2,s[1]/2,Math.floor(s[0]*.8),Math.floor(.8*s[1]),this.seed),this.knob=ma(0,0,20,20,this.seed),this.knob.classList.add("knob"),e.appendChild(this.knob),this.updateCursor()}updateCursor(){if(this.knob){const e=[Math.round(38+25*Math.cos(this.value*Math.PI*2)),Math.round(38+25*Math.sin(this.value*Math.PI*2))];this.knob.style.transform=`translate3d(${e[0]}px, ${e[1]}px, 0) rotateZ(${Math.round(this.value*360*2)}deg)`}}updated(){super.updated(),this.spinning?this.startSpinner():this.stopSpinner()}startSpinner(){this.stopSpinner(),this.value=0,this.timerstart=0,this.nextTick()}stopSpinner(){this.frame&&(window.cancelAnimationFrame(this.frame),this.frame=0)}nextTick(){this.frame=window.requestAnimationFrame(e=>this.tick(e))}tick(e){this.spinning?(this.timerstart||(this.timerstart=e),this.value=Math.min(1,(e-this.timerstart)/this.duration),this.updateCursor(),this.value>=1&&(this.value=0,this.timerstart=0),this.nextTick()):this.frame=0}};xa([T({type:Boolean}),yh("design:type",Object)],Wn.prototype,"spinning",void 0);xa([T({type:Number}),yh("design:type",Object)],Wn.prototype,"duration",void 0);Wn=xa([fe("wired-spinner")],Wn);var ka=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},Ta=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let qn=class extends be{constructor(){super(),this.name="",this.label="",window.ResizeObserver&&(this.resizeObserver=new window.ResizeObserver(()=>{this.svg&&this.wiredRender()}))}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          position: relative;
          padding: 10px;
        }
      `]}render(){return ue`
    <div>
      <slot @slotchange="${this.wiredRender}"></slot>
    </div>
    <div id="overlay"><svg></svg></div>
    `}updated(){super.updated(),this.attachResizeListener()}disconnectedCallback(){this.detachResizeListener()}attachResizeListener(){this.resizeObserver&&this.resizeObserver.observe?this.resizeObserver.observe(this):this.windowResizeHandler||(this.windowResizeHandler=()=>this.wiredRender(),window.addEventListener("resize",this.windowResizeHandler,{passive:!0}))}detachResizeListener(){this.resizeObserver&&this.resizeObserver.unobserve&&this.resizeObserver.unobserve(this),this.windowResizeHandler&&window.removeEventListener("resize",this.windowResizeHandler)}canvasSize(){const e=this.getBoundingClientRect();return[e.width,e.height]}draw(e,s){Ge(e,2,2,s[0]-4,s[1]-4,this.seed)}};ka([T({type:String}),Ta("design:type",Object)],qn.prototype,"name",void 0);ka([T({type:String}),Ta("design:type",Object)],qn.prototype,"label",void 0);qn=ka([fe("wired-tab"),Ta("design:paramtypes",[])],qn);var Pa=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},bh=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Kn=class extends Dt{constructor(){super(...arguments),this.pages=[],this.pageMap=new Map}static get styles(){return[ye,he`
        :host {
          display: block;
          opacity: 1;
        }
        ::slotted(.hidden) {
          display: none !important;
        }
    
        :host ::slotted(.hidden) {
          display: none !important;
        }
        #bar {
          display: -ms-flexbox;
          display: -webkit-flex;
          display: flex;
          -ms-flex-direction: row;
          -webkit-flex-direction: row;
          flex-direction: row;
        }
      `]}render(){return ue`
    <div id="bar">
      ${this.pages.map(e=>ue`
      <wired-item role="tab" .value="${e.name}" .selected="${e.name===this.selected}" ?aria-selected="${e.name===this.selected}"
        @click="${()=>this.selected=e.name}">${e.label||e.name}</wired-item>
      `)}
    </div>
    <div>
      <slot @slotchange="${this.mapPages}"></slot>
    </div>
    `}mapPages(){if(this.pages=[],this.pageMap.clear(),this.slotElement){const e=this.slotElement.assignedNodes();if(e&&e.length){for(let s=0;s<e.length;s++){const r=e[s];if(r.nodeType===Node.ELEMENT_NODE&&r.tagName.toLowerCase()==="wired-tab"){const n=r;this.pages.push(n);const i=n.getAttribute("name")||"";i&&i.trim().split(" ").forEach(o=>{o&&this.pageMap.set(o,n)})}}this.selected||this.pages.length&&(this.selected=this.pages[0].name),this.requestUpdate()}}}firstUpdated(){this.mapPages(),this.tabIndex=+(this.getAttribute("tabindex")||0),this.addEventListener("keydown",e=>{switch(e.keyCode){case 37:case 38:e.preventDefault(),this.selectPrevious();break;case 39:case 40:e.preventDefault(),this.selectNext();break}})}updated(){const e=this.getElement();for(let s=0;s<this.pages.length;s++){const r=this.pages[s];r===e?r.classList.remove("hidden"):r.classList.add("hidden")}this.current=e||void 0,this.current&&this.current.wiredRender&&requestAnimationFrame(()=>requestAnimationFrame(()=>this.current.wiredRender()))}getElement(){let e;return this.selected&&(e=this.pageMap.get(this.selected)),e||(e=this.pages[0]),e||null}selectPrevious(){const e=this.pages;if(e.length){let s=-1;for(let r=0;r<e.length;r++)if(e[r]===this.current){s=r;break}s<0?s=0:s===0?s=e.length-1:s--,this.selected=e[s].name||""}}selectNext(){const e=this.pages;if(e.length){let s=-1;for(let r=0;r<e.length;r++)if(e[r]===this.current){s=r;break}s<0||s>=e.length-1?s=0:s++,this.selected=e[s].name||""}}};Pa([T({type:String}),bh("design:type",String)],Kn.prototype,"selected",void 0);Pa([Ae("slot"),bh("design:type",HTMLSlotElement)],Kn.prototype,"slotElement",void 0);Kn=Pa([fe("wired-tabs")],Kn);var nt=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},ut=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Je=class extends be{constructor(){super(...arguments),this.disabled=!1,this.rows=2,this.maxrows=0,this.autocomplete="",this.autofocus=!1,this.inputmode="",this.placeholder="",this.required=!1,this.readonly=!1}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          position: relative;
          font-family: sans-serif;
          width: 400px;
          outline: none;
          padding: 4px;
        }
        :host([disabled]) {
          opacity: 0.6 !important;
          cursor: default;
          pointer-events: none;
        }
        :host([disabled]) svg {
          background: rgba(0, 0, 0, 0.07);
        }
        textarea {
          position: relative;
          outline: none;
          border: none;
          resize: none;
          background: inherit;
          color: inherit;
          width: 100%;
          font-size: inherit;
          font-family: inherit;
          line-height: inherit;
          text-align: inherit;
          padding: 10px;
          box-sizing: border-box;
        }
      `]}render(){return ue`
    <textarea id="textarea" autocomplete="${this.autocomplete}" ?autofocus="${this.autofocus}" inputmode="${this.inputmode}"
      placeholder="${this.placeholder}" ?readonly="${this.readonly}" ?required="${this.required}" ?disabled="${this.disabled}"
      rows="${this.rows}" minlength="${this.minlength}" maxlength="${this.maxlength}"
      @change="${this.refire}" @input="${this.refire}"></textarea>
    <div id="overlay">
      <svg></svg>
    </div>
    `}get textarea(){return this.textareaInput}get value(){const e=this.textarea;return e&&e.value||""}set value(e){if(this.shadowRoot){const s=this.textarea;if(s){s.value=e;return}}this.pendingValue=e}firstUpdated(){this.value=this.pendingValue||this.value||this.getAttribute("value")||"",delete this.pendingValue}canvasSize(){const e=this.getBoundingClientRect();return[e.width,e.height]}draw(e,s){Ge(e,4,4,s[0]-4,s[1]-4,this.seed)}refire(e){e.stopPropagation(),this.fire(e.type,{sourceEvent:e})}};nt([T({type:Boolean,reflect:!0}),ut("design:type",Object)],Je.prototype,"disabled",void 0);nt([T({type:Number}),ut("design:type",Object)],Je.prototype,"rows",void 0);nt([T({type:Number}),ut("design:type",Object)],Je.prototype,"maxrows",void 0);nt([T({type:String}),ut("design:type",Object)],Je.prototype,"autocomplete",void 0);nt([T({type:Boolean}),ut("design:type",Object)],Je.prototype,"autofocus",void 0);nt([T({type:String}),ut("design:type",Object)],Je.prototype,"inputmode",void 0);nt([T({type:String}),ut("design:type",Object)],Je.prototype,"placeholder",void 0);nt([T({type:Boolean}),ut("design:type",Object)],Je.prototype,"required",void 0);nt([T({type:Boolean}),ut("design:type",Object)],Je.prototype,"readonly",void 0);nt([T({type:Number}),ut("design:type",Number)],Je.prototype,"minlength",void 0);nt([T({type:Number}),ut("design:type",Number)],Je.prototype,"maxlength",void 0);nt([Ae("textarea"),ut("design:type",HTMLTextAreaElement)],Je.prototype,"textareaInput",void 0);Je=nt([fe("wired-textarea")],Je);var Oi=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},Ca=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let Gr=class extends be{constructor(){super(...arguments),this.checked=!1,this.disabled=!1}static get styles(){return[ye,he`
      :host {
        display: inline-block;
        cursor: pointer;
        position: relative;
        outline: none;
      }
      :host([disabled]) {
        opacity: 0.4 !important;
        cursor: default;
        pointer-events: none;
      }
      :host([disabled]) svg {
        background: rgba(0, 0, 0, 0.07);
      }
      input {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
        cursor: pointer;
        opacity: 0;
      }
      .knob {
        transition: transform 0.3s ease;
      }
      .knob path {
        stroke-width: 0.7;
      }
      .knob.checked {
        transform: translateX(48px);
      }
      path.knobfill {
        stroke-width: 3 !important;
        fill: transparent;
      }
      .knob.unchecked path.knobfill {
        stroke: var(--wired-toggle-off-color, gray);
      }
      .knob.checked path.knobfill {
        stroke: var(--wired-toggle-on-color, rgb(63, 81, 181));
      }
      `]}render(){return ue`
    <div style="position: relative;">
      <svg></svg>
      <input type="checkbox" .checked="${this.checked}" ?disabled="${this.disabled}"  @change="${this.onChange}">
    </div>
    `}focus(){this.input?this.input.focus():super.focus()}wiredRender(e=!1){super.wiredRender(e),this.refreshKnob()}onChange(){this.checked=this.input.checked,this.refreshKnob(),this.fire("change",{checked:this.checked})}canvasSize(){return[80,34]}draw(e,s){Ge(e,16,8,s[0]-32,18,this.seed).classList.add("toggle-bar"),this.knob=nr("g"),this.knob.classList.add("knob"),e.appendChild(this.knob);const n=ma(16,16,32,32,this.seed);n.classList.add("knobfill"),this.knob.appendChild(n),Os(this.knob,16,16,32,32,this.seed)}refreshKnob(){if(this.knob){const e=this.knob.classList;this.checked?(e.remove("unchecked"),e.add("checked")):(e.remove("checked"),e.add("unchecked"))}}};Oi([T({type:Boolean}),Ca("design:type",Object)],Gr.prototype,"checked",void 0);Oi([T({type:Boolean,reflect:!0}),Ca("design:type",Object)],Gr.prototype,"disabled",void 0);Oi([Ae("input"),Ca("design:type",HTMLInputElement)],Gr.prototype,"input",void 0);Gr=Oi([fe("wired-toggle")],Gr);var mt=function(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i},yt=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};let ct=class extends be{constructor(){super(),this.src="",this.autoplay=!1,this.loop=!1,this.muted=!1,this.playsinline=!1,this.playing=!1,this.timeDisplay="",window.ResizeObserver&&(this.resizeObserver=new window.ResizeObserver(()=>{this.svg&&this.wiredRender()}))}static get styles(){return[ye,he`
        :host {
          display: inline-block;
          position: relative;
          line-height: 1;
          padding: 3px 3px 68px;
          --wired-progress-color: var(--wired-video-highlight-color, rgb(51, 103, 214));
          --wired-slider-knob-color: var(--wired-video-highlight-color, rgb(51, 103, 214));
        }
        video {
          display: block;
          box-sizing: border-box;
          max-width: 100%;
          max-height: 100%;
        }
        path {
          stroke-width: 1;
        }
        #controls {
          position: absolute;
          pointer-events: auto;
          left: 0;
          bottom: 0;
          width: 100%;
          box-sizing: border-box;
          height: 70px;
        }
        .layout.horizontal {
          display: -ms-flexbox;
          display: -webkit-flex;
          display: flex;
          -ms-flex-direction: row;
          -webkit-flex-direction: row;
          flex-direction: row;
          -ms-flex-align: center;
          -webkit-align-items: center;
          align-items: center;
          padding: 5px 10px;
        }
        .flex {
          -ms-flex: 1 1 0.000000001px;
          -webkit-flex: 1;
          flex: 1;
          -webkit-flex-basis: 0.000000001px;
          flex-basis: 0.000000001px;
        }
        wired-progress {
          display: block;
          width: 100%;
          box-sizing: border-box;
          height: 20px;
          --wired-progress-label-color: transparent;
          --wired-progress-label-background: transparent;
        }
        wired-icon-button span {
          font-size: 16px;
          line-height: 16px;
          width: 16px;
          height: 16px;
          padding: 0px;
          font-family: sans-serif;
          display: inline-block;
        }
        #timeDisplay {
          padding: 0 20px 0 8px;
          font-size: 13px;
        }
        wired-slider {
          display: block;
          max-width: 200px;
          margin: 0 6px 0 auto;
        }
      `]}render(){return ue`
    <video 
      .autoplay="${this.autoplay}"
      .loop="${this.loop}"
      .muted="${this.muted}"
      .playsinline="${this.playsinline}"
      src="${this.src}"
      @play="${()=>this.playing=!0}"
      @pause="${()=>this.playing=!1}"
      @canplay="${this.canPlay}"
      @timeupdate="${this.updateTime}">
    </video>
    <div id="overlay">
      <svg></svg>
    </div>
    <div id="controls">
      <wired-progress></wired-progress>
      <div class="horizontal layout center">
        <wired-icon-button @click="${this.togglePause}">
          <span>${this.playing?"||":""}</span>
        </wired-icon-button>
        <div id="timeDisplay">${this.timeDisplay}</div>
        <div class="flex">
          <wired-slider @change="${this.volumeChange}"></wired-slider>
        </div>
        <div style="width: 24px; height: 24px;">
          <svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g><path style="stroke: none; fill: currentColor;" d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></g></svg>
        </div>
      </div>
    </div>
    `}updated(){super.updated(),this.attachResizeListener()}disconnectedCallback(){this.detachResizeListener()}attachResizeListener(){this.resizeObserver&&this.resizeObserver.observe?this.resizeObserver.observe(this):this.windowResizeHandler||(this.windowResizeHandler=()=>this.wiredRender(),window.addEventListener("resize",this.windowResizeHandler,{passive:!0}))}detachResizeListener(){this.resizeObserver&&this.resizeObserver.unobserve&&this.resizeObserver.unobserve(this),this.windowResizeHandler&&window.removeEventListener("resize",this.windowResizeHandler)}wiredRender(){super.wiredRender(),this.progressBar&&this.progressBar.wiredRender(!0)}canvasSize(){const e=this.getBoundingClientRect();return[e.width,e.height]}draw(e,s){Ge(e,2,2,s[0]-4,s[1]-4,this.seed)}updateTime(){this.video&&this.progressBar&&(this.progressBar.value=this.video.duration?Math.round(this.video.currentTime/this.video.duration*100):0,this.timeDisplay=`${this.getTimeDisplay(this.video.currentTime)} / ${this.getTimeDisplay(this.video.duration)}`)}getTimeDisplay(e){const s=Math.floor(e/60),r=Math.round(e-s*60);return`${s}:${r}`}togglePause(){this.video&&(this.playing?this.video.pause():this.video.play())}volumeChange(){this.video&&this.slider&&(this.video.volume=this.slider.value/100)}canPlay(){this.slider&&this.video&&(this.slider.value=this.video.volume*100)}};mt([T({type:String}),yt("design:type",Object)],ct.prototype,"src",void 0);mt([T({type:Boolean}),yt("design:type",Object)],ct.prototype,"autoplay",void 0);mt([T({type:Boolean}),yt("design:type",Object)],ct.prototype,"loop",void 0);mt([T({type:Boolean}),yt("design:type",Object)],ct.prototype,"muted",void 0);mt([T({type:Boolean}),yt("design:type",Object)],ct.prototype,"playsinline",void 0);mt([T(),yt("design:type",Object)],ct.prototype,"playing",void 0);mt([T(),yt("design:type",Object)],ct.prototype,"timeDisplay",void 0);mt([Ae("wired-progress"),yt("design:type",xs)],ct.prototype,"progressBar",void 0);mt([Ae("wired-slider"),yt("design:type",rs)],ct.prototype,"slider",void 0);mt([Ae("video"),yt("design:type",HTMLVideoElement)],ct.prototype,"video",void 0);ct=mt([fe("wired-video"),yt("design:paramtypes",[])],ct);var jo=function(t,e){return jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])},jo(t,e)};function _h(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jo(t,e);function s(){this.constructor=t}t.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var Gn=function(){return Gn=Object.assign||function(e){for(var s,r=1,n=arguments.length;r<n;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},Gn.apply(this,arguments)};function fr(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s}function wh(t,e,s,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,s,i):o(e,s))||i);return n>3&&i&&Object.defineProperty(e,s,i),i}function Eh(t,e){return function(s,r){e(s,r,t)}}function Sh(t,e,s,r,n,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),h,d=!1,f=s.length-1;f>=0;f--){var v={};for(var m in r)v[m]=m==="access"?{}:r[m];for(var m in r.access)v.access[m]=r.access[m];v.addInitializer=function(y){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var w=(0,s[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],v);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=o(w.get))&&(u.get=h),(h=o(w.set))&&(u.set=h),(h=o(w.init))&&n.unshift(h)}else(h=o(w))&&(a==="field"?n.unshift(h):u[l]=h)}c&&Object.defineProperty(c,r.name,u),d=!0}function Rh(t,e,s){for(var r=arguments.length>2,n=0;n<e.length;n++)s=r?e[n].call(t,s):e[n].call(t);return r?s:void 0}function Oh(t){return typeof t=="symbol"?t:"".concat(t)}function Ah(t,e,s){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:s?"".concat(s," ",e):e})}function xh(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function D(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function kh(t,e){var s={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(s=0)),s;)try{if(r=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,n=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(u){c=[6,u],n=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Ai=Object.create?(function(t,e,s,r){r===void 0&&(r=s);var n=Object.getOwnPropertyDescriptor(e,s);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,r,n)}):(function(t,e,s,r){r===void 0&&(r=s),t[r]=e[s]});function Th(t,e){for(var s in t)s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s)&&Ai(e,t,s)}function Jn(t){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&t[e],r=0;if(s)return s.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $a(t,e){var s=typeof Symbol=="function"&&t[Symbol.iterator];if(!s)return t;var r=s.call(t),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}}return i}function Ph(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($a(arguments[e]));return t}function Ch(){for(var t=0,e=0,s=arguments.length;e<s;e++)t+=arguments[e].length;for(var r=Array(t),n=0,e=0;e<s;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,n++)r[n]=i[o];return r}function $h(t,e,s){if(s||arguments.length===2)for(var r=0,n=e.length,i;r<n;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function ar(t){return this instanceof ar?(this.v=t,this):new ar(t)}function jh(t,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(t,e||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),n[Symbol.asyncIterator]=function(){return this},n;function o(f){return function(v){return Promise.resolve(v).then(f,h)}}function a(f,v){r[f]&&(n[f]=function(m){return new Promise(function(w,y){i.push([f,m,w,y])>1||l(f,m)})},v&&(n[f]=v(n[f])))}function l(f,v){try{c(r[f](v))}catch(m){d(i[0][3],m)}}function c(f){f.value instanceof ar?Promise.resolve(f.value.v).then(u,h):d(i[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,v){f(v),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Ih(t){var e,s;return e={},r("next"),r("throw",function(n){throw n}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(n,i){e[n]=t[n]?function(o){return(s=!s)?{value:ar(t[n](o)),done:!1}:i?i(o):o}:i}}function Nh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],s;return e?e.call(t):(t=typeof Jn=="function"?Jn(t):t[Symbol.iterator](),s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s);function r(i){s[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),n(a,l,o.done,o.value)})}}function n(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function Dh(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Qv=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Io=function(t){return Io=Object.getOwnPropertyNames||function(e){var s=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[s.length]=r);return s},Io(t)};function Lh(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var s=Io(t),r=0;r<s.length;r++)s[r]!=="default"&&Ai(e,t,s[r]);return Qv(e,t),e}function Uh(t){return t&&t.__esModule?t:{default:t}}function Mh(t,e,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(t):r?r.value:e.get(t)}function Bh(t,e,s,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,s):n?n.value=s:e.set(t,s),s}function zh(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Hh(t,e,s){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,n;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],s&&(n=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");n&&(r=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:s})}else s&&t.stack.push({async:!0});return e}var Xv=typeof SuppressedError=="function"?SuppressedError:function(t,e,s){var r=new Error(s);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function Vh(t){function e(i){t.error=t.hasError?new Xv(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var s,r=0;function n(){for(;s=t.stack.pop();)try{if(!s.async&&r===1)return r=0,t.stack.push(s),Promise.resolve().then(n);if(s.dispose){var i=s.dispose.call(s.value);if(s.async)return r|=2,Promise.resolve(i).then(n,function(o){return e(o),n()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}function Fh(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,r,n,i,o){return r?e?".jsx":".js":n&&(!i||!o)?s:n+i+"."+o.toLowerCase()+"js"}):t}const Zv={__extends:_h,__assign:Gn,__rest:fr,__decorate:wh,__param:Eh,__esDecorate:Sh,__runInitializers:Rh,__propKey:Oh,__setFunctionName:Ah,__metadata:xh,__awaiter:D,__generator:kh,__createBinding:Ai,__exportStar:Th,__values:Jn,__read:$a,__spread:Ph,__spreadArrays:Ch,__spreadArray:$h,__await:ar,__asyncGenerator:jh,__asyncDelegator:Ih,__asyncValues:Nh,__makeTemplateObject:Dh,__importStar:Lh,__importDefault:Uh,__classPrivateFieldGet:Mh,__classPrivateFieldSet:Bh,__classPrivateFieldIn:zh,__addDisposableResource:Hh,__disposeResources:Vh,__rewriteRelativeImportExtension:Fh},em=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Hh,get __assign(){return Gn},__asyncDelegator:Ih,__asyncGenerator:jh,__asyncValues:Nh,__await:ar,__awaiter:D,__classPrivateFieldGet:Mh,__classPrivateFieldIn:zh,__classPrivateFieldSet:Bh,__createBinding:Ai,__decorate:wh,__disposeResources:Vh,__esDecorate:Sh,__exportStar:Th,__extends:_h,__generator:kh,__importDefault:Uh,__importStar:Lh,__makeTemplateObject:Dh,__metadata:xh,__param:Eh,__propKey:Oh,__read:$a,__rest:fr,__rewriteRelativeImportExtension:Fh,__runInitializers:Rh,__setFunctionName:Ah,__spread:Ph,__spreadArray:$h,__spreadArrays:Ch,__values:Jn,default:Zv},Symbol.toStringTag,{value:"Module"})),tm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ja extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class sm extends ja{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class tc extends ja{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sc extends ja{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var No;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(No||(No={}));class rm{constructor(e,{headers:s={},customFetch:r,region:n=No.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=tm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return D(this,arguments,void 0,function*(s,r={}){var n;let i,o;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=r;let d={},{region:f}=r;f||(f=this.region);const v=new URL(`${this.url}/${s}`);f&&f!=="any"&&(d["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(d["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(d["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let w=u;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),u?(w=o.signal,u.addEventListener("abort",()=>o.abort())):w=o.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:m,signal:w}).catch(j=>{throw new sm(j)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new tc(y);if(!y.ok)throw new sc(y);let E=((n=y.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),R;return E==="application/json"?R=yield y.json():E==="application/octet-stream"||E==="application/pdf"?R=yield y.blob():E==="text/event-stream"?R=y:E==="multipart/form-data"?R=yield y.formData():R=yield y.text(),{data:R,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof sc||a instanceof tc?a.context:void 0}}finally{i&&clearTimeout(i)}})}}function nm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function im(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){var n=!1;try{n=this instanceof r}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var $e={};const pr=im(em);var gn={},vn={},mn={},yn={},bn={},_n={},rc;function Wh(){if(rc)return _n;rc=1,Object.defineProperty(_n,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return _n.default=t,_n}var nc;function qh(){if(nc)return bn;nc=1,Object.defineProperty(bn,"__esModule",{value:!0});const e=pr.__importDefault(Wh());class s{constructor(n){var i,o;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(i=n.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=n.signal,this.isMaybeSingle=(o=n.isMaybeSingle)!==null&&o!==void 0?o:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,i){return this.headers=new Headers(this.headers),this.headers.set(n,i),this}then(n,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h,d;let f=null,v=null,m=null,w=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const j=await l.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?v=j:v=JSON.parse(j))}const E=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),R=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");E&&R&&R.length>1&&(m=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(f={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,m=null,w=406,y="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const E=await l.text();try{f=JSON.parse(E),Array.isArray(f)&&l.status===404&&(v=[],f=null,w=200,y="OK")}catch{l.status===404&&E===""?(w=204,y="No Content"):f={message:E}}if(f&&this.isMaybeSingle&&(!((d=f?.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,w=200,y="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:v,count:m,status:w,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,u,h,d,f,v;let m="";const w=l?.cause;if(w){const y=(c=w?.message)!==null&&c!==void 0?c:"",b=(u=w?.code)!==null&&u!==void 0?u:"";m=`${(h=l?.name)!==null&&h!==void 0?h:"FetchError"}: ${l?.message}`,m+=`

Caused by: ${(d=w?.name)!==null&&d!==void 0?d:"Error"}: ${y}`,b&&(m+=` (${b})`),w?.stack&&(m+=`
${w.stack}`)}else m=(f=l?.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(n,i)}returns(){return this}overrideTypes(){return this}}return bn.default=s,bn}var ic;function Kh(){if(ic)return yn;ic=1,Object.defineProperty(yn,"__esModule",{value:!0});const e=pr.__importDefault(qh());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return yn.default=s,yn}var oc;function Ia(){if(oc)return mn;oc=1,Object.defineProperty(mn,"__esModule",{value:!0});const e=pr.__importDefault(Kh()),s=new RegExp("[,()]");class r extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&s.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${u}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return mn.default=r,mn}var ac;function Gh(){if(ac)return vn;ac=1,Object.defineProperty(vn,"__esModule",{value:!0});const e=pr.__importDefault(Ia());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(n,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const u=(n??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var i;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return vn.default=s,vn}var lc;function om(){if(lc)return gn;lc=1,Object.defineProperty(gn,"__esModule",{value:!0});const t=pr,e=t.__importDefault(Gh()),s=t.__importDefault(Ia());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const d=new URL(`${this.url}/rpc/${i}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([m,w])=>w!==void 0).map(([m,w])=>[m,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([m,w])=>{d.searchParams.append(m,w)})):(h="POST",f=o);const v=new Headers(this.headers);return c&&v.set("Prefer",`count=${c}`),new s.default({method:h,url:d,headers:v,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return gn.default=r,gn}var cc;function am(){if(cc)return $e;cc=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const t=pr,e=t.__importDefault(om());$e.PostgrestClient=e.default;const s=t.__importDefault(Gh());$e.PostgrestQueryBuilder=s.default;const r=t.__importDefault(Ia());$e.PostgrestFilterBuilder=r.default;const n=t.__importDefault(Kh());$e.PostgrestTransformBuilder=n.default;const i=t.__importDefault(qh());$e.PostgrestBuilder=i.default;const o=t.__importDefault(Wh());return $e.PostgrestError=o.default,$e.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},$e}var Jh=am();const Yh=nm(Jh),lm=fd({__proto__:null,default:Yh},[Jh]),{PostgrestClient:cm,PostgrestQueryBuilder:h0,PostgrestFilterBuilder:d0,PostgrestTransformBuilder:f0,PostgrestBuilder:p0,PostgrestError:g0}=Yh||lm;class um{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,n=parseInt(r.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hm="2.86.0",dm=`realtime-js/${hm}`,Qh="1.0.0",fm="2.0.0",uc=Qh,Do=1e4,pm=1e3,gm=100;var gs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(gs||(gs={}));var Se;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Se||(Se={}));var ft;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ft||(ft={}));var Lo;(function(t){t.websocket="websocket"})(Lo||(Lo={}));var vs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vs||(vs={}));class vm{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,r;const n=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var s,r;const n=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,s,r){var n,i;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let v=new DataView(f),m=0;v.setUint8(m++,this.KINDS.userBroadcastPush),v.setUint8(m++,l.length),v.setUint8(m++,a.length),v.setUint8(m++,o.length),v.setUint8(m++,c.length),v.setUint8(m++,h.length),v.setUint8(m++,s),Array.from(l,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(c,y=>v.setUint8(m++,y.charCodeAt(0))),Array.from(h,y=>v.setUint8(m++,y.charCodeAt(0)));var w=new Uint8Array(f.byteLength+r.byteLength);return w.set(new Uint8Array(f),0),w.set(new Uint8Array(r),f.byteLength),w.buffer}decode(e,s){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return s(r)}if(typeof e=="string"){const r=JSON.parse(e),[n,i,o,a,l]=r;return s({join_ref:n,ref:i,topic:o,event:a,payload:l})}return s({})}_binaryDecode(e){const s=new DataView(e),r=s.getUint8(0),n=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,s,n)}}_decodeUserBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2),o=s.getUint8(3),a=s.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+n));l=l+n;const u=r.decode(e.slice(l,l+i));l=l+i;const h=r.decode(e.slice(l,l+o));l=l+o;const d=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,v={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>s.includes(r)))}}class Xh{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ae||(ae={}));const hc=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=mm(o,t,e,n),i),{}):{}},mm=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n?.type,o=s[t];return i&&!r.includes(i)?Zh(i,o):Uo(o)},Zh=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return wm(e,s)}switch(t){case ae.bool:return ym(e);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return bm(e);case ae.json:case ae.jsonb:return _m(e);case ae.timestamp:return Em(e);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return Uo(e);default:return Uo(e)}},Uo=t=>t,ym=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_m=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wm=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Zh(e,a))}return t},Em=t=>typeof t=="string"?t.replace(" ","T"):t,ed=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Xi{constructor(e,s,r={},n=Do){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(dc||(dc={}));class Cr{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cr.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Cr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Cr.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(w=>w.presence_ref),f=h.map(w=>w.presence_ref),v=u.filter(w=>f.indexOf(w.presence_ref)<0),m=h.filter(w=>d.indexOf(w.presence_ref)<0);v.length>0&&(a[c]=v),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fc||(fc={}));var $r;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($r||($r={}));var $t;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($t||($t={}));class Na{constructor(e,s={config:{}},r){var n,i;if(this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Xi(this,ft.join,this.params,this.timeout),this.rejoinTimer=new Xh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Se.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ft.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Cr(this),this.broadcastEndpointURL=ed(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Se.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[$r.PRESENCE]&&this.bindings[$r.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e?.($t.CHANNEL_ERROR,f)),this._onClose(()=>e?.($t.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){e?.($t.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(v=m?.length)!==null&&v!==void 0?v:0,y=[];for(let b=0;b<w;b++){const E=m[b],{filter:{event:R,schema:j,table:z,filter:H}}=E,W=f&&f[b];if(W&&W.event===R&&W.schema===j&&W.table===z&&W.filter===H)y.push(Object.assign(Object.assign({},E),{id:W.id}));else{this.unsubscribe(),this.state=Se.errored,e?.($t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e($t.SUBSCRIBED);return}}).receive("error",f=>{this.state=Se.errored,e?.($t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.($t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===Se.joined&&e===$r.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async httpSend(e,s,r={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Se.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ft.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new Xi(this,ft.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Se.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Xi(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>gm){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ft;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,s,r);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var v,m,w;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(m=f.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var v,m,w,y,b,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const R=f.id,j=(v=f.filter)===null||v===void 0?void 0:v.event;return R&&((m=s.ids)===null||m===void 0?void 0:m.includes(R))&&(j==="*"||j?.toLocaleLowerCase()===((w=s.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const R=(b=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return R==="*"||R===((E=s?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:m,table:w,commit_timestamp:y,type:b,errors:E}=v;d=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:y,eventType:b,new:{},old:{},errors:E}),this._getPayloadRecords(v))}f.callback(d,r)})}_isClosed(){return this.state===Se.closed}_isJoined(){return this.state===Se.joined}_isJoining(){return this.state===Se.joining}_isLeaving(){return this.state===Se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Na.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ft.close,{},e)}_onError(e){this._on(ft.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=hc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=hc(e.columns,e.old_record)),s}}const Zi=()=>{},wn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Sm=[1e3,2e3,5e3,1e4],Rm=1e4,Om=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Am{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Do,this.transport=null,this.heartbeatIntervalMs=wn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zi,this.ref=0,this.reconnectTimer=null,this.vsn=uc,this.logger=Zi,this.conn=null,this.sendBuffer=[],this.serializer=new vm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Lo.websocket}`,this.httpEndpoint=ed(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=um.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case gs.connecting:return vs.Connecting;case gs.open:return vs.Open;case gs.closing:return vs.Closing;default:return vs.Closed}}isConnected(){return this.connectionState()===vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new Na(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(pm,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},wn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===gs.open||this.conn.readyState===gs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ft.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Om],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:dm};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(ft.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Xh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,i,o,a,l,c,u,h,d,f;switch(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Do,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:wn.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Zi,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:uc,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(v=>Sm[v-1]||Rm),this.vsn){case Qh:this.encode=(u=e?.encode)!==null&&u!==void 0?u:((v,m)=>m(JSON.stringify(v))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:((v,m)=>m(JSON.parse(v)));break;case fm:this.encode=(d=e?.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class xi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xm extends xi{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Mo extends xi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}const Da=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),km=()=>Response,Bo=t=>{if(Array.isArray(t))return t.map(s=>Bo(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Bo(r)}),e},Tm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Pm=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),eo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Cm=(t,e,s)=>D(void 0,void 0,void 0,function*(){const r=yield km();t instanceof r&&!s?.noResolveJson?t.json().then(n=>{const i=t.status||500,o=n?.statusCode||i+"";e(new xm(eo(n),i,o))}).catch(n=>{e(new Mo(eo(n),n))}):e(new Mo(eo(t),t))}),$m=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||!r?n:(Tm(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(r)):n.body=r,e?.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function hn(t,e,s,r,n,i){return D(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,$m(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Cm(l,a,r))})})}function Jr(t,e,s,r){return D(this,void 0,void 0,function*(){return hn(t,"GET",e,s,r)})}function dt(t,e,s,r,n){return D(this,void 0,void 0,function*(){return hn(t,"POST",e,r,n,s)})}function zo(t,e,s,r,n){return D(this,void 0,void 0,function*(){return hn(t,"PUT",e,r,n,s)})}function jm(t,e,s,r){return D(this,void 0,void 0,function*(){return hn(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function La(t,e,s,r,n){return D(this,void 0,void 0,function*(){return hn(t,"DELETE",e,r,n,s)})}class Im{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return D(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}}var td;class Nm{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[td]="BlobDownloadBuilder",this.promise=null}asStream(){return new Im(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return D(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(pe(e))return{data:null,error:e};throw e}})}}td=Symbol.toStringTag;const Dm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lm{constructor(e,s={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=r,this.fetch=Da(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,r,n){return D(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},pc),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),h=yield(e=="PUT"?zo:dt)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pe(i))return{data:null,error:i};throw i}})}upload(e,s,r){return D(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return D(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:pc.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield zo(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return D(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s?.upsert&&(n["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new xi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}update(e,s,r){return D(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return D(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}copy(e,s,r){return D(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return D(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield dt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return D(this,void 0,void 0,function*(){try{const n=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}download(e,s){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(s?.transform||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Jr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Nm(l,this.shouldThrowOnError)}info(e){return D(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Jr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Bo(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}exists(e){return D(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield jm(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r)&&r instanceof Mo){const n=r.originalError;if([400,404].includes(n?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s?.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return D(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}list(e,s,r){return D(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Dm),s),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}listV2(e,s){return D(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const sd="2.86.0",rd={"X-Client-Info":`storage-js/${sd}`};class Um{constructor(e,s={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rd),s),this.fetch=Da(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return D(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(e);return{data:yield Jr(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}getBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}createBucket(e){return D(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pe(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return D(this,void 0,void 0,function*(){try{return{data:yield zo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(e){const s={};return e&&("limit"in e&&(s.limit=String(e.limit)),"offset"in e&&(s.offset=String(e.offset)),e.search&&(s.search=e.search),e.sortColumn&&(s.sortColumn=e.sortColumn),e.sortOrder&&(s.sortOrder=e.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var Yr=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Mm(t,e,s){const r=new URL(e,t);if(s)for(const[n,i]of Object.entries(s))i!==void 0&&r.searchParams.set(n,i);return r.toString()}async function Bm(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function zm(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:n,body:i,headers:o}){const a=Mm(t.baseUrl,r,n),l=await Bm(t.auth),c=await e(a,{method:s,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),d=h&&u?JSON.parse(u):u;if(!c.ok){const f=h?d:void 0,v=f?.error;throw new Yr(v?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:v?.type,icebergCode:v?.code,details:f})}return{status:c.status,headers:c.headers,data:d}}}}function En(t){return t.join("")}var Hm=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:En(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const s={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${En(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${En(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${En(t.namespace)}`}),!0}catch(e){if(e instanceof Yr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(s){if(s instanceof Yr&&s.status===409)return;throw s}}};function Is(t){return t.join("")}var Vm=class{constructor(t,e="",s){this.client=t,this.prefix=e,this.accessDelegation=s}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(t,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Is(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(s){if(s instanceof Yr&&s.status===404)return!1;throw s}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(s){if(s instanceof Yr&&s.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw s}}},Fm=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const s=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=zm({baseUrl:s,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new Hm(this.client,e),this.tableOps=new Vm(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Wm{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rd),s),this.fetch=Da(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}listBuckets(e){return D(this,void 0,void 0,function*(){try{const s=new URLSearchParams;e?.limit!==void 0&&s.set("limit",e.limit.toString()),e?.offset!==void 0&&s.set("offset",e.offset.toString()),e?.sortColumn&&s.set("sortColumn",e.sortColumn),e?.sortOrder&&s.set("sortOrder",e.sortOrder),e?.search&&s.set("search",e.search);const r=s.toString(),n=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Jr(this.fetch,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield La(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pe(s))return{data:null,error:s};throw s}})}from(e){if(!Pm(e))throw new xi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Fm({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>D(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Ua={"X-Client-Info":`storage-js/${sd}`,"Content-Type":"application/json"};class nd extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function et(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class to extends nd{constructor(e,s,r){super(e),this.name="StorageVectorsApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qm extends nd{constructor(e,s){super(e),this.name="StorageVectorsUnknownError",this.originalError=s}}var gc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gc||(gc={}));const Ma=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Km=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Gm=(t,e,s)=>D(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!s?.noResolveJson){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=o?.statusCode||o?.code||n+"";e(new to(vc(o),n,a))}).catch(()=>{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new to(a,n,o))});else{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new to(a,n,o))}}else e(new qm(vc(t),t))}),Jm=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return r?(Km(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(r)):n.body=r,Object.assign(Object.assign({},n),s)):n};function Ym(t,e,s,r,n,i){return D(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Jm(e,r,n,i)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Gm(l,a,r))})})}function tt(t,e,s,r,n){return D(this,void 0,void 0,function*(){return Ym(t,"POST",e,r,n,s)})}class Qm{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ua),s),this.fetch=Ma(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return D(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}getIndex(e,s){return D(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}listIndexes(e){return D(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}deleteIndex(e,s){return D(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}}class Xm{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ua),s),this.fetch=Ma(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return D(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}getVectors(e){return D(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}listVectors(e){return D(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield tt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}queryVectors(e){return D(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}deleteVectors(e){return D(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}}class Zm{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ua),s),this.fetch=Ma(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return D(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}getBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}listBuckets(){return D(this,arguments,void 0,function*(e={}){try{return{data:yield tt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}deleteBucket(e){return D(this,void 0,void 0,function*(){try{return{data:(yield tt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}}class ey extends Zm{constructor(e,s={}){super(e,s.headers||{},s.fetch)}from(e){return new ty(this.url,this.headers,e,this.fetch)}createBucket(e){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return D(this,void 0,void 0,function*(){return s.createBucket.call(this,e)})}getBucket(e){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return D(this,void 0,void 0,function*(){return s.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return D(this,arguments,void 0,function*(s={}){return e.listBuckets.call(this,s)})}deleteBucket(e){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return D(this,void 0,void 0,function*(){return s.deleteBucket.call(this,e)})}}class ty extends Qm{constructor(e,s,r,n){super(e,s,n),this.vectorBucketName=r}createIndex(e){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return D(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return D(this,arguments,void 0,function*(s={}){return e.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return D(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return D(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new sy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class sy extends Xm{constructor(e,s,r,n,i){super(e,s,i),this.vectorBucketName=r,this.indexName=n}putVectors(e){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return D(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return D(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return D(this,arguments,void 0,function*(s={}){return e.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return D(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return D(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ry extends Um{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new Lm(this.url,this.headers,e,this.fetch)}get vectors(){return new ey(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Wm(this.url+"/iceberg",this.headers,this.fetch)}}const ny="2.86.0";let wr="";typeof Deno<"u"?wr="deno":typeof document<"u"?wr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wr="react-native":wr="node";const iy={"X-Client-Info":`supabase-js-${wr}/${ny}`},oy={headers:iy},ay={schema:"public"},ly={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cy={},uy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hy=()=>Headers,dy=(t,e,s)=>{const r=uy(s),n=hy();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new n(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))}};function fy(t){return t.endsWith("/")?t:t+"/"}function py(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,d={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h?.headers)!==null&&s!==void 0?s:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function gy(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fy(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const id="2.86.0",Fs=30*1e3,Ho=3,so=Ho*Fs,vy="http://localhost:9999",my="supabase.auth.token",yy={"X-Client-Info":`gotrue-js/${id}`},Vo="X-Supabase-Api-Version",od={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},by=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_y=600*1e3;class Qr extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function U(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wy extends Qr{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Ey(t){return U(t)&&t.name==="AuthApiError"}class ms extends Qr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class is extends Qr{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Xe extends is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sy(t){return U(t)&&t.name==="AuthSessionMissingError"}class Ns extends is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sn extends is{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rn extends is{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ry(t){return U(t)&&t.name==="AuthImplicitGrantRedirectError"}class mc extends is{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fo extends is{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function ro(t){return U(t)&&t.name==="AuthRetryableFetchError"}class yc extends is{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Wo extends is{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bc=` 	
\r=`.split(""),Oy=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bc.length;e+=1)t[bc[e].charCodeAt(0)]=-2;for(let e=0;e<Yn.length;e+=1)t[Yn[e].charCodeAt(0)]=e;return t})();function _c(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Yn[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Yn[r]),e.queuedBits-=6}}function ad(t,e,s){const r=Oy[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wc(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{ky(o,r,s)};for(let o=0;o<t.length;o+=1)ad(t.charCodeAt(o),n,i);return e.join("")}function Ay(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function xy(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Ay(r,e)}}function ky(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ys(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)ad(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Ty(t){const e=[];return xy(t,s=>e.push(s)),new Uint8Array(e)}function _s(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>_c(n,s,r)),_c(null,s,r),e.join("")}function Py(t){return Math.round(Date.now()/1e3)+t}function Cy(){return Symbol("auth-callback")}const Pe=()=>typeof window<"u"&&typeof document<"u",hs={tested:!1,writable:!1},ld=()=>{if(!Pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hs.tested)return hs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),hs.tested=!0,hs.writable=!0}catch{hs.tested=!0,hs.writable=!1}return hs.writable};function $y(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const cd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ws=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ds=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},qt=async(t,e)=>{await t.removeItem(e)};class ki{constructor(){this.promise=new ki.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}ki.promiseConstructor=Promise;function no(t){const e=t.split(".");if(e.length!==3)throw new Wo("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!by.test(e[r]))throw new Wo("JWT not in base64url format");return{header:JSON.parse(wc(e[0])),payload:JSON.parse(wc(e[1])),signature:Ys(e[2]),raw:{header:e[0],payload:e[1]}}}async function Iy(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ny(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Dy(t){return("0"+t.toString(16)).substr(-2)}function Ly(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Dy).join("")}async function Uy(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function My(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Uy(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ds(t,e,s=!1){const r=Ly();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ws(t,`${e}-code-verifier`,n);const i=await My(r);return[i,r===i?"plain":"s256"]}const By=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zy(t){const e=t.headers.get(Vo);if(!e||!e.match(By))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Hy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Vy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ls(t){if(!Fy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function io(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wy(t,e){return new Proxy(t,{get:(s,r,n)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,n)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,r,n)}})}function Ec(t){return JSON.parse(JSON.stringify(t))}const ps=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qy=[502,503,504];async function Sc(t){var e;if(!jy(t))throw new Fo(ps(t),0);if(qy.includes(t.status))throw new Fo(ps(t),t.status);let s;try{s=await t.json()}catch(i){throw new ms(ps(i),i)}let r;const n=zy(t);if(n&&n.getTime()>=od["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new yc(ps(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Xe}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yc(ps(s),t.status,s.weak_password.reasons);throw new wy(ps(s),t.status||500,r)}const Ky=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function F(t,e,s,r){var n;const i=Object.assign({},r?.headers);i[Vo]||(i[Vo]=od["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r?.query)!==null&&n!==void 0?n:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Gy(t,e,s+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function Gy(t,e,s,r,n,i){const o=Ky(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Fo(ps(l),0)}if(a.ok||await Sc(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await Sc(l)}}function ht(t){var e;let s=null;Qy(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Py(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Rc(t){const e=ht(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function es(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Jy(t){return{data:t,error:null}}function Yy(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=fr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Oc(t){return t}function Qy(t){return t.access_token&&t.refresh_token&&t.expires_in}const oo=["global","local","others"];class Xy{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=cd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=oo[0]){if(oo.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oo.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:es})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=fr(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r?.newEmail,delete n.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Yy,redirectTo:s?.redirectTo})}catch(s){if(U(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:es})}catch(s){if(U(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Oc});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);c[`${w}Page`]=m}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ls(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:es})}catch(s){if(U(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Ls(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:es})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Ls(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:es})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ls(e.userId);try{const{data:s,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(U(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Ls(e.userId),Ls(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await F(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Oc});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);c[`${w}Page`]=m}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(U(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(U(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await F(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(U(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await F(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await F(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(U(s))return{data:null,error:s};throw s}}}function Ac(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const Us={debug:!!(globalThis&&ld()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ud extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Zy extends ud{}async function eb(t,e,s){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Zy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Us.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function tb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hd(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function sb(t){return parseInt(t,16)}function rb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function nb(t){var e;const{chainId:s,domain:r,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=hd(t.address),v=u?`${u}://${r}`:r,m=t.statement?`${t.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${f}

${m}`;let y=`URI: ${h}
Version: ${d}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(y+=`
Expiration Time: ${n.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const E of c){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);b+=`
- ${E}`}y+=b}return`${w}
${y}`}class _e extends Error{constructor({message:e,code:s,cause:r,name:n}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=n??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=s}}class Qn extends _e{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function ib({error:t,options:e}){var s,r,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new _e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new _e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new _e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new _e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(dd(o)){if(i.rp.id!==o)return new _e({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new _e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ob({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(dd(r)){if(s.rpId!==r)return new _e({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ab{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const lb=new ab;function cb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:r}=t,n=fr(t,["challenge","user","excludeCredentials"]),i=Ys(e).buffer,o=Object.assign(Object.assign({},s),{id:Ys(s.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ys(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function ub(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,r=fr(t,["challenge","allowCredentials"]),n=Ys(e).buffer,i=Object.assign(Object.assign({},r),{challenge:n});if(s&&s.length>0){i.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ys(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function hb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:_s(new Uint8Array(t.response.attestationObject)),clientDataJSON:_s(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function db(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,r=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:_s(new Uint8Array(n.authenticatorData)),clientDataJSON:_s(new Uint8Array(n.clientDataJSON)),signature:_s(new Uint8Array(n.signature)),userHandle:n.userHandle?_s(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dd(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function xc(){var t,e;return!!(Pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function fb(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qn("Browser returned unexpected credential type",e)}:{data:null,error:new Qn("Empty credential response",e)}}catch(e){return{data:null,error:ib({error:e,options:t})}}}async function pb(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Qn("Browser returned unexpected credential type",e)}:{data:null,error:new Qn("Empty credential response",e)}}catch(e){return{data:null,error:ob({error:e,options:t})}}}const gb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xn(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),s=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),r={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(s(o))r[i]=o;else if(e(o)){const a=r[i];e(a)?r[i]=Xn(a,o):r[i]=Xn(o)}else r[i]=o}return r}function mb(t,e){return Xn(gb,t,e||{})}function yb(t,e){return Xn(vb,t,e||{})}class bb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:r,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!o)return{data:null,error:a};const l=n??lb.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=mb(o.webauthn.credential_options.publicKey,i?.create),{data:u,error:h}=await fb({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=yb(o.webauthn.credential_options.publicKey,i?.request),{data:u,error:h}=await pb(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new ms("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!s)return{data:null,error:new Qr("rpId is required for WebAuthn authentication")};try{if(!xc())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:r},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new ms("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!s)return{data:null,error:new Qr("rpId is required for WebAuthn registration")};try{if(!xc())return{data:null,error:new ms("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new ms("Unexpected error in register",o)}}}}tb();const _b={url:vy,storageKey:my,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function kc(t,e,s){return await s()}const Ms={};class Xr{get jwks(){var e,s;return(s=(e=Ms[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ms[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{cachedAt:e})}constructor(e){var s,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},_b),e);if(this.storageKey=i.storageKey,this.instanceID=(s=Xr.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Xr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Pe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Xy({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=cd(i.fetch),this.lock=i.lock||kc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Pe()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=eb:this.lock=kc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ld()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ac(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ac(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${id}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},r="none";if(Pe()&&(s=$y(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),Pe()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ry(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return U(s)?this._returnResult({error:s}):this._returnResult({error:new ms("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:ht}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Ds(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:v},xform:ht})}else if("phone"in e){const{phone:u,password:h,options:d}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=d?.data)!==null&&r!==void 0?r:{},channel:(n=d?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ht})}else throw new Sn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Rc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Rc})}else throw new Sn("You must provide either an email or phone number and a password");const{data:r,error:n}=s;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){const i=new Ns;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,n,i,o,a,l,c,u,h,d;let f,v;if("message"in e)f=e.message,v=e.signature;else{const{chain:m,wallet:w,statement:y,options:b}=e;let E;if(Pe())if(typeof w=="object")E=w;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")E=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const R=new URL((s=b?.url)!==null&&s!==void 0?s:window.location.href),j=await E.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=hd(j[0]);let H=(r=b?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!H){const q=await E.request({method:"eth_chainId"});H=sb(q)}const W={domain:R.host,address:z,statement:y,uri:R.href,version:"1",chainId:H,nonce:(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=nb(W),v=await E.request({method:"personal_sign",params:[rb(f),z]})}try{const{data:m,error:w}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:ht});if(w)throw w;if(!m||!m.session||!m.user){const y=new Ns;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:w})}catch(m){if(U(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var s,r,n,i,o,a,l,c,u,h,d,f;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:w,wallet:y,statement:b,options:E}=e;let R;if(Pe())if(typeof y=="object")R=y;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))R=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=y}const j=new URL((s=E?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in R&&R.signIn){const z=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let H;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")H=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)H=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)v=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),m=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(n=(r=E?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=E?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(u=E?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const z=await R.signMessage(new TextEncoder().encode(v),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=z}}try{const{data:w,error:y}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:_s(m)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ht});if(y)throw y;if(!w||!w.session||!w.user){const b=new Ns;return this._returnResult({data:{user:null,session:null},error:b})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:y})}catch(w){if(U(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const s=await ds(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ht});if(await qt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Ns;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(U(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ht}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Ns;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ds(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new Sn("You must provide either an email or phone number.")}catch(a){if(U(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ht});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if(U(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var s,r,n,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Ds(this.storage,this.storageKey));const c=await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Jy});return!((i=c.data)===null||i===void 0)&&i.url&&Pe()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Xe;const{error:n}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await F(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await F(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new Sn("You must provide either an email or phone number and a type")}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<so:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ds(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=io()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Wy(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:es}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xe}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:es})})}catch(s){if(U(s))return Sy(s)&&(await this._removeSession(),await qt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Xe;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ds(this.storage,this.storageKey));const{data:c,error:u}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:es});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(U(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xe;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=no(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(s){if(U(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Xe;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!Pe())throw new Rn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new mc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rn("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mc("No code detected.");const{data:b,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Rn("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=Fs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=d-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,u);const{data:m,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(r){if(U(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return this._returnResult({error:i});const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Ey(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await qt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=Cy(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Ds(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(U(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(U(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Pe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(U(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var r;try{const{error:n,data:{session:i}}=s;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:ht}),{data:d,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Ns}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:f}))}catch(n){if(U(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(U(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Ny(async n=>(n>0&&await Iy(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ht})),(n,i)=>{const o=200*Math.pow(2,n);return i&&ro(i)&&Date.now()+o-r<Fs})}catch(r){if(this._debug(s,"error",r),U(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Pe()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ds(this.storage,this.storageKey);if(n&&this.userStorage){let o=await ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Ws(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o?.user)!==null&&e!==void 0?e:io()}else if(n&&!n.user&&!n.user){const o=await ds(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await qt(this.storage,this.storageKey+"-user"),await Ws(this.storage,this.storageKey,n)):n.user=io()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<so;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${so}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),ro(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Xe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ki;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Xe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),U(i)){const o={data:null,error:i};return ro(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Ws(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=Ec(n);await Ws(this.storage,this.storageKey,i)}else{const n=Ec(s);await Ws(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await qt(this.storage,this.storageKey),await qt(this.storage,this.storageKey+"-code-verifier"),await qt(this.storage,this.storageKey+"-user"),this.userStorage&&await qt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Fs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Fs}ms, refresh threshold is ${Ho} ticks`),n<=Ho&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ud)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ds(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r?.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?this._returnResult({data:null,error:i}):await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(U(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(s){if(U(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?hb(e.webauthn.credential_response):db(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(s){if(U(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return this._returnResult({data:null,error:i});const o=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:cb(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ub(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(U(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=s?.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,s;const{data:{session:r},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=no(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((s=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;return n?this._returnResult({data:null,error:n}):r?await F(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Xe})})}catch(s){if(U(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Xe});const o=await F(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Pe()&&!s?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Xe});const o=await F(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Pe()&&!s?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;return r?this._returnResult({data:null,error:r}):s?await F(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new Xe})})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;return n?this._returnResult({data:null,error:n}):r?(await F(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xe})})}catch(s){if(U(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+_y>n)return r;const{data:i,error:o}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});r=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=no(r);s?.allowExpired||Hy(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!c){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const u=Vy(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Ty(`${a}.${l}`)))throw new Wo("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}}Xr.nextInstanceID={};const wb=Xr;class Eb extends wb{constructor(e){super(e)}}class Sb{constructor(e,s,r){var n,i,o;this.supabaseUrl=e,this.supabaseKey=s;const a=gy(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:ay,realtime:cy,auth:Object.assign(Object.assign({},ly),{storageKey:l}),global:oy},u=py(r??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=dy(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new cm(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new ry(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new rm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,s;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c,throwOnError:u},h,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Eb({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:l,debug:c,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Am(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rb=(t,e,s)=>new Sb(t,e,s);function Ob(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ob()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ab="https://sylsqdkkshkeicaxhisq.supabase.co",Tc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN5bHNxZGtrc2hrZWljYXhoaXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwOTAyNjgsImV4cCI6MjA4MDY2NjI2OH0.ZqcDaGIr4fCxGmgQm00zUdZei50HGs3Aa_SlWEPBA6A",Ue=Rb(Ab,Tc,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{apikey:Tc}},db:{schema:"public"}}),xb=Qp("auth",()=>{const t=Xt(null),e=Xt(null),s=Xt(null),r=Xt(!1),n=Xt(null),i=He(()=>t.value!==null),o=He(()=>s.value?.user_type==="anonymous"),a=He(()=>s.value?.user_type==="registered");async function l(){if(!Ue){n.value="Supabase ",r.value=!1;return}try{r.value=!0,n.value=null,w();const{data:y,error:b}=await Ue.auth.getSession();b?n.value=b.message:y.session?(e.value=y.session,t.value=y.session.user,c(y.session.user.id,!1).catch(E=>console.warn(":",E))):s.value=null}catch(y){n.value=y instanceof Error?y.message:""}finally{r.value=!1}}async function c(y,b=!1){try{b&&(r.value=!0);const{data:E,error:R}=await Ue.from("users").select("*").eq("id",y).single();if(R){if(R.code==="PGRST116"){await u(y);return}throw R}s.value=E}catch(E){n.value=E instanceof Error?E.message:""}finally{b&&(r.value=!1)}}async function u(y){try{const b=t.value;if(!b){console.warn("");return}const E={id:y,email:b.email||null,display_name:b.user_metadata?.full_name||b.user_metadata?.name||"",avatar_url:b.user_metadata?.avatar_url||b.user_metadata?.picture||null,user_type:b.is_anonymous?"anonymous":"registered"},{data:R,error:j}=await Ue.from("users").insert(E).select().single();if(j){if(j.code==="23505"){await c(y,!1);return}throw j}s.value=R;try{await h(y,b.is_anonymous?"anonymous":"google")}catch(z){console.warn(":",z)}}catch(b){n.value=b instanceof Error?b.message:"";try{await c(y,!1)}catch{}}}async function h(y,b){try{const E=t.value;if(!E)return;const R={user_id:y,provider:b,provider_id:E.id,provider_data:E.user_metadata||{}},{error:j}=await Ue.from("user_identities").insert(R);if(j&&j.code!=="23505")throw j}catch{}}async function d(y){try{r.value=!0,n.value=null;const{data:b,error:E}=await Ue.auth.signInAnonymously();if(E)throw E;if(b.user&&b.session){e.value=b.session,t.value=b.user;const R=y||`${Math.floor(Math.random()*1e4)}`,{data:j,error:z}=await Ue.from("users").select("*").eq("id",b.user.id).maybeSingle();if(z&&z.code!=="PGRST116"&&console.warn("[Auth] :",z.code),j)y?await m({display_name:y}):s.value=j;else{const H={id:b.user.id,email:null,display_name:R,avatar_url:null,user_type:"anonymous"},{data:W,error:q}=await Ue.from("users").upsert(H,{onConflict:"id"}).select().single();if(q){const{data:ie}=await Ue.from("users").select("*").eq("id",b.user.id).maybeSingle();ie&&(s.value=ie)}else W&&(s.value=W);await h(b.user.id,"anonymous")}return{success:!0}}}catch(b){return n.value=b instanceof Error?b.message:"",{success:!1,error:n.value}}finally{r.value=!1}}async function f(){try{r.value=!0,n.value=null;const{error:y}=await Ue.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(y)throw y;return{success:!0}}catch(y){return n.value=y instanceof Error?y.message:"Google ",{success:!1,error:n.value}}finally{r.value=!1}}async function v(){if(!Ue)return n.value="Supabase ",{success:!1,error:n.value};r.value=!0,n.value=null;try{const{error:y}=await Ue.auth.signOut();return y?(n.value=y.message,t.value=null,e.value=null,s.value=null,{success:!1,error:y.message}):(t.value=null,e.value=null,s.value=null,{success:!0})}catch(y){return n.value=y instanceof Error?y.message:"",t.value=null,e.value=null,s.value=null,{success:!1,error:n.value}}finally{r.value=!1}}async function m(y){try{if(!t.value)throw new Error("");const{data:b,error:E}=await Ue.from("users").update(y).eq("id",t.value.id).select().single();if(E)throw E;return s.value=b,{success:!0}}catch(b){return n.value=b instanceof Error?b.message:"",{success:!1,error:n.value}}}function w(){Ue&&Ue.auth.onAuthStateChange((y,b)=>{e.value=b,t.value=b?.user??null,b?.user?c(b.user.id,!1).catch(E=>console.warn("[Auth] :",E)):s.value=null})}return{user:t,session:e,profile:s,loading:r,error:n,isAuthenticated:i,isAnonymous:o,isRegistered:a,init:l,signInAnonymously:d,signInWithGoogle:f,signOut:v,updateProfile:m,setupAuthListener:w,loadUserProfile:c}}),Ba=Hp(tg),kb=Wp();Ba.use(kb);Ba.use(hv);const Tb=xb();Tb.init();Ba.mount("#app");{const t=document.createElement("script");t.src="/assets/js/taixu-app-switcher.js",t.async=!0,document.body.appendChild(t)}export{vo as A,Ue as B,Ub as C,Pb as D,Ib as E,ot as F,Db as G,ve as H,ia as I,Rl as J,eg as _,jb as a,Es as b,sp as c,la as d,Iu as e,He as f,Ve as g,Xt as h,Nb as i,ip as j,xr as k,ff as l,Lb as m,Qo as n,Dn as o,at as p,$b as q,Ef as r,op as s,Rd as t,xb as u,Qp as v,nf as w,fu as x,Cb as y,Yo as z};
