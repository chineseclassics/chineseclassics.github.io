<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤ªè™›å¹»å¢ƒï¼šæ›¸é™¢ä¸­æ–‡ç¶“å…¸æ•¸å­—é«”é©—å­¸ç¿’</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="å¤ªè™›å¹»å¢ƒæ˜¯æ›¸é™¢ä¸­æ–‡ç¶“å…¸çš„æ•¸å­—åŒ–å­¸ç¿’å¹³å°ï¼Œé€šéäº’å‹•éŠæˆ²å’Œå‰µæ–°é«”é©—æ¢ç´¢ä¸­åœ‹å¤å…¸æ–‡å­¸ä¹‹ç¾ã€‚">
    <meta name="keywords" content="ä¸­æ–‡ç¶“å…¸,å¤å…¸æ–‡å­¸,è©©è©,æ•™è‚²éŠæˆ²,æ•¸å­—å­¸ç¿’,å¤ªè™›å¹»å¢ƒ">
    <meta name="author" content="æ›¸é™¢ä¸­æ–‡ç¶“å…¸">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://chineseclassics.github.io/">
    <meta property="og:title" content="å¤ªè™›å¹»å¢ƒï¼šæ›¸é™¢ä¸­æ–‡ç¶“å…¸æ•¸å­—é«”é©—å­¸ç¿’">
    <meta property="og:description" content="æ¢ç´¢ä¸­åœ‹å¤å…¸æ–‡å­¸çš„æ•¸å­—åŒ–å­¸ç¿’å¹³å°">
    <meta property="og:image" content="https://chineseclassics.github.io/assets/images/optimized/cclogo-64.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://chineseclassics.github.io/">
    <meta property="twitter:title" content="å¤ªè™›å¹»å¢ƒï¼šæ›¸é™¢ä¸­æ–‡ç¶“å…¸æ•¸å­—é«”é©—å­¸ç¿’">
    <meta property="twitter:description" content="æ¢ç´¢ä¸­åœ‹å¤å…¸æ–‡å­¸çš„æ•¸å­—åŒ–å­¸ç¿’å¹³å°">
    <meta property="twitter:image" content="https://chineseclassics.github.io/assets/images/optimized/cclogo-64.png">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="assets/tailwind.css" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    <link rel="preload" href="assets/images/optimized/cclogo-64.png" as="image">
    
    <!-- ç§»é™¤ Vercel Insightsï¼ˆGitHub Pages ä¸Šæœƒå°è‡´ 405ï¼‰ -->
    
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            // æ·»åŠ é”™è¯¯å¤„ç†ï¼Œé¿å…è·¨åŸŸé—®é¢˜å½±å“æ€§èƒ½
            try {
                c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
                t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
                y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
            } catch(e) {
                console.warn('Clarity åˆå§‹åŒ–å¤±è´¥ï¼ˆå¯èƒ½æ˜¯è·¨åŸŸé—®é¢˜ï¼‰:', e.message);
            }
        })(window, document, "clarity", "script", "s084at54sp");
        
        // å…¨å±€æ•è· Clarity çš„è·¨åŸŸé”™è¯¯ï¼Œé¿å…å½±å“ç”¨æˆ·ä½“éªŒ
        window.addEventListener('error', function(e) {
            if (e.message && e.message.includes('clarity.js')) {
                e.stopPropagation();
                e.preventDefault();
                return true; // é˜»æ­¢é”™è¯¯å†’æ³¡
            }
        }, true);
    </script>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5QLKSHKQ71"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-5QLKSHKQ71');
    </script>
    
    <link rel="stylesheet" href="assets/tailwind.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Supabase UMD èˆ‡å…¨åŸŸç™»å…¥ç‹€æ…‹åˆ— -->
    <!-- æš«æ™‚å±è”½ä¸»ç«™ç™»å…¥åŠŸèƒ½ï¼Œä½¿ç”¨æ‡‰ç”¨å–®ç¨ç™»å…¥æ¨¡å¼ -->
    <!-- <script src="https://unpkg.com/@supabase/supabase-js@2.47.4/dist/umd/supabase.js"></script> -->
    <!-- <script src="assets/js/cc-auth.js"></script> -->
    <script>
        // æª¢æ¸¬æš—é»‘æ¨¡å¼
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>
    <style>
        /* åŸºç¡€æ ·å¼é‡ç½® */
        * {
            box-sizing: border-box;
        }
        
        html, body {
            margin: 0 !important;
            padding: 0 !important;
            overflow-x: hidden;
        }
        
        body {
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            body {
                overflow: hidden;
                position: fixed;
                width: 100vw;
                height: 100vh;
                height: 100dvh;
            }
            
            html {
                width: 100vw;
                height: 100vh;
                height: 100dvh;
            }
            
            /* ç§»åŠ¨ç«¯é˜²æ­¢åŒå‡»ç¼©æ”¾ */
            * {
                touch-action: manipulation;
            }
        }
        
        .app-icon {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
        }
        .app-icon:hover {
            transform: translateY(-2px) scale(1.05);
        }
        .app-icon:active {
            transform: translateY(0) scale(0.98);
        }
        
        /* çµ±ä¸€æŒ‰éˆ•äº¤äº’æ•ˆæœï¼ˆç§»é™¤å€‹åˆ¥æ‡‰ç”¨çš„å°ˆå±¬å‹•ç•«ï¼Œä¿æŒä¸€è‡´æ€§ï¼‰ */
        .app-icon:focus {
            outline: 2px solid #5D5CDE;
            outline-offset: 2px;
        }
        
        /* å„ªåŒ–çš„å¡ç‰‡é™°å½± */
        .app-icon .shadow-lg {
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease;
        }
        .app-icon:hover .shadow-lg {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        /* åº”ç”¨è¯¦æƒ…æç¤ºæ¡† */
        .app-tooltip {
            position: absolute;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            width: 320px;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            pointer-events: none;
        }
        
        .app-tooltip.show {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        
        .app-tooltip.dark {
            background: #1f2937;
            border-color: #374151;
            color: #f9fafb;
        }
        
        .app-tooltip-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #111827;
        }
        
        .app-tooltip.dark .app-tooltip-title {
            color: #f9fafb;
        }
        
        .app-tooltip-subtitle {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 12px;
        }
        
        .app-tooltip.dark .app-tooltip-subtitle {
            color: #9ca3af;
        }
        
        .app-tooltip-features {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .app-tooltip-features li {
            font-size: 13px;
            color: #4b5563;
            margin-bottom: 6px;
            padding-left: 16px;
            position: relative;
        }
        
        .app-tooltip.dark .app-tooltip-features li {
            color: #d1d5db;
        }
        
        .app-tooltip-features li::before {
            content: "â€¢";
            color: #5D5CDE;
            position: absolute;
            left: 0;
            font-weight: bold;
        }
        
        .app-tooltip-quote {
            font-style: italic;
            color: #6b7280;
            font-size: 12px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #e5e7eb;
        }
        
        .app-tooltip.dark .app-tooltip-quote {
            color: #9ca3af;
            border-top-color: #374151;
        }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .app-tooltip {
                width: 280px;
                font-size: 14px;
            }
        }
        
        /* åº”ç”¨åˆ‡æ¢å™¨æ ·å¼ä¼˜åŒ– */
        .switcher-content {
            max-height: calc(85vh - 140px);
            overflow-y: auto;
            /* éšè—æ»šåŠ¨æ¡ä½†ä¿æŒæ»šåŠ¨åŠŸèƒ½ */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .switcher-content::-webkit-scrollbar {
            display: none; /* Safari and Chrome */
        }
        
        /* ç§»åŠ¨ç«¯åº”ç”¨åˆ‡æ¢å™¨ä¼˜åŒ– */
        @media (max-width: 768px) {
            #appSwitcherModal {
                padding: 8px !important;
                padding-top: 8px !important;
                padding-bottom: 8px !important;
            }
            
            #switcherContainer {
                max-height: calc(100vh - 16px) !important;
                max-height: calc(100dvh - 16px) !important;
                display: flex !important;
                flex-direction: column !important;
            }
            
            /* æ ‡é¢˜åŒºåŸŸç´§å‡‘åŒ– */
            #switcherContainer > div:first-of-type {
                padding: 8px 12px !important;
                flex-shrink: 0;
            }
            
            /* ç¡®ä¿åº”ç”¨ç½‘æ ¼åŒºåŸŸå¯ä»¥æ»šåŠ¨ */
            #switcherContainer > div:last-of-type {
                flex: 1;
                overflow-y: auto !important;
                overflow-x: hidden;
                -webkit-overflow-scrolling: touch;
                min-height: 0; /* é‡è¦ï¼šå…è®¸flexå­å…ƒç´ æ”¶ç¼© */
            }
            
            /* åº”ç”¨ç½‘æ ¼ç´§å‡‘åŒ– */
            #switcherAppGrid {
                padding: 8px !important;
                gap: 8px !important;
                grid-template-columns: repeat(4, 1fr) !important;
            }
            
            /* ç§»åŠ¨ç«¯è¿”å›ä¸»é¡µæŒ‰é’®ç´§å‡‘åŒ– */
            #switcherContainer button[onclick="showHome()"] {
                padding: 6px 10px !important;
                font-size: 12px !important;
            }
            
            /* ç§»åŠ¨ç«¯æ ‡é¢˜æ–‡å­—ç¼©å° */
            #switcherContainer h2 {
                font-size: 14px !important;
            }
            
            /* ç§»åŠ¨ç«¯logoç¼©å° */
            #switcherContainer img {
                height: 24px !important;
                width: 24px !important;
            }
            
            /* ç§»åŠ¨ç«¯å…³é—­æŒ‰é’®è°ƒæ•´ */
            #closeSwitcherBtn {
                width: 28px !important;
                height: 28px !important;
                top: 6px !important;
                right: 6px !important;
            }
        }
        
        /* åº”ç”¨åˆ‡æ¢å™¨å›¾æ ‡ä¼˜åŒ– */
        .switcher-app-icon {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
        }
        
        .switcher-app-icon:hover {
            transform: translateY(-2px) scale(1.05);
        }
        
        .switcher-app-icon:active {
            transform: translateY(0) scale(0.98);
        }
        
        .switcher-app-icon .icon-container {
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .switcher-app-icon:hover .icon-container {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .switcher-app-icon .icon-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .switcher-app-icon:hover .icon-container::before {
            left: 100%;
        }
        
        /* åº”ç”¨åç§°æ ·å¼ä¼˜åŒ– */
        .switcher-app-name {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            line-height: 1.2;
            height: 2.4em;
            font-size: 11px;
            font-weight: 500;
            color: #374151;
            transition: color 0.2s ease;
        }
        
        .dark .switcher-app-name {
            color: #d1d5db;
        }
        
        .switcher-app-icon:hover .switcher-app-name {
            color: #5D5CDE;
        }
        
        .dark .switcher-app-icon:hover .switcher-app-name {
            color: #818cf8;
        }
        
        /* åº”ç”¨åˆ‡æ¢å™¨åŠ¨ç”»æ˜¾ç¤º */
        .switcher-modal-show {
            opacity: 1 !important;
            pointer-events: auto !important;
        }
        
        .switcher-modal-show #switcherContainer {
            transform: scale(1) !important;
        }
        
        /* å¤ªè™›å¹»å¢ƒæ¨™é¡Œå€é›²æ°£æ•ˆæœï¼ˆè¼•é‡ã€é«˜æ•ˆï¼‰ */
        .tx-hero {
            position: relative;
            overflow: hidden;
        }
        .tx-layer {
            position: absolute;
            inset: 0;
            pointer-events: none;
        }
        .tx-bg {
            background:
                linear-gradient(90deg, rgba(30, 58, 138, 0.06), rgba(99, 102, 241, 0.08), rgba(30, 58, 138, 0.06)),
                radial-gradient(120% 120% at 30% 20%, rgba(99, 102, 241, 0.10) 0%, rgba(99, 102, 241, 0) 60%),
                radial-gradient(120% 120% at 75% 70%, rgba(59, 130, 246, 0.08) 0%, rgba(59, 130, 246, 0) 60%);
            animation: tx-bg-breathe 10s ease-in-out infinite;
        }
        @keyframes tx-bg-breathe {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
        .tx-clouds-back { z-index: 1; }
        .tx-content { position: relative; z-index: 2; }
        .tx-clouds-front { z-index: 3; }
        /* SVGäº‘æœµå®¹å™¨ */
        .tx-cloud {
            position: absolute;
            opacity: 0.85;
            will-change: transform, opacity;
            filter: drop-shadow(0 2px 8px rgba(99, 102, 241, 0.1));
        }
        .tx-cloud--lg { width: clamp(180px, 28vw, 350px); height: auto; }
        .tx-cloud--md { width: clamp(140px, 22vw, 280px); height: auto; }
        .tx-cloud--sm { width: clamp(100px, 16vw, 200px); height: auto; opacity: 0.75; }
        .tx-cloud--front { opacity: 0.9; }
        .tx-drift-1 { animation: tx-drift-1 26s ease-in-out infinite alternate; }
        .tx-drift-2 { animation: tx-drift-2 32s ease-in-out infinite alternate; }
        .tx-drift-3 { animation: tx-drift-3 22s ease-in-out infinite alternate; }
        @keyframes tx-drift-1 {
            0%   { transform: translate3d(-12vw, 0px, 0) scale(1); opacity: 0.65; }
            50%  { transform: translate3d(  8vw, -4px, 0) scale(1.03); opacity: 0.8; }
            100% { transform: translate3d(-12vw, 1px, 0) scale(1); opacity: 0.65; }
        }
        @keyframes tx-drift-2 {
            0%   { transform: translate3d(10vw, -2px, 0) scale(1); opacity: 0.6; }
            50%  { transform: translate3d(-10vw, 2px, 0) scale(1.04); opacity: 0.75; }
            100% { transform: translate3d(10vw, -1px, 0) scale(1); opacity: 0.6; }
        }
        @keyframes tx-drift-3 {
            0%   { transform: translate3d(-8vw, 1px, 0) scale(1); opacity: 0.5; }
            50%  { transform: translate3d(6vw, -2px, 0) scale(1.02); opacity: 0.6; }
            100% { transform: translate3d(-8vw, 0px, 0) scale(1); opacity: 0.5; }
        }
        @media (max-width: 768px) {
            .tx-cloud--lg { display: none; }
        }
        @media (prefers-reduced-motion: reduce) {
            .tx-bg { animation: none; }
            .tx-drift-1, .tx-drift-2, .tx-drift-3 { animation: none; }
        }
        .dark .tx-bg {
            background:
                linear-gradient(90deg, rgba(30, 58, 138, 0.12), rgba(99, 102, 241, 0.14), rgba(30, 58, 138, 0.12)),
                radial-gradient(120% 120% at 30% 20%, rgba(129, 140, 248, 0.16) 0%, rgba(99, 102, 241, 0) 60%),
                radial-gradient(120% 120% at 75% 70%, rgba(79, 70, 229, 0.14) 0%, rgba(79, 70, 229, 0) 60%);
        }
        .dark .tx-cloud {
            opacity: 0.4;
            filter: drop-shadow(0 2px 8px rgba(129, 140, 248, 0.15));
        }

        /* å“åº”å¼ç½‘æ ¼è°ƒæ•´ */
        @media (min-width: 769px) and (max-width: 1024px) {
            #switcherAppGrid {
                grid-template-columns: repeat(5, 1fr);
            }
        }
        
        @media (min-width: 1025px) {
            #switcherAppGrid {
                grid-template-columns: repeat(6, 1fr);
            }
        }
        
        /* ç§»åŠ¨ç«¯åº”ç”¨å›¾æ ‡å’Œåˆ†éš”ç¬¦ä¼˜åŒ– */
        @media (max-width: 768px) {
            /* å¢ƒåœ°åˆ†éš”ç¬¦ç´§å‡‘åŒ– */
            #switcherAppGrid .col-span-full {
                margin-top: 6px !important;
                margin-bottom: 4px !important;
                padding-left: 4px !important;
                padding-right: 4px !important;
            }
            
            #switcherAppGrid .col-span-full:first-child {
                margin-top: 0 !important;
            }
            
            /* åº”ç”¨å›¾æ ‡å®¹å™¨ç´§å‡‘åŒ– */
            .switcher-app-icon .icon-container {
                width: 36px !important;
                height: 36px !important;
                min-width: 36px !important;
                min-height: 36px !important;
                max-width: 36px !important;
                max-height: 36px !important;
                padding: 6px !important;
                margin-bottom: 4px !important;
            }
            
            /* åº”ç”¨åç§°æ–‡å­—ä¼˜åŒ– */
            .switcher-app-name {
                font-size: 10px !important;
                line-height: 1.1 !important;
                height: auto !important;
                max-height: 2.2em !important;
            }
            
            /* å¢ƒåœ°åˆ†éš”ç¬¦æ–‡å­—å’Œå›¾æ ‡ */
            #switcherAppGrid .col-span-full span {
                font-size: 9px !important;
            }
            
            #switcherAppGrid .col-span-full .text-xs {
                font-size: 11px !important;
            }
        }
        
        /* è¶…å°å±å¹•ï¼ˆå°äº480pxï¼‰è¿›ä¸€æ­¥ä¼˜åŒ– */
        @media (max-width: 480px) {
            #appSwitcherModal {
                padding: 4px !important;
            }
            
            #switcherContainer {
                max-height: calc(100vh - 8px) !important;
                max-height: calc(100dvh - 8px) !important;
            }
            
            /* æ ‡é¢˜åŒºåŸŸè¶…ç´§å‡‘ */
            #switcherContainer > div:first-of-type {
                padding: 6px 8px !important;
            }
            
            /* åº”ç”¨ç½‘æ ¼è¶…ç´§å‡‘ */
            #switcherAppGrid {
                padding: 6px !important;
                gap: 6px !important;
                grid-template-columns: repeat(3, 1fr) !important;
            }
            
            /* è¿”å›ä¸»é¡µæŒ‰é’® - åªæ˜¾ç¤ºå›¾æ ‡ */
            #switcherContainer button[onclick="showHome()"] span {
                display: none;
            }
            
            #switcherContainer button[onclick="showHome()"] {
                padding: 6px 8px !important;
                min-width: auto !important;
            }
            
            /* æ ‡é¢˜æ–‡å­—è¿›ä¸€æ­¥ç¼©å° */
            #switcherContainer h2 {
                font-size: 12px !important;
            }
            
            /* logoè¿›ä¸€æ­¥ç¼©å° */
            #switcherContainer img {
                height: 20px !important;
                width: 20px !important;
            }
            
            /* åº”ç”¨å›¾æ ‡è¿›ä¸€æ­¥ç´§å‡‘ */
            .switcher-app-icon .icon-container {
                width: 32px !important;
                height: 32px !important;
                min-width: 32px !important;
                min-height: 32px !important;
                max-width: 32px !important;
                max-height: 32px !important;
                padding: 4px !important;
            }
            
            /* åº”ç”¨åç§°æ–‡å­—è¿›ä¸€æ­¥ç¼©å° */
            .switcher-app-name {
                font-size: 9px !important;
            }
            
            /* å¢ƒåœ°åˆ†éš”ç¬¦è¿›ä¸€æ­¥ç´§å‡‘ */
            #switcherAppGrid .col-span-full {
                margin-top: 4px !important;
                margin-bottom: 2px !important;
            }
            
            /* å³ä¾§å ä½ç¼©å°ä»¥ä¿æŒå¹³è¡¡ */
            #switcherContainer .w-24 {
                width: 40px !important;
            }
        }
        
        /* å„ªåŒ–çš„åŠ è¼‰å‹•ç•« */
        .enhanced-loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(93, 92, 222, 0.1);
            border-top: 3px solid #5D5CDE;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #6b7280;
            animation: pulse 2s ease-in-out infinite;
        }
        
        /* éª¨æ¶å±å‹•ç•« */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
        }
        
        .dark .skeleton {
            background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
            background-size: 200% 100%;
        }
        
        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* æ”¹é€²çš„éŒ¯èª¤ç‹€æ…‹ */
        .error-container {
            text-align: center;
            padding: 2rem;
            color: #6b7280;
        }
        .error-container i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #f59e0b;
        }
        
        /* éµç›¤å°èˆªå¢å¼· */
        .app-icon:focus-visible {
            outline: 2px solid #5D5CDE;
            outline-offset: 2px;
            border-radius: 0.5rem;
        }
        
        /* ç„¡éšœç¤™è¨ªå•å„ªåŒ– */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* éš±è—å…¨åŸŸç™»å…¥æŒ‰éˆ• */
        #cc-auth-bar {
            display: none !important;
        }
        
        /* é¦–é å›ºå®šæ¨™é¡Œå€åŸŸæ¨£å¼ */
        #homeView {
            height: 100vh;
            height: 100dvh;
            overflow: hidden;
        }
        
        /* å¯æ»¾å‹•å€åŸŸæ¨£å¼ */
        #homeView .flex-1 {
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
    </style>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen" style="margin: 0; padding: 0; overflow-x: hidden;">
    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="relative z-20" id="mainContent">
        <!-- é¦–é¡µè§†å›¾ -->
        <div id="homeView" class="min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900">
            <!-- ç¼©å°ä½†ä¿ç•™è£…é¥°çš„æ ‡é¢˜åŒº -->
            <div class="flex-shrink-0 py-5 px-4 relative overflow-hidden tx-hero">
                <div class="tx-layer tx-bg"></div>
                <div class="tx-layer tx-clouds-back">
                    <svg class="tx-cloud tx-cloud--lg tx-drift-1" style="left: 6%; top: 34%;" viewBox="0 0 200 60" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <filter id="cloud-blur">
                                <feGaussianBlur in="SourceGraphic" stdDeviation="1.5"/>
                            </filter>
                        </defs>
                        <path d="M 25,45 Q 15,40 15,30 Q 15,18 25,15 Q 30,8 40,8 Q 48,8 53,13 Q 60,10 68,12 Q 78,14 82,22 Q 90,20 98,23 Q 108,26 110,35 Q 110,42 105,46 Q 100,50 90,50 L 35,50 Q 28,50 25,45 Z" 
                              fill="rgba(255, 255, 255, 0.9)" 
                              filter="url(#cloud-blur)"/>
                        <ellipse cx="45" cy="20" rx="18" ry="15" fill="rgba(255, 255, 255, 0.7)" filter="url(#cloud-blur)"/>
                        <ellipse cx="75" cy="22" rx="20" ry="16" fill="rgba(255, 255, 255, 0.75)" filter="url(#cloud-blur)"/>
                        <ellipse cx="95" cy="30" rx="16" ry="13" fill="rgba(255, 255, 255, 0.7)" filter="url(#cloud-blur)"/>
                    </svg>
                    <svg class="tx-cloud tx-cloud--md tx-drift-2 tx-cloud--tint" style="right: 8%; top: 46%;" viewBox="0 0 180 55" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <filter id="cloud-blur-2">
                                <feGaussianBlur in="SourceGraphic" stdDeviation="1.5"/>
                            </filter>
                        </defs>
                        <path d="M 22,42 Q 12,38 12,28 Q 12,17 22,14 Q 27,7 36,7 Q 44,7 48,12 Q 54,9 62,11 Q 71,13 75,20 Q 82,18 90,21 Q 98,24 100,32 Q 100,39 95,43 Q 90,47 80,47 L 30,47 Q 24,47 22,42 Z" 
                              fill="rgba(245, 245, 255, 0.85)" 
                              filter="url(#cloud-blur-2)"/>
                        <ellipse cx="40" cy="18" rx="16" ry="13" fill="rgba(250, 250, 255, 0.65)" filter="url(#cloud-blur-2)"/>
                        <ellipse cx="65" cy="20" rx="18" ry="14" fill="rgba(248, 248, 255, 0.7)" filter="url(#cloud-blur-2)"/>
                        <ellipse cx="85" cy="27" rx="14" ry="12" fill="rgba(250, 250, 255, 0.65)" filter="url(#cloud-blur-2)"/>
                    </svg>
                </div>
                <div class="tx-content">
                    <div class="container mx-auto relative">
                        <h1 class="text-2xl md:text-3xl font-bold text-center">
                            <span class="bg-clip-text text-transparent bg-gradient-to-r from-indigo-700 via-primary to-indigo-700 dark:from-indigo-400 dark:via-primary dark:to-indigo-400">å¤ªè™›å¹»å¢ƒ</span>
                        </h1>
                        <h2 class="text-sm md:text-base font-medium text-gray-700 dark:text-gray-300 text-center mt-1">æ›¸é™¢ä¸­æ–‡ç¶“å…¸æ•¸å­—é«”é©—å­¸ç¿’</h2>
                        <div class="w-16 h-0.5 bg-gradient-to-r from-transparent via-primary to-transparent mx-auto mt-2"></div>
                        <div class="flex justify-center mt-3">
                            <img src="assets/images/optimized/cclogo-64.png" 
                                 alt="æ›¸é™¢ä¸­æ–‡ç¶“å…¸" 
                                 class="h-12 w-12 object-contain cursor-pointer hover:opacity-80 transition-opacity"
                                 onclick="showHome()">
                        </div>
                    </div>
                </div>
                <div class="tx-layer tx-clouds-front">
                    <svg class="tx-cloud tx-cloud--sm tx-drift-3" style="left: 18%; top: 18%;" viewBox="0 0 140 45" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <filter id="cloud-blur-3">
                                <feGaussianBlur in="SourceGraphic" stdDeviation="1.2"/>
                            </filter>
                        </defs>
                        <path d="M 18,35 Q 10,32 10,24 Q 10,15 18,12 Q 22,6 30,6 Q 36,6 40,10 Q 45,8 52,9 Q 60,11 63,17 Q 69,16 75,18 Q 82,20 84,27 Q 84,33 80,36 Q 76,39 68,39 L 25,39 Q 20,39 18,35 Z" 
                              fill="rgba(255, 255, 255, 0.88)" 
                              filter="url(#cloud-blur-3)"/>
                        <ellipse cx="32" cy="15" rx="13" ry="11" fill="rgba(255, 255, 255, 0.65)" filter="url(#cloud-blur-3)"/>
                        <ellipse cx="52" cy="16" rx="14" ry="11" fill="rgba(255, 255, 255, 0.7)" filter="url(#cloud-blur-3)"/>
                        <ellipse cx="68" cy="22" rx="12" ry="10" fill="rgba(255, 255, 255, 0.65)" filter="url(#cloud-blur-3)"/>
                    </svg>
                    <svg class="tx-cloud tx-cloud--md tx-drift-1 tx-cloud--tint" style="right: 18%; top: 14%;" viewBox="0 0 170 52" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <filter id="cloud-blur-4">
                                <feGaussianBlur in="SourceGraphic" stdDeviation="1.5"/>
                            </filter>
                        </defs>
                        <path d="M 20,40 Q 11,36 11,27 Q 11,16 20,13 Q 25,6 34,6 Q 41,6 46,11 Q 52,8 59,10 Q 68,12 72,19 Q 79,17 87,20 Q 95,23 97,31 Q 97,37 92,41 Q 87,45 78,45 L 28,45 Q 22,45 20,40 Z" 
                              fill="rgba(242, 242, 255, 0.82)" 
                              filter="url(#cloud-blur-4)"/>
                        <ellipse cx="38" cy="17" rx="15" ry="12" fill="rgba(248, 248, 255, 0.62)" filter="url(#cloud-blur-4)"/>
                        <ellipse cx="62" cy="19" rx="17" ry="13" fill="rgba(246, 246, 255, 0.68)" filter="url(#cloud-blur-4)"/>
                        <ellipse cx="82" cy="25" rx="13" ry="11" fill="rgba(248, 248, 255, 0.62)" filter="url(#cloud-blur-4)"/>
                    </svg>
                </div>
            </div>

            <!-- å¯æ»¾å‹•çš„å››å¢ƒå€åŸŸ -->
            <div class="flex-1 overflow-y-auto">
                <div class="container mx-auto px-4 py-8" id="realmsContainer">
                    <!-- JavaScript åŠ¨æ€æ¸²æŸ“å››å¢ƒ -->
            </div>
        </div>


    </main>

    <!-- åº”ç”¨è§†å›¾å·²ç§»é™¤ - ç°åœ¨ä½¿ç”¨ç›´æ¥é¡µé¢è·³è½¬ -->

    <!-- åº”ç”¨åˆ‡æ¢å™¨å¼¹çª— -->
    <div id="appSwitcherModal" class="fixed inset-0 z-[950] flex items-center justify-center p-4 pt-16 pb-16 opacity-0 pointer-events-none transition-all duration-300 ease-out">
        <div class="absolute inset-0 bg-black bg-opacity-60 backdrop-blur-sm transition-opacity duration-300"></div>
        <div id="switcherContainer" class="relative bg-white dark:bg-gray-800 rounded-2xl max-w-5xl w-full max-h-full shadow-2xl transform scale-95 transition-all duration-300 ease-out flex flex-col">
            <!-- æµ®åŠ¨çš„å…³é—­æŒ‰é’® -->
            <button id="closeSwitcherBtn" class="absolute top-3 right-3 z-10 w-8 h-8 rounded-full bg-black bg-opacity-30 hover:bg-opacity-50 text-white hover:text-gray-200 transition-all duration-200 flex items-center justify-center backdrop-blur-sm">
                <i class="fas fa-times text-sm"></i>
            </button>
            
            <!-- æ ‡é¢˜åŒºåŸŸ -->
            <div class="px-5 pt-4 pb-3 border-b border-gray-200 dark:border-gray-700 flex-shrink-0">
                <div class="flex items-center justify-between gap-3">
                    <!-- å·¦ä¾§è¿”å›ä¸»é¡µæŒ‰é’® -->
                    <button onclick="showHome()" 
                            class="flex items-center gap-2 px-3 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors text-gray-700 dark:text-gray-300 text-sm font-medium">
                        <i class="fas fa-home text-base"></i>
                        <span>è¿”å›ä¸»é </span>
                    </button>
                    
                    <!-- ä¸­é—´æ ‡é¢˜ -->
                    <div class="flex items-center gap-2.5 flex-1 justify-center">
                    <img src="assets/images/optimized/cclogo-32.png" 
                         alt="æ›¸é™¢ä¸­æ–‡ç¶“å…¸" 
                             class="h-8 w-8 object-contain">
                        <h2 class="text-lg font-semibold text-gray-800 dark:text-gray-200">å¤ªè™›å¹»å¢ƒï¼šæ›¸é™¢ä¸­æ–‡ç¶“å…¸æ•¸å­—é«”é©—å­¸ç¿’</h2>
                    </div>
                    
                    <!-- å³ä¾§å ä½ï¼ˆä¿æŒå±…ä¸­å¹³è¡¡ï¼‰ -->
                    <div class="w-24"></div>
                </div>
            </div>
            
            <!-- åº”ç”¨ç½‘æ ¼åŒºåŸŸï¼ˆå¯æ»šåŠ¨ï¼Œå¸¦åº•éƒ¨paddingï¼‰ -->
            <div class="flex-1 overflow-y-auto">
                <div id="switcherAppGrid" class="p-3 pb-6 grid grid-cols-6 sm:grid-cols-7 md:grid-cols-8 lg:grid-cols-10 gap-0.5">
                    <!-- åº”ç”¨å›¾æ ‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆï¼ŒæŒ‰å¢ƒåœ°åˆ†ç»„ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // å¢ƒåœ°é…ç½®
        const realms = [
            {
                id: 'hanmo',
                name: 'ç¿°å¢¨é½‹',
                subtitle: 'ç¾ä»£ä¸­æ–‡é«”é©—',
                icon: 'ğŸ“',
                accentColor: 'border-l-blue-500',
                titleColor: 'text-blue-600 dark:text-blue-400'
            },
            {
                id: 'qiangu',
                name: 'åƒå¤å ‚',
                subtitle: 'å¤ä»£ç¶“å…¸é«”é©—',
                icon: 'ğŸ›ï¸',
                accentColor: 'border-l-amber-500',
                titleColor: 'text-amber-700 dark:text-amber-400'
            },
            {
                id: 'jinxiu',
                name: 'éŒ¦ç¹¡åŠ',
                subtitle: 'ä¸­è¯æ–‡åŒ–é«”é©—',
                icon: 'ğŸ¨',
                accentColor: 'border-l-rose-500',
                titleColor: 'text-rose-700 dark:text-rose-400'
            },
            {
                id: 'yunwai',
                name: 'é›²å¤–æ¨“',
                subtitle: 'å¯¦é©—èˆ‡è·¨ç•Œé«”é©—',
                icon: 'â˜ï¸',
                accentColor: 'border-l-cyan-500',
                titleColor: 'text-cyan-700 dark:text-cyan-400'
            }
        ];

        // åº”ç”¨æ•°æ®
        const apps = [
            // ç¿°å¢¨é½‹ - ç¾ä»£ä¸­æ–‡é«”é©—
            {
                id: 'hanzishu',
                category: 'hanmo',
                name: 'æ¼¢å­—æ¨¹ï¼šæ¼¢å­—å­¸ç¿’',
                icon: 'fas fa-paint-brush',
                gradient: 'from-red-500 to-orange-500',
                url: '/hanzishu/',
                description: 'é€šéç­†é †ç·´ç¿’ã€è¨˜æ†¶æŒ‘æˆ°å’Œéƒ¨é¦–çµ„å­—ç­‰å¤šå…ƒåŒ–éŠæˆ²ï¼Œç³»çµ±æ€§å­¸ç¿’æ¼¢å­—æ›¸å¯«èˆ‡çµæ§‹'
            },
            {
                id: 'cilong',
                category: 'hanmo',
                name: 'è²ªåƒé¾',
                icon: 'ğŸ‰',
                gradient: 'from-lime-400 to-green-500',
                url: '/cilong.html',
                description: 'åœ¨ç¶“å…¸çš„è²ªåƒè›‡ç©æ³•ä¸­ï¼Œæ“æ§å‘†èŒé¾å¯¶æ”¶é›†æ¼¢å­—ï¼Œçµ„æˆè©èªï¼ŒæŒ‘æˆ°ä½ çš„è©å½™é‡å’Œåæ‡‰é€Ÿåº¦ã€‚'
            },
            {
                id: 'pinyinpaopao',
                category: 'hanmo',
                name: 'æ‹¼éŸ³æ³¡æ³¡æ¨‚',
                icon: 'fas fa-headphones',
                gradient: 'from-pink-400 to-purple-500',
                url: '/pinyinpaopao.html',
                description: 'è·Ÿè‘—èªéŸ³æç¤ºé»æ“Šé£„æµ®çš„æ‹¼éŸ³æ³¡æ³¡ï¼æ”¯æ´è²æ¯ã€éŸ»æ¯å’Œæ··åˆæ¨¡å¼ï¼Œåœ¨å½©è™¹æ³¡æ³¡ä¸­è¼•é¬†å­¸ç¿’æ¼¢èªæ‹¼éŸ³'
            },
            {
                id: 'story-vocab',
                category: 'hanmo',
                name: 'è©éŠè¨˜',
                icon: 'fas fa-book-reader',
                gradient: 'from-purple-500 to-pink-400',
                url: '/story-vocab/index.html',
                description: 'èˆ‡AIå…±å‰µç²¾å½©æ•…äº‹ï¼Œè¼•é¬†ç©ç´¯è©å½™ï¼é¸æ“‡è©èªé€ å¥ï¼ŒAIæ¥åŠ›çºŒå¯«ï¼Œåœ¨äº’å‹•æ•…äº‹ä¸­å­¸ç¿’ç¹é«”ä¸­æ–‡è©å½™ï¼Œé©åˆ2-6å¹´ç´šå­¸ç”Ÿ',
                isNew: true
            },
            {
                id: 'leiyu',
                category: 'hanmo',
                name: 'ã€Šé›·é›¨ã€‹é–ƒé›»',
                icon: 'fas fa-cloud-rain',
                gradient: 'from-blue-500 to-cyan-500',
                url: '/leiyushandian.html',
                description: 'æ‰®æ¼”æ›¹ç¦ºã€Šé›·é›¨ã€‹ä¸­çš„ç¶“å…¸è§’è‰²èº²é¿å‘½é‹é–ƒé›»ï¼Œåœ¨è¡—æ©ŸéŠæˆ²ä¸­é«”é©—å®¶åº­æ‚²åŠ‡çš„æ–‡å­¸æ·±åº¦'
            },
            {
                id: 'shiwen-baojian',
                category: 'hanmo',
                name: 'æ™‚æ–‡å¯¶é‘‘',
                icon: 'fas fa-pen-fancy',
                gradient: 'from-indigo-500 to-blue-600',
                url: '/shiwen-baojian/index.html',
                description: 'AI è«–æ–‡å¯«ä½œæŒ‡å°ç³»çµ±ï¼Œæä¾›æ®µè½ç´šå³æ™‚åé¥‹ï¼Œå¹«åŠ©å­¸ç”ŸæŒæ¡å­¸è¡“è«–æ–‡æ ¼å¼èˆ‡å¯«ä½œæŠ€å·§',
                isNew: true
            },
            
            // åƒå¤å ‚ - å¤ä»£ç¶“å…¸é«”é©—
            {
                id: 'wanwuxiaoyao',
                category: 'qiangu',
                name: 'è¬ç‰©é€é™',
                icon: 'fas fa-leaf',
                gradient: 'from-amber-400 to-yellow-300',
                url: '/wanwuxiaoyao.html',
                description: 'æ·±åº¦é«”é©—èŠå­å“²å­¸çš„ç‰©åŒ–ä¹‹é“ï¼Œå¾èŠå‘¨å¤¢è¶åˆ°æ¸¾æ²Œå¾©ç”Ÿï¼Œåœ¨ä¸ƒå€‹å“²å­¸ç« ç¯€ä¸­é ˜æ‚Ÿé€é™å¢ƒç•Œ',
                isFeatured: true
            },
            {
                id: 'changganxinglv',
                category: 'qiangu',
                name: 'é•·å¹²è¡Œæ—…',
                icon: 'fas fa-ship',
                gradient: 'from-indigo-500 to-violet-500',
                url: '/changganxinglv.html',
                description: 'é«”é©—æç™½ã€Šé•·å¹²è¡Œã€‹ä¸­å•†äººèˆ‡å°‘å©¦çš„æ„›æƒ…æ•…äº‹ï¼Œåœ¨è§’è‰²æ‰®æ¼”ä¸­æ„Ÿå—å¤å…¸è©©æ­Œçš„æµªæ¼«èˆ‡æ·±æƒ…'
            },
            {
                id: 'shiguangpintu',
                category: 'qiangu',
                name: 'ã€Šé•·å¹²è¡Œã€‹æ™‚å…‰æ‹¼åœ–',
                icon: 'fas fa-hourglass-half',
                gradient: 'from-gray-600 to-gray-800',
                url: '/changganxingshiguang.html',
                description: 'æ‹–å‹•æç™½ã€Šé•·å¹²è¡Œã€‹çš„è©©å¥å¡ç‰‡ï¼ŒæŒ‰æ™‚é–“é †åºé‡æ–°æ’åˆ—ï¼Œé«”é©—è©©ä¸­å¥³å­å¾ç«¥å¹´åˆ°æˆå¹´çš„æƒ…æ„Ÿæ™‚å…‰'
            },
            {
                id: 'changhenge',
                category: 'qiangu',
                name: 'ã€Šé•·æ¨æ­Œã€‹è¨˜æ†¶å¡ç‰Œ',
                icon: 'fas fa-memory',
                gradient: 'from-yellow-500 to-amber-500',
                url: '/changhengejiyi.html',
                description: 'ç¿»é–‹å¡ç‰Œé…å°ç™½å±…æ˜“ã€Šé•·æ¨æ­Œã€‹çš„è©©å¥èˆ‡é‡‹ç¾©ï¼Œåœ¨è¨˜æ†¶éŠæˆ²ä¸­æ¢ç´¢å”æ˜çš‡èˆ‡æ¥Šè²´å¦ƒçš„æ„›æƒ…æ‚²æ­Œ'
            },
            {
                id: 'nanfengtianci',
                category: 'qiangu',
                name: 'å—é¢¨å¡«è©',
                icon: 'fas fa-pencil-alt',
                gradient: 'from-teal-500 to-green-400',
                url: '/nanfengtianci.html',
                description: 'é«”é©—å¤å…¸å¡«è©è—è¡“ï¼Œåœ¨å¹³ä»„éŸ»å¾‹ä¸­å‰µä½œå±¬æ–¼ä½ çš„è©ç« ï¼Œé‚„æœ‰èƒŒèª¦æŒ‘æˆ°ç­‰ä½ ä¾†é—–é—œ'
            },
            {
                id: 'nanfengzuoshi',
                category: 'qiangu',
                name: 'å—é¢¨ä½œè©©',
                icon: 'fas fa-feather-alt',
                gradient: 'from-indigo-400 to-blue-500',
                url: '/nanfengzuoshi.html',
                description: 'åŸºæ–¼æ¬½å®šè©è­œçš„å¤å…¸å¡«è©å·¥å…·ï¼Œç”¨å‚³çµ±æ ¼å¾‹å‰µä½œä½ çš„è©ç« ï¼Œé‚„èƒ½ç”Ÿæˆç²¾ç¾çš„å¤é¢¨å£ç´™'
            },
            {
                id: 'kongshan',
                category: 'qiangu',
                name: 'ç©ºå±±è²è‰²æ„å¢ƒ',
                icon: 'fas fa-mountain',
                gradient: 'from-blue-500 to-emerald-500',
                url: '/kongshan/index.html',
                description: 'ä»¥è²éŸ³èˆ‡è‰²å½©ç·¨ç¹”è©©æ­Œæ„å¢ƒï¼ŒéŒ„éŸ³æ··éŸ³ã€è‡ªè¨‚èƒŒæ™¯å…±å‰µè²è‰²å…¼å‚™çš„å¤å…¸é«”é©—',
                isNew: true
            },
            {
                id: 'shicizuju',
                category: 'qiangu',
                name: 'è©©è©çµ„å¥éŠæˆ²',
                icon: 'fas fa-puzzle-piece',
                gradient: 'from-green-500 to-emerald-500',
                url: '/shicizuju.html'
            },
            {
                id: 'yimoji',
                category: 'qiangu',
                name: 'æ„mojiï¼šè©©è©æ„è±¡é…å°',
                icon: 'fas fa-icons',
                gradient: 'from-violet-500 to-purple-400',
                url: '/yimoji.html',
                description: 'å°‹æ‰¾ä¸‰å€‹èˆ‡è©©è©æ„è±¡æœ€ç›¸é—œçš„emojié€²è¡Œé…å°'
            },
            {
                id: 'cikeyishou',
                category: 'qiangu',
                name: 'åˆºå®¢ä¹‹é“ 1.0',
                icon: 'fas fa-user-ninja',
                gradient: 'from-pink-400 to-rose-300',
                url: '/cikezhidao.html',
                description: 'æ‰®æ¼”ã€Šå²è¨˜Â·åˆºå®¢åˆ—å‚³ã€‹ä¸­çš„äº”ä½å¤ä»£åˆºå®¢ï¼Œåœ¨ç”Ÿæ­»æŠ‰æ“‡ä¸­é«”é©—åƒç§‹ç¾©å‹‡èˆ‡æ­·å²é¢¨é›²'
            },
            {
                id: 'yuexiaduzuo',
                category: 'qiangu',
                name: 'æœˆä¸‹ç¨é…Œ',
                icon: 'fas fa-moon',
                gradient: 'from-slate-600 to-indigo-400',
                url: '/yuexiaduzhuo.html',
                description: 'åŠ å…¥ã€Œæœˆä¸‹é›…é›†ã€ç¾¤èŠï¼Œèˆ‡æç™½ã€æœç”«ã€å«¦å¨¥ç­‰å¤ä»£è©©äººåœ¨å¾®ä¿¡ç¾¤ä¸­æš¢è«‡è©©é…’é¢¨æµ'
            },
            {
                id: 'honglourenwu',
                category: 'qiangu',
                name: 'ã€Šç´…æ¨“å¤¢ã€‹äººç‰©åœ–è­œ',
                icon: 'fa-solid fa-sitemap',
                gradient: 'from-purple-500 to-pink-500',
                url: '/honglourenwu.html',
                description: 'åŸºæ–¼ d3.js çš„ã€Šç´…æ¨“å¤¢ã€‹äººç‰©é—œä¿‚äº’å‹•åœ–ï¼Œå¹«åŠ©å­¸ç”Ÿå¿«é€Ÿç†è§£å››å¤§å®¶æ—èˆ‡ä¸»è¦è§’è‰²é—œä¿‚ã€‚'
            },
            {
                id: 'honglou-xuantimu',
                category: 'qiangu',
                name: 'ã€Šç´…æ¨“å¤¢ã€‹è«–æ–‡é¸é¡Œ',
                icon: 'fas fa-project-diagram',
                gradient: 'from-purple-600 to-pink-600',
                url: '/honglou-xuantimu/index.html',
                description: 'äº’å‹•å¼æ€ç¶­å°åœ–å±•ç¤ºè«–æ–‡é¸é¡Œçš„æ­£ç¢ºæµç¨‹ï¼šå¾æ–‡æœ¬ç´°è®€å‡ºç™¼ï¼Œé¿å…ç†å¿µå…ˆè¡Œï¼Œå¹«åŠ©å­¸ç”Ÿç†è§£å¦‚ä½•å¾å…·è±¡çš„ primary sources ç”Ÿç™¼å‡ºç¨ç‰¹çš„ç ”ç©¶è§€é»'
            },
            {
                id: 'shuyuanclassicchat',
                category: 'qiangu',
                name: 'å¤ªè™›å¹»èŠ',
                icon: 'fas fa-comments',
                gradient: 'from-emerald-600 to-teal-500',
                url: '/shuyuan-classic-chat.html',
                description: 'èˆ‡ç¶“å…¸äººç‰©çš„å¥‡å¦™å°è©±ï¼èˆ‡è©©äººå€‘åŸè©©ä½œå°ï¼Œå’Œå²å®¶æ¢è¨å¤ä»Šï¼Œèˆ‡å“²äººæ€è¾¨äººç”Ÿï¼Œé‚„èƒ½å’Œç¥è©±äººç‰©æš¢èŠå¥‡äº‹ã€‚åœ¨å¾®ä¿¡é¢¨æ ¼çš„èŠå¤©ç•Œé¢ä¸­ï¼Œè¦ªè¿‘ä¸­è¯ç¶“å…¸ï¼Œæ¿€ç™¼å­¸ç¿’èˆˆè¶£'
            },

            // éŒ¦ç¹¡åŠ - ä¸­è¯æ–‡åŒ–é«”é©—
            {
                id: 'mishijiangchun',
                category: 'jinxiu',
                name: 'è¿·å¤±æ±Ÿå—æ˜¥',
                icon: 'fas fa-tree',
                gradient: 'from-emerald-500 to-lime-400',
                url: '/mishijiangnanchun.html',
                description: 'ç©¿è¶Šè˜‡æ­æ–‡åŒ–ä¹‹æ—…ï¼Œèˆ‡å¤ä»£äººç‰©å°è©±æ”¶é›†ç·šç´¢ï¼Œæ‰¾å‡ºéš±è—åœ¨ä¸åŒå ´æ™¯ä¸­çš„æ™‚ç©ºè¿·å¤±è€…'
            },
            {
                id: 'jiangluohua',
                category: 'jinxiu',
                name: 'æ±Ÿå—è½èŠ±',
                icon: 'fas fa-spa',
                gradient: 'from-pink-400 to-rose-300',
                url: '/jiangnanluohua.html',
                description: 'é§•é§›å°èˆ¹èº²é¿ç´›é£›èŠ±æœµï¼Œæ”¶é›†ç‰¹æ®Šé“å…·ä¸¦æŒ‘æˆ°çŸ¥è­˜å•ç­”ï¼Œåœ¨è¡—æ©ŸéŠæˆ²ä¸­æ¢ç´¢æ±Ÿå—æ–‡åŒ–ä¹‹ç¾'
            },
            {
                id: 'yinzhangsheji',
                category: 'jinxiu',
                name: 'å°ç« è¨­è¨ˆ',
                icon: 'fas fa-stamp',
                gradient: 'from-red-600 to-rose-500',
                url: '/sealdesgin.html',
                description: 'å°ˆæ¥­çš„ä¸­å¼å°ç« è¨­è¨ˆå·¥å…·ï¼Œæ”¯æ´é™°åˆ»é™½åˆ»ã€å¤šç¨®å¤å…¸å­—é«”é¸æ“‡ï¼Œå¯è‡ªç”±èª¿æ•´æ–‡å­—ä½ç½®å¤§å°ï¼Œä¸¦æä¾›ç¹ªåœ–åŠŸèƒ½å€‹æ€§åŒ–å‰µä½œ'
            },

            // é›²å¤–æ¨“ - å¯¦é©—èˆ‡è·¨ç•Œé«”é©—
            {
                id: 'shenmisuzihe',
                category: 'yunwai',
                name: 'ç¥ç§˜æ•¸å­—ç›’',
                icon: 'fas fa-box-open',
                gradient: 'from-yellow-400 to-orange-400',
                url: '/caishuzi.html',
                description: 'å¾ 1 åˆ° 100 çš„ç¥ç§˜ç›’å­çŒœæ•¸å­—ï¼Œä¾æç¤ºèˆ‡ç¯„åœæŒ‡ç¤ºæ¨ç†ï¼Œç´¯ç©åˆ†æ•¸ä¸¦è§£é–å¾½ç« '
            },
            {
                id: 'shuangshe',
                category: 'yunwai',
                name: 'é›™è›‡å¤§æˆ°',
                icon: 'ğŸ',
                gradient: 'from-emerald-600 to-teal-500',
                url: '/2snakes.html',
                description: 'å²ä¸Šæœ€åˆºæ¿€çš„é›™äººè›‡é¡å°æˆ°éŠæˆ²ï¼å…©æ¢è›‡åœ¨åŒä¸€æˆ°å ´å±•é–‹ç”Ÿæ­»è¼ƒé‡ï¼Œä½¿ç”¨ç‰¹æ®Šé“å…·å’Œç­–ç•¥æŠ€å·§æ“Šæ•—å°æ‰‹ï¼Œæ”¯æ´WASD+æ–¹å‘éµé›™äººå³æ™‚å°æˆ°'
            },
            {
                id: 'wanwuxiaoyaoenglish',
                category: 'yunwai',
                name: 'All Things Wander Free',
                icon: 'fas fa-globe',
                gradient: 'from-blue-400 to-indigo-300',
                url: '/wanwuxiaoyaoenglish.html',
                description: 'English version of the Zhuangzi philosophy experience - explore the transformation of things from Zhuang Zhou\'s butterfly dream to the rebirth of chaos in seven philosophical chapters'
            },
            {
                id: 'yijingzhanbu',
                category: 'yunwai',
                name: 'æ˜“åœ',
                icon: 'fas fa-yin-yang',
                gradient: 'from-amber-500 to-orange-500',
                url: '/yijingzhanbu.html',
                description: 'ç©ºç©ºé“äººçš„åœå¦æ”¤ï¼Œé€šéä¸‰æšç¡¬å¹£æ“²å¦ï¼Œé«”é©—æ˜“ç¶“å åœçš„æ™ºæ…§ï¼Œç²å¾—AIè§£è®€çš„å¦è±¡æŒ‡å¼•'
            },
        ];

        // DOM å…ƒç´ 
        const homeView = document.getElementById('homeView');
        const switcherAppGrid = document.getElementById('switcherAppGrid');
        const appSwitcherModal = document.getElementById('appSwitcherModal');

        // ç®€å•çš„é¼ æ ‡æ‚¬åœä¿¡æ¯æ˜¾ç¤º
        let hoverInfo = null;
        let hoverTimeout = null;

        // åˆ›å»ºæ‚¬åœä¿¡æ¯æ¡†
        function createHoverInfo(description) {
            const info = document.createElement('div');
            info.style.cssText = `
                position: fixed;
                background: rgba(0, 0, 0, 0.9);
                color: white;
                padding: 8px 12px;
                border-radius: 6px;
                font-size: 14px;
                max-width: 300px;
                z-index: 10000;
                pointer-events: none;
                opacity: 0;
                transition: opacity 0.2s ease;
            `;
            info.textContent = description;
            document.body.appendChild(info);
            
            // æ˜¾ç¤ºåŠ¨ç”»
            setTimeout(() => info.style.opacity = '1', 10);
            
            return info;
        }

        // æ›´æ–°ä¿¡æ¯æ¡†ä½ç½®
        function updateHoverInfoPosition(e) {
            if (hoverInfo) {
                const x = e.clientX + 10;
                const y = e.clientY - 40;
                
                // ç®€å•è¾¹ç•Œæ£€æŸ¥
                const maxX = window.innerWidth - hoverInfo.offsetWidth - 10;
                const maxY = window.innerHeight - hoverInfo.offsetHeight - 10;
                
                hoverInfo.style.left = Math.min(x, maxX) + 'px';
                hoverInfo.style.top = Math.max(10, Math.min(y, maxY)) + 'px';
            }
        }

        // æ˜¾ç¤ºæ‚¬åœä¿¡æ¯
        function showHoverInfo(description, e) {
            hideHoverInfo();
            
            if (description) {
                hoverTimeout = setTimeout(() => {
                    hoverInfo = createHoverInfo(description);
                    updateHoverInfoPosition(e);
                }, 500);
            }
        }

        // éšè—æ‚¬åœä¿¡æ¯
        function hideHoverInfo() {
            if (hoverTimeout) {
                clearTimeout(hoverTimeout);
                hoverTimeout = null;
            }
            
            if (hoverInfo) {
                hoverInfo.style.opacity = '0';
                setTimeout(() => {
                    if (hoverInfo && hoverInfo.parentNode) {
                        hoverInfo.parentNode.removeChild(hoverInfo);
                    }
                    hoverInfo = null;
                }, 200);
            }
        }

        // æ¸²æŸ“æ‡‰ç”¨åœ–æ¨™ - å››å¢ƒç‰ˆæœ¬
        function renderAppIcon(app) {
            const iconSize = 'w-16 h-16';
            const textSize = 'text-xs';
            const iconFontSize = 'text-2xl';

            const isFaIcon = typeof app.icon === 'string' && (app.icon.startsWith('fas ') || app.icon.includes('fa-'));
            const iconHtml = isFaIcon
                ? `<i class="${app.icon} text-white ${iconFontSize}" aria-hidden="true"></i>`
                : `<span class="${iconFontSize} text-white">${app.icon}</span>`;
            
            // è§’æ ‡ï¼ˆæ–°/æ¨èï¼‰
            let badge = '';
            if (app.isNew) {
                badge = '<span class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold shadow-sm">æ–°</span>';
            } else if (app.isFeatured) {
                badge = '<span class="absolute -top-1 -right-1 bg-amber-500 text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold shadow-sm">è</span>';
            }
            
            return `
                <button class="app-icon group relative w-full flex flex-col items-center" 
                        data-app-id="${app.id}" 
                        onclick="openApp('${app.id}')"
                        onmouseenter="handleMouseEnter(event, '${app.id}')"
                        onmouseleave="handleMouseLeave()"
                        ontouchstart="handleTouchStart(event, '${app.id}')"
                        ontouchend="handleTouchEnd(event, '${app.id}')"
                        ontouchmove="handleTouchMove()"
                        aria-label="æ‰“é–‹ ${app.name} æ‡‰ç”¨">
                    <div class="bg-gradient-to-br ${app.gradient} rounded-xl ${iconSize} flex-shrink-0 flex items-center justify-center shadow-md group-hover:shadow-xl group-hover:scale-105 transition-all duration-200 relative">
                        ${iconHtml}
                        ${badge}
                    </div>
                    <p class="${textSize} text-center text-gray-700 dark:text-gray-300 mt-2 line-clamp-2 leading-tight px-1 h-9 flex items-center justify-center">${app.name}</p>
                </button>
            `;
        }

        // é¼ æ ‡è¿›å…¥äº‹ä»¶
        function handleMouseEnter(event, appId) {
            if (isMobile()) return; // ç§»åŠ¨ç«¯ä¸ä½¿ç”¨é¼ æ ‡æ‚¬åœ
            
            const app = apps.find(a => a.id === appId);
            if (app && app.description) {
                showHoverInfo(app.description, event);
            }
        }

        // é¼ æ ‡ç¦»å¼€äº‹ä»¶
        function handleMouseLeave() {
            if (!isMobile()) {
                hideHoverInfo();
            }
        }

        // ç§»åŠ¨ç«¯é•¿æŒ‰ç›¸å…³å˜é‡
        let longPressTimer = null;
        let isLongPress = false;
        let touchStartTime = 0;

        // è§¦æ‘¸å¼€å§‹äº‹ä»¶ï¼ˆç§»åŠ¨ç«¯ï¼‰
        function handleTouchStart(event, appId) {
            if (!isMobile()) return;
            
            const app = apps.find(a => a.id === appId);
            if (!app || !app.description) return;
            
            touchStartTime = Date.now();
            isLongPress = false;
            
            // è®¾ç½®é•¿æŒ‰å®šæ—¶å™¨ï¼ˆ500msï¼‰
            longPressTimer = setTimeout(() => {
                // è¿™æ˜¯é•¿æŒ‰ï¼Œæ˜¾ç¤ºæ‚¬åœä¿¡æ¯
                isLongPress = true;
                showHoverInfo(app.description, event);
                
                // è§¦è§‰åé¦ˆ
                if (navigator.vibrate) {
                    navigator.vibrate(50);
                }
            }, 500);
        }

        // è§¦æ‘¸ç»“æŸäº‹ä»¶
        function handleTouchEnd(event, appId) {
            if (!isMobile()) return;
            
            // æ¸…é™¤é•¿æŒ‰å®šæ—¶å™¨
            if (longPressTimer) {
                clearTimeout(longPressTimer);
                longPressTimer = null;
            }
            
            const touchDuration = Date.now() - touchStartTime;
            
            // å¦‚æœæ˜¯é•¿æŒ‰ï¼Œä¸æ‰§è¡Œæ‰“å¼€åº”ç”¨çš„æ“ä½œ
            if (isLongPress) {
                isLongPress = false;
                return;
            }
            
            // å¦‚æœæ˜¯çŸ­æŒ‰ä¸”å½“å‰æ²¡æœ‰æ˜¾ç¤ºä¿¡æ¯æ¡†ï¼Œæ­£å¸¸æ‰“å¼€åº”ç”¨
            if (touchDuration < 500 && !hoverInfo) {
                // è¿™é‡Œä¸é˜»æ­¢äº‹ä»¶ï¼Œè®©onclickæ­£å¸¸æ‰§è¡Œ
                return;
            }
            
            // å¦‚æœå½“å‰æœ‰ä¿¡æ¯æ¡†æ˜¾ç¤ºï¼Œç¬¬ä¸€æ¬¡ç‚¹å‡»éšè—ä¿¡æ¯æ¡†
            if (hoverInfo) {
                hideHoverInfo();
                event.preventDefault();
                return;
            }
        }

        // è§¦æ‘¸ç§»åŠ¨äº‹ä»¶ï¼ˆå–æ¶ˆé•¿æŒ‰ï¼‰
        function handleTouchMove() {
            if (longPressTimer) {
                clearTimeout(longPressTimer);
                longPressTimer = null;
            }
        }

        // ç‚¹å‡»å…¶ä»–åœ°æ–¹éšè—æ‚¬åœä¿¡æ¯
        document.addEventListener('click', (event) => {
            if (hoverInfo && !event.target.closest('.app-icon')) {
                hideHoverInfo();
            }
        });

        // å…¨å±€å‡½æ•°ä¾›HTMLè°ƒç”¨
        window.handleMouseEnter = handleMouseEnter;
        window.handleMouseLeave = handleMouseLeave;
        window.handleTouchStart = handleTouchStart;
        window.handleTouchEnd = handleTouchEnd;

        // æ¸²æŸ“åˆ‡æ¢å™¨åº”ç”¨å›¾æ ‡ï¼ˆè¶…ç´§å‡‘ç‰ˆï¼‰
        function renderSwitcherAppIcon(app) {
            const isFaIcon = typeof app.icon === 'string' && (app.icon.startsWith('fas ') || app.icon.includes('fa-'));
            const iconHtml = isFaIcon
                ? `<i class="${app.icon} text-white text-sm"></i>`
                : `<span class="text-sm text-white">${app.icon}</span>`;

            return `
                <div class="switcher-app-icon text-center flex flex-col items-center justify-start w-full h-full min-h-0" 
                     data-app-id="${app.id}" 
                     onclick="openApp('${app.id}')">
                    <div class="icon-container bg-gradient-to-br ${app.gradient} rounded-md p-1.5 w-10 h-10 flex-shrink-0 flex items-center justify-center shadow-sm mb-1" 
                         style="min-width: 40px; min-height: 40px; max-width: 40px; max-height: 40px;">
                        ${iconHtml}
                    </div>
                    <p class="switcher-app-name text-center text-[9px] leading-tight line-clamp-2 w-full px-0.5 flex-shrink-0">${app.name}</p>
                </div>
            `;
        }

        // æ³¨ï¼šè¿”å›ä¸»é¡µæŒ‰é’®ç°åœ¨åœ¨æ ‡é¢˜æ ä¸­ï¼Œä¸å†éœ€è¦å•ç‹¬æ¸²æŸ“

        // ç²å–é«”é©—æ¨™ç±¤æ¨£å¼ï¼ˆæ ¹æ“šå¢ƒåœ°ä¸»é¡Œè‰²ï¼‰
        function getExperienceBadgeStyle(realmId) {
            const styles = {
                'hanmo': {
                    bg: 'bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30',
                    border: 'border-blue-200 dark:border-blue-700',
                    text: 'text-blue-700 dark:text-blue-300',
                    shadow: 'shadow-sm shadow-blue-200/50 dark:shadow-blue-900/30'
                },
                'qiangu': {
                    bg: 'bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-800/30',
                    border: 'border-amber-200 dark:border-amber-700',
                    text: 'text-amber-700 dark:text-amber-300',
                    shadow: 'shadow-sm shadow-amber-200/50 dark:shadow-amber-900/30'
                },
                'jinxiu': {
                    bg: 'bg-gradient-to-r from-rose-50 to-rose-100 dark:from-rose-900/30 dark:to-rose-800/30',
                    border: 'border-rose-200 dark:border-rose-700',
                    text: 'text-rose-700 dark:text-rose-300',
                    shadow: 'shadow-sm shadow-rose-200/50 dark:shadow-rose-900/30'
                },
                'yunwai': {
                    bg: 'bg-gradient-to-r from-cyan-50 to-cyan-100 dark:from-cyan-900/30 dark:to-cyan-800/30',
                    border: 'border-cyan-200 dark:border-cyan-700',
                    text: 'text-cyan-700 dark:text-cyan-300',
                    shadow: 'shadow-sm shadow-cyan-200/50 dark:shadow-cyan-900/30'
                }
            };
            return styles[realmId] || styles['hanmo'];
        }

        // æ¸²æŸ“å¢ƒåœ°åŒºå—
        function renderRealmSection(realm) {
            const realmApps = apps.filter(app => app.category === realm.id);
            const appCount = realmApps.length;
            
            // å†…è”æ ·å¼è®¾ç½®å·¦ä¾§è¾¹æ¡†é¢œè‰²ï¼ˆTailwindåŠ¨æ€ç±»å¯èƒ½ä¸ç”Ÿæ•ˆï¼‰
            let borderColorStyle = '';
            switch(realm.id) {
                case 'hanmo':
                    borderColorStyle = 'border-left: 4px solid rgb(59, 130, 246)'; // blue-500
                    break;
                case 'qiangu':
                    borderColorStyle = 'border-left: 4px solid rgb(245, 158, 11)'; // amber-500
                    break;
                case 'jinxiu':
                    borderColorStyle = 'border-left: 4px solid rgb(244, 63, 94)'; // rose-500
                    break;
                case 'yunwai':
                    borderColorStyle = 'border-left: 4px solid rgb(6, 182, 212)'; // cyan-500
                    break;
            }
            
            // ç²å–æ¨™ç±¤æ¨£å¼
            const badgeStyle = getExperienceBadgeStyle(realm.id);
            
            return `
                <section class="mb-12">
                    <!-- å·¦ä¾§è‰²æ¡ + ç™½è‰²å¡ç‰‡ -->
                    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow" 
                         style="${borderColorStyle}">
                        
                        <!-- æ ‡é¢˜è¡Œ -->
                        <div class="flex items-center gap-3 mb-2">
                            <span class="text-2xl">${realm.icon}</span>
                            <h2 class="text-xl font-bold ${realm.titleColor}">${realm.name}</h2>
                            <span class="text-sm text-gray-400">Â·</span>
                            <span class="text-sm text-gray-500 dark:text-gray-400">${realm.subtitle}</span>
                    </div>
                        
                        
                        <!-- åº”ç”¨ç½‘æ ¼ -->
                        <div class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3 pl-1">
                            ${realmApps.map(app => renderAppIcon(app)).join('')}
                </div>
                    </div>
                </section>
            `;
        }

        // æ¸²æŸ“æ‰€æœ‰å¢ƒåœ°
        function renderAllRealms() {
            const container = document.getElementById('realmsContainer');
            if (!container) return;
            
            // æ¸²æŸ“å››å¢ƒ
            const realmsHTML = realms.map(realm => renderRealmSection(realm)).join('');
            
            // å…³äºæœ¬ç«™
            const aboutHTML = `
                <section class="mt-4">
                    <h2 class="text-lg font-bold mb-4 text-gray-700 dark:text-gray-300">é—œæ–¼æœ¬ç«™</h2>
                    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-5 rounded-lg shadow-sm">
                        <p class="mb-3 text-sm text-gray-600 dark:text-gray-400">
                            æœ¬ç¶²ç«™æ‰€æœ‰ç¨‹åºç”±æ›¸é™¢ä¸­æ–‡ç¶“å…¸è€å¸«é–‹ç™¼ï¼Œæ­¡è¿è¨ªå•
                            <a href="https://sites.google.com/lms.isf.edu.hk/isf-shuyuan-website/classics/chinese-classics" class="text-primary hover:underline" target="_blank">æ›¸é™¢ä¸­æ–‡ç¶“å…¸ç¶²ç«™</a>ï¼Œ
                            ä»¥åŠ<a href="https://sites.google.com/isf.edu.hk/chineseclassics" class="text-primary hover:underline" target="_blank">ä¸­æ–‡ç¶“å…¸å°ˆé¡Œå­¸ç¿’ç¶²ç«™</a>ã€‚
                        </p>
                        <div class="mt-4 pt-3 border-t border-gray-300 dark:border-gray-600">
                            <p class="text-xs text-gray-500 dark:text-gray-500 text-center">
                                <i class="fas fa-copyright mr-1"></i>
                                ç‰ˆæ¬Šæ‰€æœ‰ Â© 2024 æ›¸é™¢ä¸­æ–‡ç¶“å…¸ | 
                                <a href="https://github.com/chineseclassics/chineseclassics.github.io/blob/main/LICENSE" class="text-primary hover:underline" target="_blank">MIT License</a> | 
                                æ•™è‚²ç”¨é€”å…è²»ï¼Œå•†æ¥­ç”¨é€”è«‹è¯ç¹«æˆæ¬Š
                            </p>
                        </div>
                    </div>
                </section>
            `;
            
            container.innerHTML = realmsHTML + aboutHTML;
        }

        // æ¸²æŸ“åº”ç”¨ç½‘æ ¼ï¼ˆç”¨äºåº”ç”¨åˆ‡æ¢å™¨ï¼‰
        function renderApps() {
            let html = '';
            
            // æŒ‰å¢ƒåœ°åˆ†ç»„æ˜¾ç¤º
            realms.forEach((realm, index) => {
                const realmApps = apps.filter(app => app.category === realm.id);
                if (realmApps.length > 0) {
                    // æ·»åŠ å¢ƒåœ°åˆ†éš”ç¬¦ï¼ˆç´§å‡‘ç‰ˆï¼Œç¬¬ä¸€ä¸ªå¢ƒåœ°ä¸éœ€è¦ä¸Šè¾¹è·ï¼‰
                    html += `
                        <div class="col-span-full ${index > 0 ? 'mt-3' : ''} mb-1 px-1">
                            <div class="flex items-center gap-1.5">
                                <span class="text-xs">${realm.icon}</span>
                                <span class="text-[10px] font-semibold ${realm.titleColor}">${realm.name}</span>
                                <div class="flex-1 h-px bg-gray-200 dark:bg-gray-700"></div>
                            </div>
                        </div>
                    `;
                    // æ·»åŠ è¯¥å¢ƒåœ°çš„åº”ç”¨
                    html += realmApps.map(app => renderSwitcherAppIcon(app)).join('');
                }
            });
            
            switcherAppGrid.innerHTML = html;
        }

        // æ‰“å¼€åº”ç”¨ï¼ˆç›´æ¥è·³è½¬ï¼‰
        function openApp(appId) {
            const app = apps.find(a => a.id === appId);
            if (!app) return;

            // ç›´æ¥è·³è½¬åˆ°åº”ç”¨é¡µé¢
            window.location.href = app.url;
        }

        // å›åˆ°é¦–é¡µï¼ˆç›´æ¥è·³è½¬ï¼‰
        function showHome() {
            window.location.href = '/index.html';
        }

        // æ˜¾ç¤ºåº”ç”¨åˆ‡æ¢å™¨ï¼ˆå¸¦åŠ¨ç”»ï¼‰- ä¼˜åŒ–ç‰ˆ
        function showAppSwitcher() {
            appSwitcherModal.classList.add('switcher-modal-show');
            // ä½¿ç”¨requestAnimationFrameä¼˜åŒ–æ€§èƒ½
            requestAnimationFrame(() => {
                // åœ¨ç§»åŠ¨ç«¯ä¹Ÿç¦ç”¨bodyæ»šåŠ¨ï¼Œå› ä¸ºæ¨¡æ€çª—å£å†…éƒ¨è‡ªå·±æœ‰æ»šåŠ¨
                document.body.style.overflow = 'hidden';
                // ç§»åŠ¨ç«¯é¢å¤–è®¾ç½®
                if (isMobile()) {
                    document.body.style.position = 'fixed';
                    document.body.style.width = '100%';
                }
            });
        }

        // æ˜¾ç¤ºæ‚¬æµ®logoçš„åº”ç”¨åˆ‡æ¢å™¨
        function showFloatingAppSwitcher() {
            showAppSwitcher(); // å¤ç”¨ä¸»å‡½æ•°
        }

        // éšè—åº”ç”¨åˆ‡æ¢å™¨ï¼ˆå¸¦åŠ¨ç”»ï¼‰- ä¼˜åŒ–ç‰ˆ
        function hideAppSwitcher() {
            appSwitcherModal.classList.remove('switcher-modal-show');
            // ä½¿ç”¨requestAnimationFrameä¼˜åŒ–æ€§èƒ½
            requestAnimationFrame(() => {
                document.body.style.overflow = '';
                // ç§»åŠ¨ç«¯æ¸…é™¤é¢å¤–è®¾ç½®
                if (isMobile()) {
                    document.body.style.position = '';
                    document.body.style.width = '';
                }
            });
        }
        
        document.getElementById('closeSwitcherBtn').onclick = hideAppSwitcher;

        // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
        appSwitcherModal.onclick = (e) => {
            if (e.target === appSwitcherModal) {
                hideAppSwitcher();
            }
        };

        // ESCé”®å…³é—­åˆ‡æ¢å™¨
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && appSwitcherModal.classList.contains('switcher-modal-show')) {
                hideAppSwitcher();
            }
        });

        // æ£€æŸ¥æ˜¯å¦æ˜¯ç§»åŠ¨è®¾å¤‡
        function isMobile() {
            return window.innerWidth <= 768;
        }



        // éµç›¤å°èˆªæ”¯æ´
        document.addEventListener('keydown', (e) => {
            // ESCéµè™•ç†
            if (e.key === 'Escape') {
                // è™•ç†æ‡‰ç”¨åˆ‡æ›å™¨
                if (appSwitcherModal.classList.contains('switcher-modal-show')) {
                    hideAppSwitcher();
                    return;
                }
            }
            
            // Enteræˆ–Spaceéµè™•ç†èšç„¦çš„æ‡‰ç”¨åœ–æ¨™
            if ((e.key === 'Enter' || e.key === ' ') && e.target.classList.contains('app-icon')) {
                e.preventDefault();
                const appId = e.target.getAttribute('data-app-id');
                if (appId) {
                    openApp(appId);
                }
            }
        });

        // æ€§èƒ½å„ªåŒ–ï¼šä½¿ç”¨Intersection Observeræ‡¶è¼‰å…¥æ‡‰ç”¨æè¿°
        const observerOptions = {
            root: null,
            rootMargin: '50px',
            threshold: 0.1
        };

        const appIconObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const appIcon = entry.target;
                    const appId = appIcon.getAttribute('data-app-id');
                    const app = apps.find(a => a.id === appId);
                    
                    if (app && app.description) {
                        appIcon.setAttribute('data-loaded', 'true');
                    }
                }
            });
        }, observerOptions);



        // åˆå§‹åŒ–
        renderAllRealms();  // æ¸²æŸ“å››å¢ƒä¸»é¡µ
        renderApps();       // æ¸²æŸ“åº”ç”¨åˆ‡æ¢å™¨
        
        // è§€å¯Ÿæ‰€æœ‰æ‡‰ç”¨åœ–æ¨™
        setTimeout(() => {
            document.querySelectorAll('.app-icon').forEach(icon => {
                appIconObserver.observe(icon);
            });
        }, 100);
    </script>
</body>
</html>
