<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤ªè™›å¹»å¢ƒï¼šæ›¸é™¢ä¸­æ–‡ç¶“å…¸æ•¸å­—é«”é©—å­¸ç¿’</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="å¤ªè™›å¹»å¢ƒæ˜¯æ›¸é™¢ä¸­æ–‡ç¶“å…¸çš„æ•¸å­—åŒ–å­¸ç¿’å¹³å°ï¼Œé€šéäº’å‹•éŠæˆ²å’Œå‰µæ–°é«”é©—æ¢ç´¢ä¸­åœ‹å¤å…¸æ–‡å­¸ä¹‹ç¾ã€‚">
    <meta name="keywords" content="ä¸­æ–‡ç¶“å…¸,å¤å…¸æ–‡å­¸,è©©è©,æ•™è‚²éŠæˆ²,æ•¸å­—å­¸ç¿’,å¤ªè™›å¹»å¢ƒ">
    <meta name="author" content="æ›¸é™¢ä¸­æ–‡ç¶“å…¸">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://chineseclassics.github.io/">
    <meta property="og:title" content="å¤ªè™›å¹»å¢ƒï¼šæ›¸é™¢ä¸­æ–‡ç¶“å…¸æ•¸å­—é«”é©—å­¸ç¿’">
    <meta property="og:description" content="æ¢ç´¢ä¸­åœ‹å¤å…¸æ–‡å­¸çš„æ•¸å­—åŒ–å­¸ç¿’å¹³å°">
    <meta property="og:image" content="https://chineseclassics.github.io/images/cclogo.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://chineseclassics.github.io/">
    <meta property="twitter:title" content="å¤ªè™›å¹»å¢ƒï¼šæ›¸é™¢ä¸­æ–‡ç¶“å…¸æ•¸å­—é«”é©—å­¸ç¿’">
    <meta property="twitter:description" content="æ¢ç´¢ä¸­åœ‹å¤å…¸æ–‡å­¸çš„æ•¸å­—åŒ–å­¸ç¿’å¹³å°">
    <meta property="twitter:image" content="https://chineseclassics.github.io/images/cclogo.png">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="https://cdn.tailwindcss.com" as="script">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    <link rel="preload" href="https://chineseclassics.github.io/images/cclogo.png" as="image">
    
    <!-- Vercel Analytics & Speed Insights -->
    <script defer src="https://cdn.vercel-insights.com/v1/script.js"></script>
    
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "s084at54sp");
    </script>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5QLKSHKQ71"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-5QLKSHKQ71');
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                    }
                }
            },
            darkMode: 'class'
        }

        // æª¢æ¸¬æš—é»‘æ¨¡å¼
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>
    <style>
        .app-icon {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
        }
        .app-icon:hover {
            transform: translateY(-2px) scale(1.05);
        }
        .app-icon:active {
            transform: translateY(0) scale(0.98);
        }
        .app-icon:focus {
            outline: 2px solid #5D5CDE;
            outline-offset: 2px;
        }
        
        /* å„ªåŒ–çš„å¡ç‰‡é™°å½± */
        .app-icon .shadow-lg {
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease;
        }
        .app-icon:hover .shadow-lg {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .app-container {
            height: calc(100vh - 64px);
        }
        
        @media (max-width: 768px) {
            .app-container {
                height: calc(100vh - 64px);
            }
        }
        

        
        /* åº”ç”¨è¯¦æƒ…æç¤ºæ¡† */
        .app-tooltip {
            position: absolute;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            width: 320px;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            pointer-events: none;
        }
        
        .app-tooltip.show {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        
        .app-tooltip.dark {
            background: #1f2937;
            border-color: #374151;
            color: #f9fafb;
        }
        
        .app-tooltip-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #111827;
        }
        
        .app-tooltip.dark .app-tooltip-title {
            color: #f9fafb;
        }
        
        .app-tooltip-subtitle {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 12px;
        }
        
        .app-tooltip.dark .app-tooltip-subtitle {
            color: #9ca3af;
        }
        
        .app-tooltip-features {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .app-tooltip-features li {
            font-size: 13px;
            color: #4b5563;
            margin-bottom: 6px;
            padding-left: 16px;
            position: relative;
        }
        
        .app-tooltip.dark .app-tooltip-features li {
            color: #d1d5db;
        }
        
        .app-tooltip-features li::before {
            content: "â€¢";
            color: #5D5CDE;
            position: absolute;
            left: 0;
            font-weight: bold;
        }
        
        .app-tooltip-quote {
            font-style: italic;
            color: #6b7280;
            font-size: 12px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #e5e7eb;
        }
        
        .app-tooltip.dark .app-tooltip-quote {
            color: #9ca3af;
            border-top-color: #374151;
        }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .app-tooltip {
                width: 280px;
                font-size: 14px;
            }
        }
        
        /* åº”ç”¨åˆ‡æ¢å™¨æ ·å¼ä¼˜åŒ– */
        .switcher-content {
            max-height: calc(85vh - 100px);
            overflow-y: auto;
            /* éšè—æ»šåŠ¨æ¡ä½†ä¿æŒæ»šåŠ¨åŠŸèƒ½ */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .switcher-content::-webkit-scrollbar {
            display: none; /* Safari and Chrome */
        }
        
        /* åº”ç”¨åˆ‡æ¢å™¨å›¾æ ‡ä¼˜åŒ– */
        .switcher-app-icon {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
        }
        
        .switcher-app-icon:hover {
            transform: translateY(-2px) scale(1.05);
        }
        
        .switcher-app-icon:active {
            transform: translateY(0) scale(0.98);
        }
        
        .switcher-app-icon .icon-container {
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .switcher-app-icon:hover .icon-container {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .switcher-app-icon .icon-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }
        
        .switcher-app-icon:hover .icon-container::before {
            left: 100%;
        }
        
        /* åº”ç”¨åç§°æ ·å¼ä¼˜åŒ– */
        .switcher-app-name {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            line-height: 1.2;
            height: 2.4em;
            font-size: 11px;
            font-weight: 500;
            color: #374151;
            transition: color 0.2s ease;
        }
        
        .dark .switcher-app-name {
            color: #d1d5db;
        }
        
        .switcher-app-icon:hover .switcher-app-name {
            color: #5D5CDE;
        }
        
        .dark .switcher-app-icon:hover .switcher-app-name {
            color: #818cf8;
        }
        
        /* åº”ç”¨åˆ‡æ¢å™¨åŠ¨ç”»æ˜¾ç¤º */
        .switcher-modal-show {
            opacity: 1 !important;
            pointer-events: auto !important;
        }
        
        .switcher-modal-show #switcherContainer {
            transform: scale(1) !important;
        }
        
        /* äº‘æ°”ç²’å­åŠ¨ç”»æ•ˆæœ */
        .cloud-particle {
            position: absolute;
            pointer-events: none;
            opacity: 0;
            filter: blur(6px);
            animation: float-clouds 25s infinite linear;
        }
        
        /* äº‘æœµå½¢çŠ¶ - ä½¿ç”¨å¤šä¸ªåœ†å½¢é‡å åˆ›å»ºçœŸå®äº‘æœµè½®å»“ï¼Œæ¯æœµäº‘æœ‰ç‹¬ç‰¹çš„é…è‰² */
        
        /* æœˆç™½äº‘ - ç»å…¸çº¯å‡€ç™½è‰² */
        .cloud-1 {
            width: 120px;
            height: 60px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.5) 0%, rgba(248, 250, 252, 0.3) 40%, transparent 70%);
            border-radius: 60px;
            animation-delay: 0s;
        }
        
        .cloud-1::before {
            content: '';
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, rgba(248, 250, 252, 0.2) 40%, transparent 70%);
            border-radius: 50%;
            top: -20px;
            left: 10px;
        }
        
        .cloud-1::after {
            content: '';
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.45) 0%, rgba(248, 250, 252, 0.25) 40%, transparent 70%);
            border-radius: 50%;
            top: -15px;
            right: 15px;
        }
        
        /* è–°è¡£è‰ç´«äº‘ - ä¼˜é›…æ·¡ç´«è‰² */
        .cloud-2 {
            width: 100px;
            height: 50px;
            background: radial-gradient(circle, rgba(196, 181, 253, 0.4) 0%, rgba(221, 214, 254, 0.25) 40%, transparent 70%);
            border-radius: 50px;
            animation-delay: 4s;
        }
        
        .cloud-2::before {
            content: '';
            position: absolute;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, rgba(196, 181, 253, 0.35) 0%, rgba(221, 214, 254, 0.2) 40%, transparent 70%);
            border-radius: 50%;
            top: -25px;
            left: 5px;
        }
        
        .cloud-2::after {
            content: '';
            position: absolute;
            width: 50px;
            height: 50px;
            background: radial-gradient(circle, rgba(196, 181, 253, 0.4) 0%, rgba(221, 214, 254, 0.22) 40%, transparent 70%);
            border-radius: 50%;
            top: -20px;
            right: 10px;
        }
        
        /* å¤©é’äº‘ - æ¸…æ–°å¤©è“è‰² */
        .cloud-3 {
            width: 140px;
            height: 70px;
            background: radial-gradient(circle, rgba(147, 197, 253, 0.4) 0%, rgba(186, 230, 253, 0.25) 40%, transparent 70%);
            border-radius: 70px;
            animation-delay: 8s;
        }
        
        .cloud-3::before {
            content: '';
            position: absolute;
            width: 90px;
            height: 90px;
            background: radial-gradient(circle, rgba(147, 197, 253, 0.35) 0%, rgba(186, 230, 253, 0.2) 40%, transparent 70%);
            border-radius: 50%;
            top: -30px;
            left: 15px;
        }
        
        .cloud-3::after {
            content: '';
            position: absolute;
            width: 65px;
            height: 65px;
            background: radial-gradient(circle, rgba(147, 197, 253, 0.38) 0%, rgba(186, 230, 253, 0.23) 40%, transparent 70%);
            border-radius: 50%;
            top: -25px;
            right: 20px;
        }
        
        /* é¦™æ§Ÿé‡‘äº‘ - æ¸©æš–é‡‘è‰²è°ƒ */
        .cloud-4 {
            width: 80px;
            height: 40px;
            background: radial-gradient(circle, rgba(254, 240, 138, 0.4) 0%, rgba(255, 251, 235, 0.25) 40%, transparent 70%);
            border-radius: 40px;
            animation-delay: 12s;
        }
        
        .cloud-4::before {
            content: '';
            position: absolute;
            width: 55px;
            height: 55px;
            background: radial-gradient(circle, rgba(254, 240, 138, 0.35) 0%, rgba(255, 251, 235, 0.2) 40%, transparent 70%);
            border-radius: 50%;
            top: -20px;
            left: 8px;
        }
        
        .cloud-4::after {
            content: '';
            position: absolute;
            width: 45px;
            height: 45px;
            background: radial-gradient(circle, rgba(254, 240, 138, 0.38) 0%, rgba(255, 251, 235, 0.23) 40%, transparent 70%);
            border-radius: 50%;
            top: -15px;
            right: 12px;
        }
        
        /* ç«ç‘°äº‘ - æŸ”å’Œç²‰ç´«è‰² */
        .cloud-5 {
            width: 110px;
            height: 55px;
            background: radial-gradient(circle, rgba(244, 114, 182, 0.3) 0%, rgba(251, 207, 232, 0.2) 40%, transparent 70%);
            border-radius: 55px;
            animation-delay: 16s;
        }
        
        .cloud-5::before {
            content: '';
            position: absolute;
            width: 75px;
            height: 75px;
            background: radial-gradient(circle, rgba(244, 114, 182, 0.25) 0%, rgba(251, 207, 232, 0.15) 40%, transparent 70%);
            border-radius: 50%;
            top: -25px;
            left: 12px;
        }
        
        .cloud-5::after {
            content: '';
            position: absolute;
            width: 55px;
            height: 55px;
            background: radial-gradient(circle, rgba(244, 114, 182, 0.28) 0%, rgba(251, 207, 232, 0.18) 40%, transparent 70%);
            border-radius: 50%;
            top: -20px;
            right: 18px;
        }
        
        /* é’ç‰äº‘ - æ¸…é›…é’ç»¿è‰² */
        .cloud-6 {
            width: 130px;
            height: 65px;
            background: radial-gradient(circle, rgba(134, 239, 172, 0.35) 0%, rgba(220, 252, 231, 0.22) 40%, transparent 70%);
            border-radius: 65px;
            animation-delay: 20s;
        }
        
        .cloud-6::before {
            content: '';
            position: absolute;
            width: 85px;
            height: 85px;
            background: radial-gradient(circle, rgba(134, 239, 172, 0.3) 0%, rgba(220, 252, 231, 0.18) 40%, transparent 70%);
            border-radius: 50%;
            top: -28px;
            left: 18px;
        }
        
        .cloud-6::after {
            content: '';
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, rgba(134, 239, 172, 0.33) 0%, rgba(220, 252, 231, 0.2) 40%, transparent 70%);
            border-radius: 50%;
            top: -22px;
            right: 22px;
        }
        
        @keyframes float-clouds {
            0% {
                opacity: 0;
                transform: translateX(-150px) translateY(0px) scale(0.5) rotate(0deg);
            }
            5% {
                opacity: 0.6;
                transform: translateX(-120px) translateY(-5px) scale(0.7) rotate(1deg);
            }
            15% {
                opacity: 0.8;
                transform: translateX(-80px) translateY(8px) scale(1) rotate(-1deg);
            }
            25% {
                opacity: 1;
                transform: translateX(-40px) translateY(-12px) scale(1.1) rotate(0.5deg);
            }
            35% {
                opacity: 0.9;
                transform: translateX(0px) translateY(15px) scale(1.2) rotate(-0.5deg);
            }
            45% {
                opacity: 0.8;
                transform: translateX(40px) translateY(-8px) scale(1.1) rotate(1deg);
            }
            55% {
                opacity: 0.7;
                transform: translateX(80px) translateY(20px) scale(1) rotate(-1deg);
            }
            65% {
                opacity: 0.6;
                transform: translateX(120px) translateY(-15px) scale(0.9) rotate(0.5deg);
            }
            75% {
                opacity: 0.5;
                transform: translateX(160px) translateY(10px) scale(0.8) rotate(-0.5deg);
            }
            85% {
                opacity: 0.3;
                transform: translateX(200px) translateY(-5px) scale(0.7) rotate(1deg);
            }
            95% {
                opacity: 0.1;
                transform: translateX(240px) translateY(5px) scale(0.6) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateX(280px) translateY(0px) scale(0.5) rotate(0deg);
            }
        }
        
        /* å¹»å¢ƒå…‰æ•ˆ */
        .mystic-glow {
            position: absolute;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(93, 92, 222, 0.1) 0%, transparent 70%);
            animation: mystic-pulse 6s ease-in-out infinite;
        }
        
        .mystic-glow:nth-child(2) {
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, rgba(129, 140, 248, 0.08) 0%, transparent 70%);
            animation-delay: 2s;
            animation-duration: 8s;
        }
        
        .mystic-glow:nth-child(3) {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(165, 180, 252, 0.06) 0%, transparent 70%);
            animation-delay: 4s;
            animation-duration: 10s;
        }
        
        @keyframes mystic-pulse {
            0%, 100% {
                opacity: 0.3;
                transform: scale(1);
            }
            50% {
                opacity: 0.6;
                transform: scale(1.1);
            }
        }

        /* å“åº”å¼ç½‘æ ¼è°ƒæ•´ */
        @media (max-width: 640px) {
            #switcherAppGrid {
                grid-template-columns: repeat(3, 1fr);
                gap: 1rem;
                padding: 1.5rem 1.5rem 1.5rem 1.5rem !important;
            }
        }
        
        @media (min-width: 641px) and (max-width: 768px) {
            #switcherAppGrid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            #switcherAppGrid {
                grid-template-columns: repeat(5, 1fr);
            }
        }
        
        @media (min-width: 1025px) {
            #switcherAppGrid {
                grid-template-columns: repeat(6, 1fr);
            }
        }
        
        /* å„ªåŒ–çš„åŠ è¼‰å‹•ç•« */
        .enhanced-loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 200px;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(93, 92, 222, 0.1);
            border-top: 3px solid #5D5CDE;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #6b7280;
            animation: pulse 2s ease-in-out infinite;
        }
        
        /* éª¨æ¶å±å‹•ç•« */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
        }
        
        .dark .skeleton {
            background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
            background-size: 200% 100%;
        }
        
        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* æ”¹é€²çš„éŒ¯èª¤ç‹€æ…‹ */
        .error-container {
            text-align: center;
            padding: 2rem;
            color: #6b7280;
        }
        .error-container i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #f59e0b;
        }
        
        /* éµç›¤å°èˆªå¢å¼· */
        .app-icon:focus-visible {
            outline: 2px solid #5D5CDE;
            outline-offset: 2px;
            border-radius: 0.5rem;
        }
        
        /* ç„¡éšœç¤™è¨ªå•å„ªåŒ– */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen">
    <!-- æ¬¢è¿å¼¹çª— - å„ªåŒ–ç‰ˆ -->
    <div id="welcomeModal" 
         class="fixed inset-0 z-[99999] flex items-center justify-center p-4 bg-black bg-opacity-70 backdrop-blur-sm opacity-0 transform scale-95 transition-all duration-300 ease-out"
         role="dialog" 
         aria-labelledby="welcomeTitle" 
         aria-describedby="welcomeDescription"
         aria-modal="true">
        <div class="relative bg-gradient-to-br from-stone-50 via-amber-50/50 to-rose-50/30 dark:from-stone-800 dark:via-stone-700 dark:to-rose-900/30 rounded-3xl max-w-2xl w-full shadow-2xl border border-stone-200/60 dark:border-stone-600/60 overflow-hidden">
            <!-- é—œé–‰æŒ‰éˆ• -->
            <button id="skipWelcomeBtn" 
                    class="absolute top-4 right-4 z-10 w-8 h-8 rounded-full bg-black bg-opacity-20 hover:bg-opacity-40 text-white hover:text-gray-200 transition-all duration-200 flex items-center justify-center backdrop-blur-sm"
                    aria-label="è·³éæ­¡è¿è¨Šæ¯">
                <i class="fas fa-times text-sm"></i>
            </button>
            <!-- è£…é¥°æ€§è¾¹æ¡† -->
            <div class="absolute inset-0 bg-gradient-to-br from-amber-50/20 via-transparent to-rose-50/20 pointer-events-none"></div>
            
            <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
            <div class="relative p-8 md:p-12 text-center">
                <!-- æ ‡é¢˜è£…é¥° -->
                <div class="mb-8">
                    <div class="w-16 h-1 bg-gradient-to-r from-transparent via-stone-400/60 to-transparent mx-auto mb-4"></div>
                    <h2 id="welcomeTitle" class="text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-stone-600 via-amber-700/80 to-stone-600 dark:from-stone-300 dark:via-amber-400/70 dark:to-stone-300">
                        å¤ªè™›å¹»å¢ƒ
                    </h2>
                    <div class="w-16 h-1 bg-gradient-to-r from-transparent via-stone-400/60 to-transparent mx-auto mt-4"></div>
                </div>

                <!-- è¯—è¯éƒ¨åˆ† -->
                <div id="welcomeDescription" class="mb-8 space-y-2 text-lg md:text-xl leading-relaxed text-stone-700 dark:text-stone-200 font-serif" role="poem">
                    <p class="hover:text-amber-700/80 dark:hover:text-amber-300/80 transition-colors duration-300">æ–¹å¯¸éˆè‡ºå…¥å¤ªè™›ï¼Œ</p>
                    <p class="hover:text-amber-700/80 dark:hover:text-amber-300/80 transition-colors duration-300">è©©é­„åŠé­‚å¹»å¢ƒå±…ã€‚</p>
                    <p class="hover:text-amber-700/80 dark:hover:text-amber-300/80 transition-colors duration-300">ç‰å±ä¸€é»è¶Šåƒè¼‰ï¼Œ</p>
                    <p class="hover:text-amber-700/80 dark:hover:text-amber-300/80 transition-colors duration-300">å¤æ„ä»Šæƒ…å…©ä¸æ¸ã€‚</p>
                </div>

                <!-- åˆ†éš”çº¿ -->
                <div class="w-24 h-0.5 bg-gradient-to-r from-transparent via-stone-300/60 to-transparent mx-auto mb-6"></div>

                <!-- è¯´æ˜æ–‡å­— -->
                <div class="mb-8 text-sm md:text-base leading-relaxed text-stone-600 dark:text-stone-300 font-serif max-w-lg mx-auto">
                    <p class="mb-3">æ­¤ã€Œå¤ªè™›å¹»å¢ƒã€è€…ï¼Œä¹ƒå¸«è€…é‹å¿ƒï¼Œå€Ÿæ•¸å­—éˆçŠ€ï¼ŒåŒ–ç¶“å…¸ç‚ºéŠæˆ²è€Œæˆã€‚</p>
                    <p class="mb-3">é¡˜è«¸å›ç¥éŠï¼Œæ‚…ç›®å•Ÿæ™ºï¼Œäº¦å¾—é›…è¶£ã€‚</p>
                    <p>ç¸±ä»£ç¢¼èŒ«èŒ«ï¼Œbugæ™‚ç¾ï¼Œè«è¬‚è™›è€Œä¸å¯¦ï¼Œè“‹ç¶“å…¸ä¹‹ç¾©ç†æƒ…æ‡·ï¼Œç„¡é—œä»Šå¤ï¼ŒçœŸå¯¦ä¸è™›ã€‚</p>
                </div>

                <!-- å¼€å§‹æ¢ç´¢æŒ‰é’®å’Œé€‰é¡¹ -->
                <div class="flex flex-col items-center space-y-4">
                    <button id="startExploreBtn" 
                            class="group relative inline-flex items-center justify-center px-8 py-3 text-lg font-medium text-white bg-gradient-to-r from-stone-500/80 to-amber-600/80 hover:from-amber-600/90 hover:to-stone-600/90 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 ease-out focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2">
                        <span class="relative z-10">é–‹å§‹æ¢ç´¢</span>
                        <div class="absolute inset-0 bg-gradient-to-r from-amber-400/60 to-stone-500/60 rounded-full opacity-0 group-hover:opacity-30 transition-opacity duration-300"></div>
                    </button>
                </div>
            </div>

            <!-- åº•éƒ¨è£…é¥° -->
            <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-stone-300/60 via-amber-400/60 to-stone-300/60"></div>
        </div>
    </div>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-2 fixed top-0 left-0 right-0 z-50">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <!-- ç½‘ç«™Logo -->
                <img src="https://chineseclassics.github.io/images/cclogo.png" 
                     alt="æ›¸é™¢ä¸­æ–‡ç¶“å…¸" 
                     class="h-12 w-12 object-contain cursor-pointer hover:opacity-80 transition-opacity"
                     onclick="showHome()">
                
                <button id="homeBtn" class="flex items-center space-x-2 px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-primary transition-colors">
                    <i class="fas fa-home"></i>
                    <span class="hidden sm:inline">é¦–é </span>
                </button>
                <div class="hidden sm:block text-gray-400 dark:text-gray-600">|</div>
                <h1 id="currentAppName" class="text-lg sm:text-lg text-sm font-semibold text-gray-800 dark:text-gray-200 whitespace-nowrap overflow-hidden text-ellipsis">å¤ªè™›å¹»å¢ƒï¼šæ›¸é™¢ä¸­æ–‡ç¶“å…¸æ•¸å­—é«”é©—å­¸ç¿’</h1>
            </div>
            
            <div class="flex items-center space-x-2">
                <button id="appSwitcherBtn" class="p-2 text-gray-600 dark:text-gray-300 hover:text-primary transition-colors">
                    <i class="fas fa-th"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="pt-16">
        <!-- é¦–é¡µè§†å›¾ -->
        <div id="homeView">
            <div class="py-8 px-4 mb-10 relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-r from-indigo-900/10 via-primary/20 to-indigo-900/10 dark:from-indigo-900/30 dark:via-primary/40 dark:to-indigo-900/30"></div>
                
                <!-- å¹»å¢ƒå…‰æ•ˆ -->
                <div class="mystic-glow absolute top-1/4 left-1/4"></div>
                <div class="mystic-glow absolute top-3/4 right-1/3"></div>
                <div class="mystic-glow absolute top-1/2 left-2/3"></div>
                
                <!-- æµ®åŠ¨äº‘æ°” -->
                <div class="cloud-particle cloud-1 absolute" style="left: 5%; top: 15%;"></div>
                <div class="cloud-particle cloud-2 absolute" style="left: 75%; top: 25%;"></div>
                <div class="cloud-particle cloud-3 absolute" style="left: 25%; top: 55%;"></div>
                <div class="cloud-particle cloud-4 absolute" style="left: 85%; top: 10%;"></div>
                <div class="cloud-particle cloud-5 absolute" style="left: 45%; top: 75%;"></div>
                <div class="cloud-particle cloud-6 absolute" style="left: 15%; top: 65%;"></div>
                <div class="cloud-particle cloud-1 absolute" style="left: 95%; top: 45%;"></div>
                <div class="cloud-particle cloud-2 absolute" style="left: 10%; top: 35%;"></div>
                <div class="cloud-particle cloud-3 absolute" style="left: 80%; top: 70%;"></div>
                <div class="cloud-particle cloud-4 absolute" style="left: 35%; top: 20%;"></div>
                <div class="cloud-particle cloud-5 absolute" style="left: 55%; top: 85%;"></div>
                <div class="cloud-particle cloud-6 absolute" style="left: 20%; top: 5%;"></div>
                
                <div class="absolute top-0 left-0 w-16 h-16 md:w-24 md:h-24 border-l-2 border-t-2 border-primary opacity-30 dark:opacity-40"></div>
                <div class="absolute bottom-0 right-0 w-16 h-16 md:w-24 md:h-24 border-r-2 border-b-2 border-primary opacity-30 dark:opacity-40"></div>
                
                <div class="container mx-auto relative z-10">
                    <h1 class="text-3xl md:text-5xl font-bold text-center">
                        <span class="bg-clip-text text-transparent bg-gradient-to-r from-indigo-700 via-primary to-indigo-700 dark:from-indigo-400 dark:via-primary dark:to-indigo-400">å¤ªè™›å¹»å¢ƒ</span>
                    </h1>
                    <h2 class="text-xl md:text-2xl font-medium text-gray-700 dark:text-gray-300 text-center mt-2">æ›¸é™¢ä¸­æ–‡ç¶“å…¸æ•¸å­—é«”é©—å­¸ç¿’</h2>
                    
                    <div class="w-24 h-1 bg-gradient-to-r from-transparent via-primary to-transparent mx-auto mt-4"></div>
                </div>
            </div>

            <div class="container mx-auto px-4 pb-12">
                <section class="mb-12">
                    <h2 class="text-2xl font-bold mb-6 text-gray-700 dark:text-gray-300">äº’å‹•å°ç¨‹åº</h2>
                    
                    <div id="appGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 md:gap-6">
                        <!-- åº”ç”¨å›¾æ ‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </section>

                <section>
                    <h2 class="text-2xl font-bold mb-4 text-gray-700 dark:text-gray-300">é—œæ–¼æœ¬ç«™</h2>
                    <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg">
                        <p class="mb-3">æœ¬ç¶²ç«™æ‰€æœ‰ç¨‹åºç”±æ›¸é™¢ä¸­æ–‡ç¶“å…¸è€å¸«é–‹ç™¼ï¼Œæ­¡è¿è¨ªå•<a href="https://sites.google.com/lms.isf.edu.hk/isf-shuyuan-website/classics/chinese-classics" class="text-primary hover:underline" target="_blank">æ›¸é™¢ä¸­æ–‡ç¶“å…¸ç¶²ç«™</a>ï¼Œä»¥åŠ<a href="https://sites.google.com/isf.edu.hk/chineseclassics" class="text-primary hover:underline" target="_blank">ä¸­æ–‡ç¶“å…¸å°ˆé¡Œå­¸ç¿’ç¶²ç«™</a>ã€‚</p>
                        <div class="mt-4 pt-3 border-t border-gray-300 dark:border-gray-600">
                            <p class="text-sm text-gray-600 dark:text-gray-400">
                                <i class="fas fa-copyright mr-1"></i>
                                ç‰ˆæ¬Šæ‰€æœ‰ Â© 2024 æ›¸é™¢ä¸­æ–‡ç¶“å…¸ | 
                                <a href="https://github.com/chineseclassics/chineseclassics.github.io/blob/main/LICENSE" class="text-primary hover:underline" target="_blank">MIT License</a> | 
                                æ•™è‚²ç”¨é€”å…è²»ï¼Œå•†æ¥­ç”¨é€”è«‹è¯ç¹«æˆæ¬Š
                            </p>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- åº”ç”¨è§†å›¾ -->
        <div id="appView" class="hidden">
            <div id="appContainer" class="app-container w-full relative">
                <iframe id="appFrame" class="w-full h-full border-0" src="about:blank"></iframe>
                
                <!-- å„ªåŒ–çš„åŠ è½½çŠ¶æ€ -->
                <div id="loadingState" class="absolute inset-0 bg-white dark:bg-gray-900 flex items-center justify-center">
                    <div class="enhanced-loading text-center">
                        <div class="loading-spinner mb-4"></div>
                        <div class="loading-text">æ­£åœ¨åŠ è¼‰æ‡‰ç”¨...</div>
                        <div class="mt-4 text-xs text-gray-500 dark:text-gray-400">
                            é¦–æ¬¡è¼‰å…¥å¯èƒ½éœ€è¦å¹¾ç§’é˜æ™‚é–“
                        </div>
                    </div>
                </div>
                
                <!-- å„ªåŒ–çš„é”™è¯¯çŠ¶æ€ -->
                <div id="errorState" class="hidden absolute inset-0 bg-white dark:bg-gray-900 flex items-center justify-center">
                    <div class="error-container max-w-md mx-auto">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mb-2">ç„¡æ³•è¼‰å…¥æ‡‰ç”¨</h3>
                        <p class="text-gray-600 dark:text-gray-400 mb-6">è©²æ‡‰ç”¨å¯èƒ½ä¸æ”¯æ´åµŒå…¥æ¨¡å¼æˆ–ç¶²è·¯é€£ç·šæœ‰å•é¡Œ</p>
                        <div class="flex flex-col sm:flex-row gap-3 justify-center">
                            <button id="openInNewTabBtn" 
                                    class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2">
                                åœ¨æ–°æ¨™ç±¤é æ‰“é–‹
                            </button>
                            <button id="retryLoadBtn" 
                                    class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-6 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2">
                                é‡æ–°å˜—è©¦
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>



    <!-- åº”ç”¨åˆ‡æ¢å™¨å¼¹çª— -->
    <div id="appSwitcherModal" class="fixed inset-0 z-[9999] flex items-center justify-center p-4 pt-20 opacity-0 pointer-events-none transition-all duration-300 ease-out">
        <div class="absolute inset-0 bg-black bg-opacity-60 backdrop-blur-sm transition-opacity duration-300"></div>
        <div id="switcherContainer" class="relative bg-white dark:bg-gray-800 rounded-2xl max-w-4xl w-full max-h-[70vh] shadow-2xl transform scale-95 transition-all duration-300 ease-out overflow-hidden">
            <!-- æµ®åŠ¨çš„å…³é—­æŒ‰é’® -->
            <button id="closeSwitcherBtn" class="absolute top-3 right-3 z-10 w-8 h-8 rounded-full bg-black bg-opacity-30 hover:bg-opacity-50 text-white hover:text-gray-200 transition-all duration-200 flex items-center justify-center backdrop-blur-sm">
                <i class="fas fa-times text-sm"></i>
            </button>
            
            <!-- åº”ç”¨ç½‘æ ¼åŒºåŸŸ -->
            <div class="switcher-content h-full">
                <div id="switcherAppGrid" class="p-6 grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 gap-4 h-full">
                    <!-- åº”ç”¨å›¾æ ‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // åº”ç”¨æ•°æ®
        const apps = [
            {
                id: 'changganxinglv',
                name: 'é•·å¹²è¡Œæ—…',
                icon: 'fas fa-ship',
                gradient: 'from-indigo-500 to-violet-500',
                url: 'https://chineseclassics.github.io/changganxinglv.html',
                description: 'é«”é©—æç™½ã€Šé•·å¹²è¡Œã€‹ä¸­å•†äººèˆ‡å°‘å©¦çš„æ„›æƒ…æ•…äº‹ï¼Œåœ¨è§’è‰²æ‰®æ¼”ä¸­æ„Ÿå—å¤å…¸è©©æ­Œçš„æµªæ¼«èˆ‡æ·±æƒ…'
            },
            {
                id: 'diandianmobao',
                name: 'é»é»å¢¨å¯¶ï¼šæ¼¢å­—å­¸ç¿’',
                icon: 'fas fa-paint-brush',
                gradient: 'from-red-500 to-orange-500',
                url: 'https://chineseclassics.github.io/diandianmobao.html',
                description: 'é€šéç­†é †ç·´ç¿’ã€è¨˜æ†¶æŒ‘æˆ°å’Œéƒ¨é¦–çµ„å­—ç­‰å¤šå…ƒåŒ–éŠæˆ²ï¼Œç³»çµ±æ€§å­¸ç¿’æ¼¢å­—æ›¸å¯«èˆ‡çµæ§‹'
            },
            {
                id: 'changhenge',
                name: 'ã€Šé•·æ¨æ­Œã€‹è¨˜æ†¶å¡ç‰Œ',
                icon: 'fas fa-memory',
                gradient: 'from-yellow-500 to-amber-500',
                url: 'https://chineseclassics.github.io/changhengejiyi.html',
                description: 'ç¿»é–‹å¡ç‰Œé…å°ç™½å±…æ˜“ã€Šé•·æ¨æ­Œã€‹çš„è©©å¥èˆ‡é‡‹ç¾©ï¼Œåœ¨è¨˜æ†¶éŠæˆ²ä¸­æ¢ç´¢å”æ˜çš‡èˆ‡æ¥Šè²´å¦ƒçš„æ„›æƒ…æ‚²æ­Œ'
            },
            {
                id: 'leiyu',
                name: 'ã€Šé›·é›¨ã€‹é–ƒé›»',
                icon: 'fas fa-cloud-rain',
                gradient: 'from-blue-500 to-cyan-500',
                url: 'https://chineseclassics.github.io/leiyushandian.html',
                description: 'æ‰®æ¼”æ›¹ç¦ºã€Šé›·é›¨ã€‹ä¸­çš„ç¶“å…¸è§’è‰²èº²é¿å‘½é‹é–ƒé›»ï¼Œåœ¨è¡—æ©ŸéŠæˆ²ä¸­é«”é©—å®¶åº­æ‚²åŠ‡çš„æ–‡å­¸æ·±åº¦'
            },
            {
                id: 'shicizuju',
                name: 'è©©è©çµ„å¥éŠæˆ²',
                icon: 'fas fa-puzzle-piece',
                gradient: 'from-green-500 to-emerald-500',
                url: 'https://chineseclassics.github.io/shicizuju.html'
            },
            {
                id: 'cikeyishou',
                name: 'åˆºå®¢ä¹‹é“ 1.0',
                icon: 'fas fa-user-ninja',
                gradient: 'from-purple-500 to-pink-500',
                url: 'https://chineseclassics.github.io/cikezhidao.html',
                description: 'æ‰®æ¼”ã€Šå²è¨˜Â·åˆºå®¢åˆ—å‚³ã€‹ä¸­çš„äº”ä½å¤ä»£åˆºå®¢ï¼Œåœ¨ç”Ÿæ­»æŠ‰æ“‡ä¸­é«”é©—åƒç§‹ç¾©å‹‡èˆ‡æ­·å²é¢¨é›²'
            },
            {
                id: 'shiguangpintu',
                name: 'ã€Šé•·å¹²è¡Œã€‹æ™‚å…‰æ‹¼åœ–',
                icon: 'fas fa-hourglass-half',
                gradient: 'from-gray-600 to-gray-800',
                url: 'https://chineseclassics.github.io/changganxingshiguang.html',
                description: 'æ‹–å‹•æç™½ã€Šé•·å¹²è¡Œã€‹çš„è©©å¥å¡ç‰‡ï¼ŒæŒ‰æ™‚é–“é †åºé‡æ–°æ’åˆ—ï¼Œé«”é©—è©©ä¸­å¥³å­å¾ç«¥å¹´åˆ°æˆå¹´çš„æƒ…æ„Ÿæ™‚å…‰'
            },
            {
                id: 'nanfengtianci',
                name: 'å—é¢¨å¡«è©',
                icon: 'fas fa-pencil-alt',
                gradient: 'from-teal-500 to-green-400',
                url: 'https://chineseclassics.github.io/nanfengtianci.html',
                description: 'é«”é©—å¤å…¸å¡«è©è—è¡“ï¼Œåœ¨å¹³ä»„éŸ»å¾‹ä¸­å‰µä½œå±¬æ–¼ä½ çš„è©ç« ï¼Œé‚„æœ‰èƒŒèª¦æŒ‘æˆ°ç­‰ä½ ä¾†é—–é—œ'
            },
            {
                id: 'nanfengzuoshi',
                name: 'å—é¢¨ä½œè©©',
                icon: 'fas fa-feather-alt',
                gradient: 'from-indigo-400 to-blue-500',
                url: 'https://chineseclassics.github.io/nanfengzuoshi.html',
                description: 'åŸºæ–¼æ¬½å®šè©è­œçš„å¤å…¸å¡«è©å·¥å…·ï¼Œç”¨å‚³çµ±æ ¼å¾‹å‰µä½œä½ çš„è©ç« ï¼Œé‚„èƒ½ç”Ÿæˆç²¾ç¾çš„å¤é¢¨å£ç´™'
            },
            {
                id: 'yinzhangsheji',
                name: 'å°ç« è¨­è¨ˆ',
                icon: 'fas fa-stamp',
                gradient: 'from-red-600 to-rose-500',
                url: 'https://chineseclassics.github.io/sealdesgin.html',
                description: 'å°ˆæ¥­çš„ä¸­å¼å°ç« è¨­è¨ˆå·¥å…·ï¼Œæ”¯æ´é™°åˆ»é™½åˆ»ã€å¤šç¨®å¤å…¸å­—é«”é¸æ“‡ï¼Œå¯è‡ªç”±èª¿æ•´æ–‡å­—ä½ç½®å¤§å°ï¼Œä¸¦æä¾›ç¹ªåœ–åŠŸèƒ½å€‹æ€§åŒ–å‰µä½œ'
            },
            {
                id: 'mishijiangchun',
                name: 'è¿·å¤±æ±Ÿå—æ˜¥',
                icon: 'fas fa-tree',
                gradient: 'from-emerald-500 to-lime-400',
                url: 'https://chineseclassics.github.io/mishijiangnanchun.html',
                description: 'ç©¿è¶Šè˜‡æ­æ–‡åŒ–ä¹‹æ—…ï¼Œèˆ‡å¤ä»£äººç‰©å°è©±æ”¶é›†ç·šç´¢ï¼Œæ‰¾å‡ºéš±è—åœ¨ä¸åŒå ´æ™¯ä¸­çš„æ™‚ç©ºè¿·å¤±è€…'
            },
            {
                id: 'jiangluohua',
                name: 'æ±Ÿå—è½èŠ±',
                icon: 'fas fa-spa',
                gradient: 'from-pink-400 to-rose-300',
                url: 'https://chineseclassics.github.io/jiangnanluohua.html',
                description: 'é§•é§›å°èˆ¹èº²é¿ç´›é£›èŠ±æœµï¼Œæ”¶é›†ç‰¹æ®Šé“å…·ä¸¦æŒ‘æˆ°çŸ¥è­˜å•ç­”ï¼Œåœ¨è¡—æ©ŸéŠæˆ²ä¸­æ¢ç´¢æ±Ÿå—æ–‡åŒ–ä¹‹ç¾'
            },
            {
                id: 'wanwuxiaoyao',
                name: 'è¬ç‰©é€é™',
                icon: 'fas fa-leaf',
                gradient: 'from-amber-400 to-yellow-300',
                url: 'https://chineseclassics.github.io/wanwuxiaoyao.html',
                description: 'æ·±åº¦é«”é©—èŠå­å“²å­¸çš„ç‰©åŒ–ä¹‹é“ï¼Œå¾èŠå‘¨å¤¢è¶åˆ°æ¸¾æ²Œå¾©ç”Ÿï¼Œåœ¨ä¸ƒå€‹å“²å­¸ç« ç¯€ä¸­é ˜æ‚Ÿé€é™å¢ƒç•Œ'
            },
            {
                id: 'cilong',
                name: 'è²ªåƒé¾',
                icon: 'ğŸ‰',
                gradient: 'from-lime-400 to-green-500',
                url: 'https://chineseclassics.github.io/cilong.html',
                description: 'åœ¨ç¶“å…¸çš„è²ªåƒè›‡ç©æ³•ä¸­ï¼Œæ“æ§å‘†èŒé¾å¯¶æ”¶é›†æ¼¢å­—ï¼Œçµ„æˆè©èªï¼ŒæŒ‘æˆ°ä½ çš„è©å½™é‡å’Œåæ‡‰é€Ÿåº¦ã€‚'
            },
            {
                id: 'yimoji',
                name: 'æ„mojiï¼šè©©è©æ„è±¡é…å°',
                icon: 'fas fa-icons',
                gradient: 'from-violet-500 to-purple-400',
                url: 'https://chineseclassics.github.io/yimoji.html',
                description: 'å°‹æ‰¾ä¸‰å€‹èˆ‡è©©è©æ„è±¡æœ€ç›¸é—œçš„emojié€²è¡Œé…å°'
            },

            {
                id: 'yuexiaduzuo',
                name: 'æœˆä¸‹ç¨é…Œ',
                icon: 'fas fa-moon',
                gradient: 'from-slate-600 to-indigo-400',
                url: 'https://chineseclassics.github.io/yuexiaduzhuo.html',
                description: 'åŠ å…¥ã€Œæœˆä¸‹é›…é›†ã€ç¾¤èŠï¼Œèˆ‡æç™½ã€æœç”«ã€å«¦å¨¥ç­‰å¤ä»£è©©äººåœ¨å¾®ä¿¡ç¾¤ä¸­æš¢è«‡è©©é…’é¢¨æµ'
            },

            {
                id: 'shuyuanclassicchat',
                name: 'å¤ªè™›å¹»èŠ',
                icon: 'fas fa-comments',
                gradient: 'from-emerald-600 to-teal-500',
                url: 'https://chineseclassics.github.io/shuyuan-classic-chat.html',
                description: 'èˆ‡ç¶“å…¸äººç‰©çš„å¥‡å¦™å°è©±ï¼èˆ‡è©©äººå€‘åŸè©©ä½œå°ï¼Œå’Œå²å®¶æ¢è¨å¤ä»Šï¼Œèˆ‡å“²äººæ€è¾¨äººç”Ÿï¼Œé‚„èƒ½å’Œç¥è©±äººç‰©æš¢èŠå¥‡äº‹ã€‚åœ¨å¾®ä¿¡é¢¨æ ¼çš„èŠå¤©ç•Œé¢ä¸­ï¼Œè¦ªè¿‘ä¸­è¯ç¶“å…¸ï¼Œæ¿€ç™¼å­¸ç¿’èˆˆè¶£'
            }
        ];

        // çŠ¶æ€ç®¡ç†
        let currentApp = null;
        let currentView = 'home';

        // DOM å…ƒç´ 
        const homeView = document.getElementById('homeView');
        const appView = document.getElementById('appView');
        const appFrame = document.getElementById('appFrame');
        const loadingState = document.getElementById('loadingState');
        const errorState = document.getElementById('errorState');
        const currentAppName = document.getElementById('currentAppName');
        const appGrid = document.getElementById('appGrid');
        const switcherAppGrid = document.getElementById('switcherAppGrid');
        const appSwitcherModal = document.getElementById('appSwitcherModal');

        // ç®€å•çš„é¼ æ ‡æ‚¬åœä¿¡æ¯æ˜¾ç¤º
        let hoverInfo = null;
        let hoverTimeout = null;

        // åˆ›å»ºæ‚¬åœä¿¡æ¯æ¡†
        function createHoverInfo(description) {
            const info = document.createElement('div');
            info.style.cssText = `
                position: fixed;
                background: rgba(0, 0, 0, 0.9);
                color: white;
                padding: 8px 12px;
                border-radius: 6px;
                font-size: 14px;
                max-width: 300px;
                z-index: 10000;
                pointer-events: none;
                opacity: 0;
                transition: opacity 0.2s ease;
            `;
            info.textContent = description;
            document.body.appendChild(info);
            
            // æ˜¾ç¤ºåŠ¨ç”»
            setTimeout(() => info.style.opacity = '1', 10);
            
            return info;
        }

        // æ›´æ–°ä¿¡æ¯æ¡†ä½ç½®
        function updateHoverInfoPosition(e) {
            if (hoverInfo) {
                const x = e.clientX + 10;
                const y = e.clientY - 40;
                
                // ç®€å•è¾¹ç•Œæ£€æŸ¥
                const maxX = window.innerWidth - hoverInfo.offsetWidth - 10;
                const maxY = window.innerHeight - hoverInfo.offsetHeight - 10;
                
                hoverInfo.style.left = Math.min(x, maxX) + 'px';
                hoverInfo.style.top = Math.max(10, Math.min(y, maxY)) + 'px';
            }
        }

        // æ˜¾ç¤ºæ‚¬åœä¿¡æ¯
        function showHoverInfo(description, e) {
            hideHoverInfo();
            
            if (description) {
                hoverTimeout = setTimeout(() => {
                    hoverInfo = createHoverInfo(description);
                    updateHoverInfoPosition(e);
                }, 500);
            }
        }

        // éšè—æ‚¬åœä¿¡æ¯
        function hideHoverInfo() {
            if (hoverTimeout) {
                clearTimeout(hoverTimeout);
                hoverTimeout = null;
            }
            
            if (hoverInfo) {
                hoverInfo.style.opacity = '0';
                setTimeout(() => {
                    if (hoverInfo && hoverInfo.parentNode) {
                        hoverInfo.parentNode.removeChild(hoverInfo);
                    }
                    hoverInfo = null;
                }, 200);
            }
        }

        // æ¸²æŸ“æ‡‰ç”¨åœ–æ¨™ - å„ªåŒ–ç‰ˆ
        function renderAppIcon(app, isCompact = false) {
            const size = isCompact ? 'w-12 h-12' : 'aspect-square';
            const iconSize = isCompact ? 'text-xl' : 'text-4xl';
            const textSize = isCompact ? 'text-xs' : 'font-medium';

            const iconHtml = app.icon.startsWith('fas ')
                ? `<i class="${app.icon} text-white ${iconSize}" aria-hidden="true"></i>`
                : `<span class="${iconSize} text-white">${app.icon}</span>`;
            
            return `
                <button class="app-icon block w-full text-left no-underline text-gray-800 dark:text-gray-200 relative focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-2xl" 
                        data-app-id="${app.id}" 
                        onclick="openApp('${app.id}')"
                        onmouseenter="handleMouseEnter(event, '${app.id}')"
                        onmouseleave="handleMouseLeave()"
                        ontouchstart="handleTouchStart(event, '${app.id}')"
                        ontouchend="handleTouchEnd(event, '${app.id}')"
                        ontouchmove="handleTouchMove()"
                        aria-label="æ‰“é–‹ ${app.name} æ‡‰ç”¨">
                    <div class="bg-gradient-to-br ${app.gradient} rounded-2xl p-4 ${size} flex items-center justify-center shadow-lg">
                        ${iconHtml}
                    </div>
                    <p class="text-center mt-2 ${textSize}">${app.name}</p>
                </button>
            `;
        }

        // é¼ æ ‡è¿›å…¥äº‹ä»¶
        function handleMouseEnter(event, appId) {
            if (isMobile()) return; // ç§»åŠ¨ç«¯ä¸ä½¿ç”¨é¼ æ ‡æ‚¬åœ
            
            const app = apps.find(a => a.id === appId);
            if (app && app.description) {
                showHoverInfo(app.description, event);
            }
        }

        // é¼ æ ‡ç¦»å¼€äº‹ä»¶
        function handleMouseLeave() {
            if (!isMobile()) {
                hideHoverInfo();
            }
        }

        // ç§»åŠ¨ç«¯é•¿æŒ‰ç›¸å…³å˜é‡
        let longPressTimer = null;
        let isLongPress = false;
        let touchStartTime = 0;

        // è§¦æ‘¸å¼€å§‹äº‹ä»¶ï¼ˆç§»åŠ¨ç«¯ï¼‰
        function handleTouchStart(event, appId) {
            if (!isMobile()) return;
            
            const app = apps.find(a => a.id === appId);
            if (!app || !app.description) return;
            
            touchStartTime = Date.now();
            isLongPress = false;
            
            // è®¾ç½®é•¿æŒ‰å®šæ—¶å™¨ï¼ˆ500msï¼‰
            longPressTimer = setTimeout(() => {
                // è¿™æ˜¯é•¿æŒ‰ï¼Œæ˜¾ç¤ºæ‚¬åœä¿¡æ¯
                isLongPress = true;
                showHoverInfo(app.description, event);
                
                // è§¦è§‰åé¦ˆ
                if (navigator.vibrate) {
                    navigator.vibrate(50);
                }
            }, 500);
        }

        // è§¦æ‘¸ç»“æŸäº‹ä»¶
        function handleTouchEnd(event, appId) {
            if (!isMobile()) return;
            
            // æ¸…é™¤é•¿æŒ‰å®šæ—¶å™¨
            if (longPressTimer) {
                clearTimeout(longPressTimer);
                longPressTimer = null;
            }
            
            const touchDuration = Date.now() - touchStartTime;
            
            // å¦‚æœæ˜¯é•¿æŒ‰ï¼Œä¸æ‰§è¡Œæ‰“å¼€åº”ç”¨çš„æ“ä½œ
            if (isLongPress) {
                isLongPress = false;
                return;
            }
            
            // å¦‚æœæ˜¯çŸ­æŒ‰ä¸”å½“å‰æ²¡æœ‰æ˜¾ç¤ºä¿¡æ¯æ¡†ï¼Œæ­£å¸¸æ‰“å¼€åº”ç”¨
            if (touchDuration < 500 && !hoverInfo) {
                // è¿™é‡Œä¸é˜»æ­¢äº‹ä»¶ï¼Œè®©onclickæ­£å¸¸æ‰§è¡Œ
                return;
            }
            
            // å¦‚æœå½“å‰æœ‰ä¿¡æ¯æ¡†æ˜¾ç¤ºï¼Œç¬¬ä¸€æ¬¡ç‚¹å‡»éšè—ä¿¡æ¯æ¡†
            if (hoverInfo) {
                hideHoverInfo();
                event.preventDefault();
                return;
            }
        }

        // è§¦æ‘¸ç§»åŠ¨äº‹ä»¶ï¼ˆå–æ¶ˆé•¿æŒ‰ï¼‰
        function handleTouchMove() {
            if (longPressTimer) {
                clearTimeout(longPressTimer);
                longPressTimer = null;
            }
        }

        // ç‚¹å‡»å…¶ä»–åœ°æ–¹éšè—æ‚¬åœä¿¡æ¯
        document.addEventListener('click', (event) => {
            if (hoverInfo && !event.target.closest('.app-icon')) {
                hideHoverInfo();
            }
        });

        // å…¨å±€å‡½æ•°ä¾›HTMLè°ƒç”¨
        window.handleMouseEnter = handleMouseEnter;
        window.handleMouseLeave = handleMouseLeave;
        window.handleTouchStart = handleTouchStart;
        window.handleTouchEnd = handleTouchEnd;

        // æ¸²æŸ“åˆ‡æ¢å™¨åº”ç”¨å›¾æ ‡ï¼ˆä¼˜åŒ–ç‰ˆï¼‰
        function renderSwitcherAppIcon(app) {
            const iconHtml = app.icon.startsWith('fas ')
                ? `<i class="${app.icon} text-white text-lg"></i>`
                : `<span class="text-lg text-white">${app.icon}</span>`;

            return `
                <div class="switcher-app-icon text-center" 
                     data-app-id="${app.id}" 
                     onclick="openApp('${app.id}')">
                    <div class="icon-container bg-gradient-to-br ${app.gradient} rounded-xl p-3 w-14 h-14 flex items-center justify-center shadow-lg mx-auto mb-2">
                        ${iconHtml}
                    </div>
                    <p class="switcher-app-name text-center">${app.name}</p>
                </div>
            `;
        }

        // æ¸²æŸ“åº”ç”¨ç½‘æ ¼
        function renderApps() {
            appGrid.innerHTML = apps.map(app => renderAppIcon(app)).join('');
            switcherAppGrid.innerHTML = apps.map(app => renderSwitcherAppIcon(app)).join('');
        }

        // æ‰“å¼€åº”ç”¨
        function openApp(appId) {
            const app = apps.find(a => a.id === appId);
            if (!app) return;

            currentApp = app;
            currentView = 'app';
            // ä¿æŒå›ºå®šæ ‡é¢˜ï¼Œä¸æ”¹å˜æ–‡æœ¬å†…å®¹
            // currentAppName.textContent = app.name;

            // åˆ‡æ¢è§†å›¾
            homeView.classList.add('hidden');
            appView.classList.remove('hidden');

            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            loadingState.classList.remove('hidden');
            errorState.classList.add('hidden');

            // åŠ è½½iframe
            appFrame.src = app.url;

            // è®¾ç½®iframeé”™è¯¯å¤„ç†
            const timeoutId = setTimeout(() => {
                showError();
            }, 10000); // 10ç§’è¶…æ—¶

            appFrame.onload = () => {
                clearTimeout(timeoutId);
                setTimeout(() => {
                    loadingState.classList.add('hidden');
                }, 1000);
            };

            appFrame.onerror = () => {
                clearTimeout(timeoutId);
                showError();
            };

            // å…³é—­åº”ç”¨åˆ‡æ¢å™¨
            hideAppSwitcher();
        }

        // é¡¯ç¤ºéŒ¯èª¤ç‹€æ…‹ - å„ªåŒ–ç‰ˆ
        function showError() {
            loadingState.classList.add('hidden');
            errorState.classList.remove('hidden');
            
            // åœ¨æ–°æ¨™ç±¤é æ‰“é–‹
            document.getElementById('openInNewTabBtn').onclick = () => {
                window.open(currentApp.url, '_blank');
            };
            
            // é‡æ–°å˜—è©¦è¼‰å…¥
            document.getElementById('retryLoadBtn').onclick = () => {
                errorState.classList.add('hidden');
                loadingState.classList.remove('hidden');
                
                // é‡æ–°è¼‰å…¥iframe
                setTimeout(() => {
                    appFrame.src = currentApp.url + '?retry=' + Date.now();
                }, 500);
            };
        }

        // å›åˆ°é¦–é¡µ
        function showHome() {
            currentView = 'home';
            // ä¿æŒå›ºå®šæ ‡é¢˜ï¼Œä¸æ”¹å˜æ–‡æœ¬å†…å®¹
            // currentAppName.textContent = 'å¤ªè™›å¹»å¢ƒ';
            homeView.classList.remove('hidden');
            appView.classList.add('hidden');
            appFrame.src = 'about:blank';
            currentApp = null;
        }

        // äº‹ä»¶ç›‘å¬
        document.getElementById('homeBtn').onclick = showHome;
        
        // æ˜¾ç¤ºåº”ç”¨åˆ‡æ¢å™¨ï¼ˆå¸¦åŠ¨ç”»ï¼‰
        function showAppSwitcher() {
            appSwitcherModal.classList.add('switcher-modal-show');
            // é˜²æ­¢èƒŒæ™¯æ»šåŠ¨
            document.body.style.overflow = 'hidden';
        }

        // éšè—åº”ç”¨åˆ‡æ¢å™¨ï¼ˆå¸¦åŠ¨ç”»ï¼‰
        function hideAppSwitcher() {
            appSwitcherModal.classList.remove('switcher-modal-show');
            // æ¢å¤èƒŒæ™¯æ»šåŠ¨
            document.body.style.overflow = '';
        }

        document.getElementById('appSwitcherBtn').onclick = showAppSwitcher;
        
        document.getElementById('closeSwitcherBtn').onclick = hideAppSwitcher;

        // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
        appSwitcherModal.onclick = (e) => {
            if (e.target === appSwitcherModal) {
                hideAppSwitcher();
            }
        };

        // ESCé”®å…³é—­åˆ‡æ¢å™¨
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && appSwitcherModal.classList.contains('switcher-modal-show')) {
                hideAppSwitcher();
            }
        });

        // æ£€æŸ¥æ˜¯å¦æ˜¯ç§»åŠ¨è®¾å¤‡
        function isMobile() {
            return window.innerWidth <= 768;
        }

        // æ­¡è¿å¼¹çª—æ§åˆ¶ - å„ªåŒ–ç‰ˆ
        const welcomeModal = document.getElementById('welcomeModal');
        const startExploreBtn = document.getElementById('startExploreBtn');
        const skipWelcomeBtn = document.getElementById('skipWelcomeBtn');

        // æª¢æŸ¥æ˜¯å¦æ‡‰è©²é¡¯ç¤ºæ­¡è¿å¼¹çª—
        function shouldShowWelcome() {
            return true;
        }

        // éš±è—æ­¡è¿å¼¹çª—
        function hideWelcomeModal() {
            welcomeModal.style.opacity = '0';
            welcomeModal.style.transform = 'scale(0.95)';
            setTimeout(() => {
                welcomeModal.style.display = 'none';
                document.body.style.overflow = ''; // æ¢å¾©æ»¾å‹•
            }, 300);
        }

        // é»æ“Šé–‹å§‹æ¢ç´¢æŒ‰éˆ•
        startExploreBtn.onclick = hideWelcomeModal;
        
        // é»æ“Šè·³éæŒ‰éˆ•
        skipWelcomeBtn.onclick = hideWelcomeModal;

        // é é¢åŠ è¼‰æ™‚çš„é‚è¼¯ - å„ªåŒ–ç‰ˆ
        document.addEventListener('DOMContentLoaded', () => {
            // æª¢æŸ¥æ˜¯å¦éœ€è¦é¡¯ç¤ºæ­¡è¿å¼¹çª—
            if (shouldShowWelcome()) {
                // é˜²æ­¢èƒŒæ™¯æ»¾å‹•
                document.body.style.overflow = 'hidden';
                
                // å»¶é²300msé¡¯ç¤ºå‹•ç•«ï¼Œè®“é é¢å…ˆæ¸²æŸ“
                setTimeout(() => {
                    welcomeModal.style.opacity = '1';
                    welcomeModal.style.transform = 'scale(1)';
                }, 300);
            } else {
                // å¦‚æœä¸éœ€è¦é¡¯ç¤ºæ­¡è¿å¼¹çª—ï¼Œç›´æ¥éš±è—
                welcomeModal.style.display = 'none';
            }
        });

        // é˜»æ­¢ESCé”®å…³é—­æ¬¢è¿å¼¹çª—ï¼Œå› ä¸ºè¿™æ˜¯é¦–æ¬¡è®¿é—®å¿…çœ‹çš„å†…å®¹
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                // ä¼˜å…ˆå¤„ç†åº”ç”¨åˆ‡æ¢å™¨
                if (appSwitcherModal.classList.contains('switcher-modal-show')) {
                    hideAppSwitcher();
                }
                // ä¸å¤„ç†æ¬¢è¿å¼¹çª—çš„ESCï¼Œç”¨æˆ·å¿…é¡»ç‚¹å‡»æŒ‰é’®
            }
        });

        // éµç›¤å°èˆªæ”¯æ´
        document.addEventListener('keydown', (e) => {
            // ESCéµè™•ç†
            if (e.key === 'Escape') {
                // å„ªå…ˆè™•ç†æ‡‰ç”¨åˆ‡æ›å™¨
                if (appSwitcherModal.classList.contains('switcher-modal-show')) {
                    hideAppSwitcher();
                    return;
                }
                
                // å¦‚æœåœ¨æ‡‰ç”¨è¦–åœ–ä¸­ï¼Œè¿”å›é¦–é 
                if (currentView === 'app') {
                    showHome();
                    return;
                }
            }
            
            // Enteræˆ–Spaceéµè™•ç†èšç„¦çš„æ‡‰ç”¨åœ–æ¨™
            if ((e.key === 'Enter' || e.key === ' ') && e.target.classList.contains('app-icon')) {
                e.preventDefault();
                const appId = e.target.getAttribute('data-app-id');
                if (appId) {
                    openApp(appId);
                }
            }
        });

        // æ€§èƒ½å„ªåŒ–ï¼šä½¿ç”¨Intersection Observeræ‡¶è¼‰å…¥æ‡‰ç”¨æè¿°
        const observerOptions = {
            root: null,
            rootMargin: '50px',
            threshold: 0.1
        };

        const appIconObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const appIcon = entry.target;
                    const appId = appIcon.getAttribute('data-app-id');
                    const app = apps.find(a => a.id === appId);
                    
                    if (app && app.description) {
                        appIcon.setAttribute('data-loaded', 'true');
                    }
                }
            });
        }, observerOptions);

        // åˆå§‹åŒ–
        renderApps();
        
        // è§€å¯Ÿæ‰€æœ‰æ‡‰ç”¨åœ–æ¨™
        setTimeout(() => {
            document.querySelectorAll('.app-icon').forEach(icon => {
                appIconObserver.observe(icon);
            });
        }, 100);
    </script>
</body>
</html>
